!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=435)}([function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"f",function(){return s}),n.d(e,"c",function(){return c}),n.d(e,"e",function(){return l});var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function r(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}function s(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}},function(t,e,n){(function(e){t.exports=e.jQuery=n(84)}).call(this,n(32))},function(t,e,n){"use strict";function i(t){switch(Object.prototype.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return v(t,Error)}}function r(t){return"[object ErrorEvent]"===Object.prototype.toString.call(t)}function o(t){return"[object DOMError]"===Object.prototype.toString.call(t)}function a(t){return"[object DOMException]"===Object.prototype.toString.call(t)}function s(t){return"[object String]"===Object.prototype.toString.call(t)}function c(t){return null===t||"object"!=typeof t&&"function"!=typeof t}function l(t){return"[object Object]"===Object.prototype.toString.call(t)}function u(t){return"undefined"!=typeof Event&&v(t,Event)}function d(t){return"undefined"!=typeof Element&&v(t,Element)}function p(t){return"[object RegExp]"===Object.prototype.toString.call(t)}function f(t){return Boolean(t&&t.then&&"function"==typeof t.then)}function h(t){return l(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function v(t,e){try{return t instanceof e}catch(t){return!1}}n.d(e,"d",function(){return i}),n.d(e,"e",function(){return r}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"k",function(){return s}),n.d(e,"i",function(){return c}),n.d(e,"h",function(){return l}),n.d(e,"f",function(){return u}),n.d(e,"c",function(){return d}),n.d(e,"j",function(){return p}),n.d(e,"m",function(){return f}),n.d(e,"l",function(){return h}),n.d(e,"g",function(){return v})},function(t,e,n){"use strict";(function(t){n.d(e,"e",function(){return o}),n.d(e,"i",function(){return a}),n.d(e,"h",function(){return s}),n.d(e,"d",function(){return c}),n.d(e,"c",function(){return l}),n.d(e,"b",function(){return u}),n.d(e,"a",function(){return d}),n.d(e,"f",function(){return p}),n.d(e,"g",function(){return h});var i=n(39),r=(n(23),{});function o(){return Object(i.b)()?t:"undefined"!=typeof window?window:"undefined"!=typeof self?self:r}function a(){var t=o(),e=t.crypto||t.msCrypto;if(void 0!==e&&e.getRandomValues){var n=new Uint16Array(8);e.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var i=function(t){for(var e=t.toString(16);e.length<4;)e="0"+e;return e};return i(n[0])+i(n[1])+i(n[2])+i(n[3])+i(n[4])+i(n[5])+i(n[6])+i(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})}function s(t){if(!t)return{};var e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};var n=e[6]||"",i=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+n+i}}function c(t){if(t.message)return t.message;if(t.exception&&t.exception.values&&t.exception.values[0]){var e=t.exception.values[0];return e.type&&e.value?e.type+": "+e.value:e.type||e.value||t.event_id||"<unknown>"}return t.event_id||"<unknown>"}function l(t){var e=o();if(!("console"in e))return t();var n=e.console,i={};["debug","info","warn","error","log","assert"].forEach(function(t){t in e.console&&n[t].__sentry_original__&&(i[t]=n[t],n[t]=n[t].__sentry_original__)});var r=t();return Object.keys(i).forEach(function(t){n[t]=i[t]}),r}function u(t,e,n){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].value=t.exception.values[0].value||e||"",t.exception.values[0].type=t.exception.values[0].type||n||"Error"}function d(t,e){void 0===e&&(e={});try{t.exception.values[0].mechanism=t.exception.values[0].mechanism||{},Object.keys(e).forEach(function(n){t.exception.values[0].mechanism[n]=e[n]})}catch(t){}}function p(){try{return document.location.href}catch(t){return""}}var f=6e4;function h(t,e){if(!e)return f;var n=parseInt(""+e,10);if(!isNaN(n))return 1e3*n;var i=Date.parse(""+e);return isNaN(i)?f:i-t}}).call(this,n(32))},,function(t,e,n){"use strict";(function(t){n.d(e,"c",function(){return l}),n.d(e,"f",function(){return u}),n.d(e,"e",function(){return f}),n.d(e,"d",function(){return g}),n.d(e,"b",function(){return m}),n.d(e,"a",function(){return y});var i=n(0),r=n(40),o=n(2),a=n(73),s=n(20),c=n(23);function l(t,e,n){if(e in t){var i=t[e],r=n(i);if("function"==typeof r)try{r.prototype=r.prototype||{},Object.defineProperties(r,{__sentry_original__:{enumerable:!1,value:i}})}catch(t){}t[e]=r}}function u(t){return Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")}function d(t){if(Object(o.d)(t)){var e=t,n={message:e.message,name:e.name,stack:e.stack};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}if(Object(o.f)(t)){var a=t,s={};s.type=a.type;try{s.target=Object(o.c)(a.target)?Object(r.a)(a.target):Object.prototype.toString.call(a.target)}catch(t){s.target="<unknown>"}try{s.currentTarget=Object(o.c)(a.currentTarget)?Object(r.a)(a.currentTarget):Object.prototype.toString.call(a.currentTarget)}catch(t){s.currentTarget="<unknown>"}for(var i in"undefined"!=typeof CustomEvent&&Object(o.g)(t,CustomEvent)&&(s.detail=a.detail),a)Object.prototype.hasOwnProperty.call(a,i)&&(s[i]=a);return s}return t}function p(t){return function(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(t))}function f(t,e,n){void 0===e&&(e=3),void 0===n&&(n=102400);var i=g(t,e);return p(i)>n?f(t,e-1,n):i}function h(e,n){return"domain"===n&&e&&"object"==typeof e&&e._events?"[Domain]":"domainEmitter"===n?"[DomainEmitter]":void 0!==t&&e===t?"[Global]":"undefined"!=typeof window&&e===window?"[Window]":"undefined"!=typeof document&&e===document?"[Document]":Object(o.l)(e)?"[SyntheticEvent]":"number"==typeof e&&e!=e?"[NaN]":void 0===e?"[undefined]":"function"==typeof e?"[Function: "+Object(s.a)(e)+"]":"symbol"==typeof e?"["+String(e)+"]":"bigint"==typeof e?"[BigInt: "+String(e)+"]":e}function v(t,e,n,i){if(void 0===n&&(n=1/0),void 0===i&&(i=new a.a),0===n)return function(t){var e=Object.prototype.toString.call(t);if("string"==typeof t)return t;if("[object Object]"===e)return"[Object]";if("[object Array]"===e)return"[Array]";var n=h(t);return Object(o.i)(n)?n:e}(e);if(null!==e&&void 0!==e&&"function"==typeof e.toJSON)return e.toJSON();var r=h(e,t);if(Object(o.i)(r))return r;var s=d(e),c=Array.isArray(e)?[]:{};if(i.memoize(e))return"[Circular ~]";for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(c[l]=v(l,s[l],n-1,i));return i.unmemoize(e),c}function g(t,e){try{return JSON.parse(JSON.stringify(t,function(t,n){return v(t,n,e)}))}catch(t){return"**non-serializable**"}}function m(t,e){void 0===e&&(e=40);var n=Object.keys(d(t));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=e)return Object(c.d)(n[0],e);for(var i=n.length;i>0;i--){var r=n.slice(0,i).join(", ");if(!(r.length>e))return i===n.length?r:Object(c.d)(r,e)}return""}function y(t){var e,n;if(Object(o.h)(t)){var r=t,a={};try{for(var s=Object(i.f)(Object.keys(r)),c=s.next();!c.done;c=s.next()){var l=c.value;void 0!==r[l]&&(a[l]=y(r[l]))}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return a}return Array.isArray(t)?t.map(y):t}}).call(this,n(32))},function(t,e,n){"use strict";n.d(e,"a",function(){return f}),n.d(e,"d",function(){return v}),n.d(e,"b",function(){return g}),n.d(e,"c",function(){return y});var i=n(0),r=n(3),o=n(105),a=n(12),s=n(39),c=n(37),l=n(78),u=n(5),d=function(){function t(t){this.errors=0,this.sid=Object(r.i)(),this.timestamp=Date.now(),this.started=Date.now(),this.duration=0,this.status=l.a.Ok,t&&this.update(t)}return t.prototype.update=function(t){void 0===t&&(t={}),t.user&&(t.user.ip_address&&(this.ipAddress=t.user.ip_address),t.did||(this.did=t.user.id||t.user.email||t.user.username)),this.timestamp=t.timestamp||Date.now(),t.sid&&(this.sid=32===t.sid.length?t.sid:Object(r.i)()),t.did&&(this.did=""+t.did),"number"==typeof t.started&&(this.started=t.started),"number"==typeof t.duration?this.duration=t.duration:this.duration=this.timestamp-this.started,t.release&&(this.release=t.release),t.environment&&(this.environment=t.environment),t.ipAddress&&(this.ipAddress=t.ipAddress),t.userAgent&&(this.userAgent=t.userAgent),"number"==typeof t.errors&&(this.errors=t.errors),t.status&&(this.status=t.status)},t.prototype.close=function(t){t?this.update({status:t}):this.status===l.a.Ok?this.update({status:l.a.Exited}):this.update()},t.prototype.toJSON=function(){return Object(u.a)({sid:""+this.sid,init:!0,started:new Date(this.started).toISOString(),timestamp:new Date(this.timestamp).toISOString(),status:this.status,errors:this.errors,did:"number"==typeof this.did||"string"==typeof this.did?""+this.did:void 0,duration:this.duration,attrs:Object(u.a)({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},t}(),p=3,f=function(){function t(t,e,n){void 0===e&&(e=new c.a),void 0===n&&(n=p),this._version=n,this._stack=[{}],this.getStackTop().scope=e,this.bindClient(t)}return t.prototype.isOlderThan=function(t){return this._version<t},t.prototype.bindClient=function(t){this.getStackTop().client=t,t&&t.setupIntegrations&&t.setupIntegrations()},t.prototype.pushScope=function(){var t=c.a.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t},t.prototype.popScope=function(){return!(this.getStack().length<=1)&&!!this.getStack().pop()},t.prototype.withScope=function(t){var e=this.pushScope();try{t(e)}finally{this.popScope()}},t.prototype.getClient=function(){return this.getStackTop().client},t.prototype.getScope=function(){return this.getStackTop().scope},t.prototype.getStack=function(){return this._stack},t.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},t.prototype.captureException=function(t,e){var n=this._lastEventId=Object(r.i)(),o=e;if(!e){var a=void 0;try{throw new Error("Sentry syntheticException")}catch(t){a=t}o={originalException:t,syntheticException:a}}return this._invokeClient("captureException",t,Object(i.a)(Object(i.a)({},o),{event_id:n})),n},t.prototype.captureMessage=function(t,e,n){var o=this._lastEventId=Object(r.i)(),a=n;if(!n){var s=void 0;try{throw new Error(t)}catch(t){s=t}a={originalException:t,syntheticException:s}}return this._invokeClient("captureMessage",t,e,Object(i.a)(Object(i.a)({},a),{event_id:o})),o},t.prototype.captureEvent=function(t,e){var n=this._lastEventId=Object(r.i)();return this._invokeClient("captureEvent",t,Object(i.a)(Object(i.a)({},e),{event_id:n})),n},t.prototype.lastEventId=function(){return this._lastEventId},t.prototype.addBreadcrumb=function(t,e){var n=this.getStackTop(),a=n.scope,s=n.client;if(a&&s){var c=s.getOptions&&s.getOptions()||{},l=c.beforeBreadcrumb,u=void 0===l?null:l,d=c.maxBreadcrumbs,p=void 0===d?100:d;if(!(p<=0)){var f=Object(o.a)(),h=Object(i.a)({timestamp:f},t),v=u?Object(r.c)(function(){return u(h,e)}):h;null!==v&&a.addBreadcrumb(v,Math.min(p,100))}}},t.prototype.setUser=function(t){var e=this.getScope();e&&e.setUser(t)},t.prototype.setTags=function(t){var e=this.getScope();e&&e.setTags(t)},t.prototype.setExtras=function(t){var e=this.getScope();e&&e.setExtras(t)},t.prototype.setTag=function(t,e){var n=this.getScope();n&&n.setTag(t,e)},t.prototype.setExtra=function(t,e){var n=this.getScope();n&&n.setExtra(t,e)},t.prototype.setContext=function(t,e){var n=this.getScope();n&&n.setContext(t,e)},t.prototype.configureScope=function(t){var e=this.getStackTop(),n=e.scope,i=e.client;n&&i&&t(n)},t.prototype.run=function(t){var e=v(this);try{t(this)}finally{v(e)}},t.prototype.getIntegration=function(t){var e=this.getClient();if(!e)return null;try{return e.getIntegration(t)}catch(e){return a.a.warn("Cannot retrieve integration "+t.id+" from the current Hub"),null}},t.prototype.startSpan=function(t){return this._callExtensionMethod("startSpan",t)},t.prototype.startTransaction=function(t,e){return this._callExtensionMethod("startTransaction",t,e)},t.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},t.prototype.startSession=function(t){this.endSession();var e=this.getStackTop(),n=e.scope,r=e.client,o=r&&r.getOptions()||{},a=o.release,s=o.environment,c=new d(Object(i.a)(Object(i.a)({release:a,environment:s},n&&{user:n.getUser()}),t));return n&&n.setSession(c),c},t.prototype.endSession=function(){var t=this.getStackTop(),e=t.scope,n=t.client;if(e){var i=e.getSession&&e.getSession();i&&(i.close(),n&&n.captureSession&&n.captureSession(i),e.setSession())}},t.prototype._invokeClient=function(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this.getStackTop(),a=o.scope,s=o.client;s&&s[t]&&(e=s)[t].apply(e,Object(i.e)(n,[a]))},t.prototype._callExtensionMethod=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=h().__SENTRY__;if(i&&i.extensions&&"function"==typeof i.extensions[t])return i.extensions[t].apply(this,e);a.a.warn("Extension method "+t+" couldn't be found, doing nothing.")},t}();function h(){var t=Object(r.e)();return t.__SENTRY__=t.__SENTRY__||{extensions:{},hub:void 0},t}function v(t){var e=h(),n=y(e);return b(e,t),n}function g(){var t=h();return m(t)&&!y(t).isOlderThan(p)||b(t,new f),Object(s.b)()?function(t){try{var e=(i=h().__SENTRY__)&&i.extensions&&i.extensions.domain&&i.extensions.domain.active;if(!e)return y(t);if(!m(e)||y(e).isOlderThan(p)){var n=y(t).getStackTop();b(e,new f(n.client,c.a.clone(n.scope)))}return y(e)}catch(e){return y(t)}var i}(t):y(t)}function m(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function y(t){return t&&t.__SENTRY__&&t.__SENTRY__.hub?t.__SENTRY__.hub:(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=new f,t.__SENTRY__.hub)}function b(t,e){return!!t&&(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=e,!0)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IloveEvent=void 0;var i=function(){return function(t,e){void 0===e&&(e=null),this.name=t,this.detail=e}}();e.IloveEvent=i},function(t,e,n){"use strict";(function(t){var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.Lang=void 0;var a=o(n(86)),s=function(){function e(){}return e.t=function(t,e){var n="iloveLang";return e&&e.source&&(n=e.source),window[n]&&window[n][t]&&(t=window[n][t]),t=this.tr(t,e)},e.tr=function(e,n){return null!=n&&t.each(n,function(t,n){e=(e=e.replace("${"+t+"}",n)).replace("{"+t+"}",n)}),e},e.w=function(n,i){void 0===n&&(n="translate"),t("."+n).each(function(){var n=t(this).html();t(this).html(e.t(n,i))}),t("#"+n).each(function(){var n=t(this).html();t(this).html(e.t(n,i))})},e.fontsForWritingSystem=function(t){switch(t){case"latin":return["arial","verdana","courier","comic","times-new-roman","impact","arial-unicode-ms"];case"indic":return["lohit-marathi","lohit-devanagari","arial-unicode-ms"];case"unknown":default:return["arial-unicode-ms"]}},e.getFontsInfo=function(){var t=window.fonts;if(!t)throw"[Lang Service] You have to load the fonts information from the backend to use this method";return t},e.loadAllFonts=function(){for(var t in window.fonts)window.fonts.hasOwnProperty(t)&&"arial"!=t&&this.loadFont(t)},e.loadFont=function(t){t in this.loadedFonts||(a.lazyloadCss("/font/"+t+".css"),this.loadedFonts[t]=!0)},e.hasHindiCharacters=function(t){return t.split("").filter(function(t){var e=t.charCodeAt();return e>=2309&&e<=2361}).length>0},e.hasJapanCharacters=function(t){return/[\u3000-\u303f]|[\u3040-\u309f]|[\u30a0-\u30ff]|[\uff00-\uff9f]|[\u4e00-\u9faf]|[\u3400-\u4dbf]/.test(t)},e.hasChineseCharacters=function(t){return/[\u4e00-\u9fff]|[\u3400-\u4dbf]|[\uf900-\ufaff]|[\u3300-\u33ff]|[\ufe30-\ufe4f]|[\uf900-\ufaff]/.test(t)},e.hasKoreanCharacters=function(t){return/[\uac00-\uafff]|[\ub000-\ubfff]/.test(t)},e.hasArabicCharacters=function(t){return/[\u0600-\u06FF]|[\u0750-\u077F]/.test(t)},e.hasGreekCharacters=function(t){return/[\u0370-\u03FF]|[\u1F00-\u1FFF]/.test(t)},e.hasCyrillicCharacters=function(t){return/[\u0400-\u04FF]|[\u0500-\u052F]/.test(t)},e.hasCommonLatinCharacters=function(t){return!1},e.keyCodeToWritingSystem=function(t){for(var e in this.writingSystemCharacterRanges)for(var n=this.writingSystemCharacterRanges[e],i=0;i<n.length;i++){var r=n[i],o=r[0],a=r[1];if(t>=o&&t<=a)return e}return"unknown"},e.detectWritingSystems=function(t){if(0===t.length)return[];for(var e={},n=0;n<t.length;n++){e[this.keyCodeToWritingSystem(t.charCodeAt(n))]=!0}return Object.keys(e)},e.loadedFonts={},e.FALLBACK_FONT_FAMILY="arial-unicode-ms",e.writingSystemCharacterRanges={latin:[[0,127],[128,255],[256,383],[384,591],[7680,7935],[9312,9471],[11360,11391],[42784,43007],[64256,64335],[65104,65135]],indic:[[2304,2431],[43232,43263]]},e}();e.Lang=s}).call(this,n(1))},function(t,e,n){"use strict";n.d(e,"c",function(){return a}),n.d(e,"d",function(){return s}),n.d(e,"b",function(){return c}),n.d(e,"e",function(){return l}),n.d(e,"a",function(){return u}),n.d(e,"f",function(){return d}),n.d(e,"h",function(){return p}),n.d(e,"j",function(){return f}),n.d(e,"g",function(){return h}),n.d(e,"i",function(){return v}),n.d(e,"k",function(){return g}),n.d(e,"m",function(){return m}),n.d(e,"l",function(){return y});var i=n(0),r=n(6);function o(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var o=Object(r.b)();if(o&&o[t])return o[t].apply(o,Object(i.e)(e));throw new Error("No hub defined or "+t+" was not found on the hub, please open a bug report.")}function a(t,e){var n;try{throw new Error("Sentry syntheticException")}catch(t){n=t}return o("captureException",t,{captureContext:e,originalException:t,syntheticException:n})}function s(t,e){var n;try{throw new Error(t)}catch(t){n=t}var r="string"!=typeof e?{captureContext:e}:void 0;return o("captureMessage",t,"string"==typeof e?e:void 0,Object(i.a)({originalException:t,syntheticException:n},r))}function c(t){return o("captureEvent",t)}function l(t){o("configureScope",t)}function u(t){o("addBreadcrumb",t)}function d(t,e){o("setContext",t,e)}function p(t){o("setExtras",t)}function f(t){o("setTags",t)}function h(t,e){o("setExtra",t,e)}function v(t,e){o("setTag",t,e)}function g(t){o("setUser",t)}function m(t){o("withScope",t)}function y(t,e){return o("startTransaction",Object(i.a)({},t),e)}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i,r={};n.r(r),n.d(r,"FunctionToString",function(){return o}),n.d(r,"InboundFilters",function(){return f});var o=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){i=Function.prototype.toString,Function.prototype.toString=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.__sentry_original__||this;return i.apply(n,t)}},t.id="FunctionToString",t}(),a=n(0),s=n(37),c=n(6),l=n(12),u=n(3),d=n(23),p=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],f=function(){function t(e){void 0===e&&(e={}),this._options=e,this.name=t.id}return t.prototype.setupOnce=function(){Object(s.b)(function(e){var n=Object(c.b)();if(!n)return e;var i=n.getIntegration(t);if(i){var r=n.getClient(),o=r?r.getOptions():{},a=i._mergeOptions(o);if(i._shouldDropEvent(e,a))return null}return e})},t.prototype._shouldDropEvent=function(t,e){return this._isSentryError(t,e)?(l.a.warn("Event dropped due to being internal Sentry Error.\nEvent: "+Object(u.d)(t)),!0):this._isIgnoredError(t,e)?(l.a.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+Object(u.d)(t)),!0):this._isDeniedUrl(t,e)?(l.a.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+Object(u.d)(t)+".\nUrl: "+this._getEventFilterUrl(t)),!0):!this._isAllowedUrl(t,e)&&(l.a.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+Object(u.d)(t)+".\nUrl: "+this._getEventFilterUrl(t)),!0)},t.prototype._isSentryError=function(t,e){if(!e.ignoreInternal)return!1;try{return t&&t.exception&&t.exception.values&&t.exception.values[0]&&"SentryError"===t.exception.values[0].type||!1}catch(t){return!1}},t.prototype._isIgnoredError=function(t,e){return!(!e.ignoreErrors||!e.ignoreErrors.length)&&this._getPossibleEventMessages(t).some(function(t){return e.ignoreErrors.some(function(e){return Object(d.a)(t,e)})})},t.prototype._isDeniedUrl=function(t,e){if(!e.denyUrls||!e.denyUrls.length)return!1;var n=this._getEventFilterUrl(t);return!!n&&e.denyUrls.some(function(t){return Object(d.a)(n,t)})},t.prototype._isAllowedUrl=function(t,e){if(!e.allowUrls||!e.allowUrls.length)return!0;var n=this._getEventFilterUrl(t);return!n||e.allowUrls.some(function(t){return Object(d.a)(n,t)})},t.prototype._mergeOptions=function(t){return void 0===t&&(t={}),{allowUrls:Object(a.e)(this._options.whitelistUrls||[],this._options.allowUrls||[],t.whitelistUrls||[],t.allowUrls||[]),denyUrls:Object(a.e)(this._options.blacklistUrls||[],this._options.denyUrls||[],t.blacklistUrls||[],t.denyUrls||[]),ignoreErrors:Object(a.e)(this._options.ignoreErrors||[],t.ignoreErrors||[],p),ignoreInternal:void 0===this._options.ignoreInternal||this._options.ignoreInternal}},t.prototype._getPossibleEventMessages=function(t){if(t.message)return[t.message];if(t.exception)try{var e=t.exception.values&&t.exception.values[0]||{},n=e.type,i=void 0===n?"":n,r=e.value,o=void 0===r?"":r;return[""+o,i+": "+o]}catch(e){return l.a.error("Cannot extract message for event "+Object(u.d)(t)),[]}return[]},t.prototype._getEventFilterUrl=function(t){try{if(t.stacktrace){var e=t.stacktrace.frames;return e&&e[e.length-1].filename||null}if(t.exception){var n=t.exception.values&&t.exception.values[0].stacktrace&&t.exception.values[0].stacktrace.frames;return n&&n[n.length-1].filename||null}return null}catch(e){return l.a.error("Cannot extract url for event "+Object(u.d)(t)),null}},t.id="InboundFilters",t}()},function(t,e,n){"use strict";n.d(e,"b",function(){return l}),n.d(e,"c",function(){return u}),n.d(e,"a",function(){return d});var i=n(0),r=n(9),o=n(51),a=n(3),s=n(12),c=0;function l(){return c>0}function u(t,e,n){if(void 0===e&&(e={}),"function"!=typeof t)return t;try{if(t.__sentry__)return t;if(t.__sentry_wrapped__)return t.__sentry_wrapped__}catch(e){return t}var o=function(){var o=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);var s=o.map(function(t){return u(t,e)});return t.handleEvent?t.handleEvent.apply(this,s):t.apply(this,s)}catch(t){throw c+=1,setTimeout(function(){c-=1}),Object(r.m)(function(n){n.addEventProcessor(function(t){var n=Object(i.a)({},t);return e.mechanism&&(Object(a.b)(n,void 0,void 0),Object(a.a)(n,e.mechanism)),n.extra=Object(i.a)(Object(i.a)({},n.extra),{arguments:o}),n}),Object(r.c)(t)}),t}};try{for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(o[s]=t[s])}catch(t){}t.prototype=t.prototype||{},o.prototype=t.prototype,Object.defineProperty(t,"__sentry_wrapped__",{enumerable:!1,value:o}),Object.defineProperties(o,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:t}});try{Object.getOwnPropertyDescriptor(o,"name").configurable&&Object.defineProperty(o,"name",{get:function(){return t.name}})}catch(t){}return o}function d(t){if(void 0===t&&(t={}),t.eventId)if(t.dsn){var e=document.createElement("script");e.async=!0,e.src=new o.a(t.dsn).getReportDialogEndpoint(t),t.onLoad&&(e.onload=t.onLoad),(document.head||document.body).appendChild(e)}else s.a.error("Missing dsn option in showReportDialog call");else s.a.error("Missing eventId option in showReportDialog call")}},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(3),r=Object(i.e)(),o="Sentry Logger ",a=function(){function t(){this._enabled=!1}return t.prototype.disable=function(){this._enabled=!1},t.prototype.enable=function(){this._enabled=!0},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&Object(i.c)(function(){r.console.log(o+"[Log]: "+t.join(" "))})},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&Object(i.c)(function(){r.console.warn(o+"[Warn]: "+t.join(" "))})},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&Object(i.c)(function(){r.console.error(o+"[Error]: "+t.join(" "))})},t}();r.__SENTRY__=r.__SENTRY__||{};var s=r.__SENTRY__.logger||(r.__SENTRY__.logger=new a)},function(t,e,n){"use strict";var i;n.r(e),n.d(e,"LogLevel",function(){return i}),n.d(e,"SessionStatus",function(){return o.a}),n.d(e,"Severity",function(){return a.a}),n.d(e,"Status",function(){return s.a}),n.d(e,"TransactionSamplingMethod",function(){return r}),function(t){t[t.None=0]="None",t[t.Error=1]="Error",t[t.Debug=2]="Debug",t[t.Verbose=3]="Verbose"}(i||(i={}));var r,o=n(78),a=n(33),s=n(62);!function(t){t.Explicit="explicitly_set",t.Sampler="client_sampler",t.Rate="client_rate",t.Inheritance="inheritance"}(r||(r={}))},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i,r=n(2);!function(t){t.PENDING="PENDING",t.RESOLVED="RESOLVED",t.REJECTED="REJECTED"}(i||(i={}));var o=function(){function t(t){var e=this;this._state=i.PENDING,this._handlers=[],this._resolve=function(t){e._setResult(i.RESOLVED,t)},this._reject=function(t){e._setResult(i.REJECTED,t)},this._setResult=function(t,n){e._state===i.PENDING&&(Object(r.m)(n)?n.then(e._resolve,e._reject):(e._state=t,e._value=n,e._executeHandlers()))},this._attachHandler=function(t){e._handlers=e._handlers.concat(t),e._executeHandlers()},this._executeHandlers=function(){if(e._state!==i.PENDING){var t=e._handlers.slice();e._handlers=[],t.forEach(function(t){t.done||(e._state===i.RESOLVED&&t.onfulfilled&&t.onfulfilled(e._value),e._state===i.REJECTED&&t.onrejected&&t.onrejected(e._value),t.done=!0)})}};try{t(this._resolve,this._reject)}catch(t){this._reject(t)}}return t.resolve=function(e){return new t(function(t){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.all=function(e){return new t(function(n,i){if(Array.isArray(e))if(0!==e.length){var r=e.length,o=[];e.forEach(function(e,a){t.resolve(e).then(function(t){o[a]=t,0===(r-=1)&&n(o)}).then(null,i)})}else n([]);else i(new TypeError("Promise.all requires an array as input."))})},t.prototype.then=function(e,n){var i=this;return new t(function(t,r){i._attachHandler({done:!1,onfulfilled:function(n){if(e)try{return void t(e(n))}catch(t){return void r(t)}else t(n)},onrejected:function(e){if(n)try{return void t(n(e))}catch(t){return void r(t)}else r(e)}})})},t.prototype.catch=function(t){return this.then(function(t){return t},t)},t.prototype.finally=function(e){var n=this;return new t(function(t,i){var r,o;return n.then(function(t){o=!1,r=t,e&&e()},function(t){o=!0,r=t,e&&e()}).then(function(){o?i(r):t(r)})})},t.prototype.toString=function(){return"[object SyncPromise]"},t}()},function(t,e,n){"use strict";(function(t){var n=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((i=i.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.UserModel=void 0;var r=function(){function e(t){void 0===t&&(t={}),this.loginUrl="auth",this.registerUrl="signup",this.sendResetPasswordEmailUrl="login/forgetpassword",Object.assign(this,t);var e="en-US"==window.lang?"":"/"+window.lang;this.domain=window.location.hostname+e}return Object.defineProperty(e,"userType",{get:function(){return e.isPremium()?"premium":e.isUser()?"user":"guest"},enumerable:!1,configurable:!0}),e.isTeamManaged=function(){var t=window.userModel;return t&&"member"==t.team_role},e.hasSubscription=function(){var t=window.userModel;return"object"==typeof t&&null!=t&&null!=t.current_subscription},e.prototype.login=function(e){var n="//"+this.domain+"/"+this.loginUrl;return new Promise(function(i,r){t.post(n,e,function(t){window.ilovepdfConfig&&(window.ilovepdfConfig.fileLimits=t.user.limits,window.ilovepdfConfig.userToken=t.token),i(t)}).fail(r)})},e.prototype.register=function(e){var n="//"+this.domain+"/"+this.registerUrl;return new Promise(function(i,r){t.post(n,e,function(t){i(t)}).fail(r)})},e.prototype.sendResetPasswordEmail=function(e){var n="//"+this.domain+"/"+this.sendResetPasswordEmailUrl;return new Promise(function(i,r){t.post(n,e,function(t){i(t)}).fail(r)})},e.isLoggedIn=function(){return!!window.userModel},e.get=function(){return window.userModel},e.set=function(t){window.userModel=t},e.logout=function(){document.location.href=t(".logout").attr("href")},e.isUser=function(){var t=e.get();return"object"==typeof t&&null!=t},e.isPremium=function(){return e.isRealPremium()},e.isPremiumTemp=function(){return window.ilovepdfConfig&&"premium"==window.ilovepdfConfig.levelTemp},e.isTempPremium=function(){return e.isPremiumTemp()},e.isRealPremium=function(){var t=window.userModel;return"object"==typeof t&&null!=t?t.premium:"object"==typeof t&&null!=t&&t.premium},e.canDoTrial=function(){var t=window.userModel;return"object"==typeof t&&null!=t?t.can_trial:!!window.uct},e.refresh=function(t){return void 0===t&&(t=null),n(this,void 0,void 0,function(){var n,r,o,a;return i(this,function(i){switch(i.label){case 0:return[4,fetch(t?"/user/info/"+t:"/user/info")];case 1:return n=i.sent(),a=(o=JSON).parse,[4,n.json()];case 2:return r=a.apply(o,[i.sent()]),e.set(r.user),[2]}})})},e.removeAds=function(){var t=document.getElementsByClassName("add");t&&Array.from(t).forEach(function(t){t.remove()})},e.updateUser=function(t){window.userModel=t,window.ilovepdfConfig&&(window.ilovepdfConfig.user=t),1==e.isRealPremium()&&e.removeAds()},e.serviceToken=function(){var t=window.userModel;return t?t.token:null},e}();e.UserModel=r}).call(this,n(1))},function(t,e,n){"use strict";n.r(e),n.d(e,"Severity",function(){return r.a}),n.d(e,"Status",function(){return o.a}),n.d(e,"addGlobalEventProcessor",function(){return a.b}),n.d(e,"addBreadcrumb",function(){return s.a}),n.d(e,"captureException",function(){return s.c}),n.d(e,"captureEvent",function(){return s.b}),n.d(e,"captureMessage",function(){return s.d}),n.d(e,"configureScope",function(){return s.e}),n.d(e,"getHubFromCarrier",function(){return c.c}),n.d(e,"getCurrentHub",function(){return c.b}),n.d(e,"Hub",function(){return c.a}),n.d(e,"makeMain",function(){return c.d}),n.d(e,"Scope",function(){return a.a}),n.d(e,"startTransaction",function(){return s.l}),n.d(e,"setContext",function(){return s.f}),n.d(e,"setExtra",function(){return s.g}),n.d(e,"setExtras",function(){return s.h}),n.d(e,"setTag",function(){return s.i}),n.d(e,"setTags",function(){return s.j}),n.d(e,"setUser",function(){return s.k}),n.d(e,"withScope",function(){return s.m}),n.d(e,"BrowserClient",function(){return l.a}),n.d(e,"injectReportDialog",function(){return u.a}),n.d(e,"eventFromException",function(){return d.a}),n.d(e,"eventFromMessage",function(){return d.b}),n.d(e,"defaultIntegrations",function(){return p.b}),n.d(e,"forceLoad",function(){return p.d}),n.d(e,"init",function(){return p.e}),n.d(e,"lastEventId",function(){return p.f}),n.d(e,"onLoad",function(){return p.g}),n.d(e,"showReportDialog",function(){return p.h}),n.d(e,"flush",function(){return p.c}),n.d(e,"close",function(){return p.a}),n.d(e,"wrap",function(){return p.i}),n.d(e,"SDK_NAME",function(){return f.a}),n.d(e,"SDK_VERSION",function(){return f.b}),n.d(e,"Integrations",function(){return _}),n.d(e,"Transports",function(){return m});var i=n(0),r=n(33),o=n(62),a=n(37),s=n(9),c=n(6),l=n(44),u=n(11),d=n(22),p=n(19),f=n(28),h=n(10),v=n(3),g=n(43),m=n(49),y={},b=Object(v.e)();b.Sentry&&b.Sentry.Integrations&&(y=b.Sentry.Integrations);var _=Object(i.a)(Object(i.a)(Object(i.a)({},y),h.a),g)},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.Tools=void 0;var i=n(8),r=function(){function e(){}return e.sleep=function(t){return new Promise(function(e,n){setTimeout(e,t)})},e.bytesToSize=function(t){if(0==t)return"0 Byte";var e=Math.floor(Math.log(t)/Math.log(1024));return(t/Math.pow(1024,e)).toFixed(2)+" "+["Bytes","KB","MB","GB","TB"][e]},e.mbytesToSize=function(t){return e.bytesToSize(1e6*t)},e.convertPointsToPixels=function(t){return t*(1+1/3)},e.strCapitalize=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},e.isRTL=function(){return t("body").hasClass("rtl")},e.isTextRTL=function(t){return new RegExp("^[^A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿Ⰰ-﬜﷾-﹯﻽-￿]*[֑-߿יִ-﷽ﹰ-ﻼ]").test(t)},Object.defineProperty(e,"textDirection",{get:function(){return e.isRTL()?"right":"left"},enumerable:!1,configurable:!0}),e.getClosestNumber=function(t,e){for(var n=Math.abs(e[0]-t),i=0,r=1;r<e.length;r++){var o=Math.abs(e[r]-t);o<n&&(i=r,n=o)}return e[i]},e.modalView=function(t){var n='<div class="modal fade" id="'+t.id+'" aria-labelledby="'+t.id+'Modal" tabindex="-1" role="dialog" aria-hidden="true"><div class="modal-dialog" role="document"><div class="modal-content">';return n="title"in t?n+'<div class="modal-header"><h4 class="modal-title">'+t.title+'</h4><button type="button" class="close" data-dismiss="modal">'+e.svgClose()+"</button></div>":n+'<div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close">'+e.svgClose()+"</button></div>","content"in t?n=n+'<div class="modal-body">'+t.content+"</div>":n+='<div class="modal-body"></div>',"btn"in t&&(n=n+'<div class="modal-footer"><button type="button" class="btn btn-link" data-dismiss="modal">'+t.btn+"</button></div>"),n+="</div></div></div>"},e.modalViewOk=function(t){return t.btn=i.Lang.t("Ok"),e.modalView(t)},e.setInputCursorAtTheEnd=function(t){var e=t.val().length;t.focus(),t[0].setSelectionRange(e,e)},e.svgClose=function(){return e.svgRemove(12,12)},e.svgRotate=function(t,e){return void 0===t&&(t=14),void 0===e&&(e=16),'<svg xmlns="http://www.w3.org/2000/svg" width="'+t+'" height="'+e+'" viewBox="0 0 14 16"><path d="M11.328 6.364l1.24-1.2c.79.98 1.283 2.113 1.433 3.288h-1.775c-.123-.735-.43-1.454-.896-2.088zm.896 3.778H14c-.15 1.175-.633 2.308-1.424 3.288l-1.24-1.2c.457-.634.765-1.344.888-2.088zm-.888 4.497C10.318 15.4 9.13 15.856 7.9 16v-1.716a5.31 5.31 0 0 0 2.162-.871l1.266 1.226zM6.152 2.595V0l4 3.846-4 3.76V4.302c-2.496.406-4.394 2.485-4.394 4.995s1.898 4.59 4.394 4.995V16C2.68 15.586 0 12.746 0 9.297s2.68-6.29 6.152-6.703z" fill="#383E45" fill-rule="evenodd"/></svg>'},e.svgRemove=function(t,e){return void 0===t&&(t=12),void 0===e&&(e=12),'<svg xmlns="http://www.w3.org/2000/svg" width="'+t+'" height="'+e+'" viewBox="0 0 12 12"><polygon fill="#383E45" fill-rule="evenodd" points="12 1.208 10.79 0 6 4.792 1.21 0 0 1.208 4.79 6 0 10.792 1.21 12 6 7.208 10.79 12 12 10.792 7.21 6"/></svg>'},e.svgArrowRight=function(t,e){return void 0===t&&(t=12),void 0===e&&(e=12),'<svg xmlns="http://www.w3.org/2000/svg" width="'+t+'" height="'+e+'" viewBox="0 0 448 512"><path d="M313.94 216H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h301.94v46.06c0 21.382 25.85 32.1 40.97 16.97l86.06-86.06c9.373-9.373 9.373-24.57 0-33.94l-86.06-86.06c-15.12-15.12-40.97-4.41-40.97 16.97V216z"/></svg>'},e.svgHome=function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="26" height="21"><path d="M22.028 12.67v6.468a1.08 1.08 0 0 1-1.083 1.083h-5.236c-.298 0-.542-.244-.542-.542v-5.056c0-.298-.244-.542-.542-.542h-3.25c-.298 0-.542.244-.542.542v5.056c0 .298-.244.542-.542.542H5.056a1.08 1.08 0 0 1-1.083-1.083V12.67a.54.54 0 0 1 .199-.42l8.486-6.987a.55.55 0 0 1 .691 0l8.486 6.987c.122.104.194.257.194.42zm3.774-2.75l-3.774-3.1V.56c0-.298-.244-.542-.542-.542h-2.528c-.298 0-.542.244-.542.542v3.277L14.377.5c-.8-.66-1.955-.66-2.753 0L.2 9.922c-.23.2-.262.533-.072.763l1.15 1.4c.2.23.533.262.763.072l10.617-8.743a.55.55 0 0 1 .691 0l10.617 8.743c.23.2.573.158.763-.072l1.15-1.4c.2-.235.153-.573-.077-.763z"/></svg>'},e.randomId=function(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(2,10)},e.colorpicker=function(e){var n=null;n=1==t(e).data("limit")?{preferredFormat:"hex",showPaletteOnly:!0,color:"blanchedalmond",palette:[["#000","#444","#666","#999","#ccc","#eee","#f3f3f3","#fff"],["#f00","#f90","#ff0","#0f0","#0ff","#00f","#90f","#f0f"],["#f4cccc","#fce5cd","#fff2cc","#d9ead3","#d0e0e3","#cfe2f3","#d9d2e9","#ead1dc"],["#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#9fc5e8","#b4a7d6","#d5a6bd"],["#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6fa8dc","#8e7cc3","#c27ba0"],["#c00","#e69138","#f1c232","#6aa84f","#45818e","#3d85c6","#674ea7","#a64d79"],["#900","#b45f06","#bf9000","#38761d","#134f5c","#0b5394","#351c75","#741b47"],["#600","#783f04","#7f6000","#274e13","#0c343d","#073763","#20124d","#4c1130"]]}:{allowEmpty:!0,showInitial:!0,preferredFormat:"hex"},1==t(e).data("input")&&(n.showInput=!0),1==t(e).data("empty")&&(n.allowEmpty=!0,1==t(e).data("limit")&&n.palette.push(["transparent"]),n.change=function(n){n=0===n._a?"transparent":n.toHexString(),t(e).val(n)}),1==t(e).data("inline")&&(n.flat=!0),1==t(e).data("aplha")&&(n.showAlpha=!0),n.clickoutFiresChange=!0;try{t(e).spectrum(n)}catch(e){}},e.isElementInView=function(e,n){return void 0===n&&(n=!1),0!=e.length&&(0==n?e.offset().top<t(window).height()&&e.offset().top+e.height()>60:e.offset().top+e.height()<t(window).height()&&e.offset().top>60)},e.keepInNumericBounds=function(t,e,n){return null!==t&&n<t&&(n=t),null!==e&&n>e&&(n=e),n},e.scrollControl=function(t,e,n){var i=0;t.scroll(function(){var r=t.scrollTop();r>i&&"function"==typeof n&&n(),i>r&&"function"==typeof e&&e(),i=r})},e.loadingFromPreviousStart=function(){var e=t(".fromPrevious");e.length>=0?e.css("display","flex"):(e=t('<div class="wait fromPrevious">'+i.Lang.t("previousTaskLoading")+"</div>"),t(".main").append(e),e.css("display","flex"))},e.loadingFromPreviousFail=function(){var e="<div><p>"+i.Lang.t("previousFail")+'</p><p></p><p><button class="btn" onclick="window.history.go(-1); return false;">'+i.Lang.t("previousFailBack")+'</button> <button class="btn btn--red" id="closePrevious">'+i.Lang.t("previousFailContinue")+"</button></p></div>";t(".fromPrevious").html(e).css("background-image","none")},e.loadingFromPreviousEnd=function(){t(".fromPrevious").remove()},e.serializeFormData=function(t){var e={};try{for(var n=0,i=t.entries();n<i.length;n++){var r=i[n],o=r[0],a=r[1];e[o]=a}}catch(t){}return e={info:"form data serialize failed"}},e.parseTemplate=function(e,n,i){return void 0===n&&(n=null),void 0===i&&(i="simple"),null!=n&&("simple"==i&&t.each(n,function(t,n){e=e.replace("{"+t+"}",n)}),"dollar"==i&&t.each(n,function(t,n){e=e.replace("${"+t+"}",n)})),e},e.isEmail=function(t){return!!/^\w+([\+\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w+)+$/.test(t)},e.getBrowserTimezone=function(){var t="UTC";if(window.Intl&&window.Intl.DateTimeFormat()){var e=window.Intl.DateTimeFormat().resolvedOptions().timeZone;e&&(t=e)}return t},e}();e.Tools=r}).call(this,n(1))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StateBase=void 0;var i=n(8),r=n(25),o=n(7),a=n(35),s=function(){function t(){var t=this;this.wasDomReadyExecutedBefore=!1,this.loadingElem=null,this.backdropElem=null,this.runTooltip=!0,this.showBackdrop=function(e,n,i){var r=t.appendBackdropElement();r.innerHTML="",e.classList.add("ilove-backdrop__content"),r.appendChild(e);var o=r.querySelector(".ilove-backdrop__title");o.querySelector(".ilove-backdrop__title__text").innerHTML=null!==n&&void 0!==n?n:"";var a=r.querySelector(".ilove-backdrop__subtitle");a.querySelector(".ilove-backdrop__subtitle__text").innerHTML=null!==i&&void 0!==i?i:"",r.classList.add("ilove-backdrop--visible"),t.domRoot.style.overflow="hidden",o.addEventListener("click",function(){t._backdrop_click_callback1&&t._backdrop_click_callback1()}),a.addEventListener("click",function(){t._backdrop_click_callback2&&t._backdrop_click_callback2()})},this.setBackdropCallback=function(e,n){t._backdrop_click_callback1=e,t._backdrop_click_callback2=n},this.clearBackdrop=function(){var e;null===(e=t.backdropElem)||void 0===e||e.classList.remove("ilove-backdrop--visible"),t.domRoot.style.overflow="",t.setBackdropCallback(null,null)},this._onLayoutTemplateLoaded=function(){t.ctx._onDomReady(t.domRoot),t.dispatchEvent(new o.IloveEvent("unsetContentAbandonment")),!0===t.runTooltip&&a.Tooltip.init(),t.onDomReady(),t.wasDomReadyExecutedBefore=!0},this.showLoadingScreen=function(){t.appendLoadingElement().classList.add("wait--visible"),t.domRoot.style.overflow="hidden"},this.clearLoadingScreen=function(){var e;null===(e=t.loadingElem)||void 0===e||e.classList.remove("wait--visible"),t.domRoot.style.overflow=""},this.goToPreviousStateButtonIsVisible=function(){var e=t.domStateRoot.querySelector(".dialog__back");return!!e&&!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},this.t=function(e,n){if(t._t){if(!(e in t._t))throw"Key '"+e+"' not found";return i.Lang.tr(t._t[e],n)}var r=t.domRoot.querySelector("[data-state='"+t.name+"'] .text-translations");if(!r)throw"Text translations for state '"+t.name+"' not found";if("html"===r.dataset.format){var o=r.querySelector("[data-key="+e+"]");if(!o)throw"Key '"+e+"' not found";var a=o.innerHTML;return i.Lang.tr(a,n)}if(t._t=JSON.parse(r.textContent),"object"!=typeof t._t)throw"Translation object not found";return t.t(e,n)},this.eventEmitter=new r.ILoveEventEmitter}return t.prototype.render=function(t){var e=this;if(this.domRoot=t,this.ctx.isInline)return this.showCurrentStateScreens(),void this._onLayoutTemplateLoaded();this.loadTemplateOn(this.LAYOUT_TEMPLATE_NAME,this.domRoot).then(function(){e.showLoadingScreen(),e.showCurrentStateScreens().then(e._onLayoutTemplateLoaded).catch(function(t){throw t})}).catch(function(t){throw"Problem loading template "+e.LAYOUT_TEMPLATE_NAME+": "+t})},t.prototype.reset=function(){},t.prototype.appendLoadingElement=function(){var t=this.domRoot;return this.loadingElem||(this.loadingElem=document.createElement("div"),this.loadingElem.classList.add("wait","wait--animated","wait--sm"),t.parentNode.appendChild(this.loadingElem)),this.loadingElem},t.prototype.appendBackdropElement=function(){var t=this.domRoot;return this.backdropElem||(this.backdropElem=document.createElement("div"),this.backdropElem.classList.add("ilove-backdrop","ilove-backdrop--animated","ilove-backdrop--sm"),t.parentNode.appendChild(this.backdropElem)),this.backdropElem},t.prototype.isTemplateAppended=function(t){return this.ctx.appendedTemplates.includes(t)},t.prototype.loadTemplateOn=function(t,e){var n=this;return this.isTemplateAppended(t)?Promise.resolve():new Promise(function(i,r){n.ctx.getTemplateViaAjax(t).then(function(r){n.ctx.appendedTemplates.push(t),e.innerHTML=r,i()},function(t){r()})})},t.prototype.showCurrentStateScreens=function(){this.domRoot.querySelectorAll("[data-state]").forEach(function(t){return t.style.display="none"});var t=this.domRoot.querySelector("[data-state='"+this.name+"']");if(!t)throw"Template container for '"+this.name+"' state not found";t.style.display="";var e=t.getAttribute("data-template-name");return e?this.loadTemplateOn(e,t):Promise.resolve()},t.prototype.changeScreen=function(t){this.domRoot.querySelectorAll("[data-state='"+this.name+"'] [data-screen]").forEach(function(t){t.style.display="none"});var e=this.domRoot.querySelector("[data-state="+this.name+"] [data-screen='"+t+"']");if(!e)throw"Screen '"+t+"' for state '"+this.name+"' not found";e.style.display="",this.currentScreen=e},t.prototype.setContext=function(t){this.ctx=t},Object.defineProperty(t.prototype,"domStateRoot",{get:function(){var t=this.domRoot.querySelector("[data-state="+this.name+"]");if(!t)throw"Dom State root for "+this.name+" not found";return t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dialogCloseBtn",{get:function(){return this.domStateRoot.querySelector(".dialog__close")},enumerable:!1,configurable:!0}),t.prototype.dispatchEvent=function(t){return this.eventEmitter.dispatchEvent(t)},t.prototype.addEventListener=function(t,e){return this.eventEmitter.addEventListener(t,e)},t}();e.StateBase=s},function(t,e,n){"use strict";n.d(e,"b",function(){return v}),n.d(e,"e",function(){return g}),n.d(e,"h",function(){return m}),n.d(e,"f",function(){return y}),n.d(e,"d",function(){return b}),n.d(e,"g",function(){return _}),n.d(e,"c",function(){return w}),n.d(e,"a",function(){return x}),n.d(e,"i",function(){return O});var i=n(10),r=n(57),o=n(6),a=n(3),s=n(14),c=n(44),l=n(11),u=n(53),d=n(52),p=n(54),f=n(55),h=n(56),v=[new i.a.InboundFilters,new i.a.FunctionToString,new u.a,new d.a,new p.a,new f.a,new h.a];function g(t){if(void 0===t&&(t={}),void 0===t.defaultIntegrations&&(t.defaultIntegrations=v),void 0===t.release){var e=Object(a.e)();e.SENTRY_RELEASE&&e.SENTRY_RELEASE.id&&(t.release=e.SENTRY_RELEASE.id)}void 0===t.autoSessionTracking&&(t.autoSessionTracking=!1),Object(r.a)(c.a,t),t.autoSessionTracking&&function(){var t=Object(a.e)(),e=Object(o.b)(),n="complete"===document.readyState,i=!1,r=function(){i&&n&&e.endSession()},s=function(){n=!0,r(),t.removeEventListener("load",s)};e.startSession(),n||t.addEventListener("load",s);try{var c=new PerformanceObserver(function(t,e){t.getEntries().forEach(function(t){"first-contentful-paint"===t.name&&t.startTime<l&&(e.disconnect(),i=!0,r())})}),l="hidden"===document.visibilityState?0:1/0;document.addEventListener("visibilitychange",function(t){l=Math.min(l,t.timeStamp)},{once:!0}),c.observe({type:"paint",buffered:!0})}catch(t){i=!0,r()}}()}function m(t){void 0===t&&(t={}),t.eventId||(t.eventId=Object(o.b)().lastEventId());var e=Object(o.b)().getClient();e&&e.showReportDialog(t)}function y(){return Object(o.b)().lastEventId()}function b(){}function _(t){t()}function w(t){var e=Object(o.b)().getClient();return e?e.flush(t):s.a.reject(!1)}function x(t){var e=Object(o.b)().getClient();return e?e.close(t):s.a.reject(!1)}function O(t){return Object(l.c)(t)()}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i="<anonymous>";function r(t){try{return t&&"function"==typeof t&&t.name||i}catch(t){return i}}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(0),r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){return t.__proto__=e,t}:function(t,e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n]);return t});var o=function(t){function e(e){var n=this.constructor,i=t.call(this,e)||this;return i.message=e,i.name=n.prototype.constructor.name,r(i,n.prototype),i}return Object(i.b)(e,t),e}(Error)},function(t,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"b",function(){return d}),n.d(e,"c",function(){return p});var i=n(0),r=n(33),o=n(3),a=n(14),s=n(2),c=n(30),l=n(24);function u(t,e,n){var i=p(e,n&&n.syntheticException||void 0,{attachStacktrace:t.attachStacktrace});return Object(o.a)(i,{handled:!0,type:"generic"}),i.level=r.a.Error,n&&n.event_id&&(i.event_id=n.event_id),a.a.resolve(i)}function d(t,e,n,i){void 0===n&&(n=r.a.Info);var o=f(e,i&&i.syntheticException||void 0,{attachStacktrace:t.attachStacktrace});return o.level=n,i&&i.event_id&&(o.event_id=i.event_id),a.a.resolve(o)}function p(t,e,n){var r;if(void 0===n&&(n={}),Object(s.e)(t)&&t.error)return t=t.error,r=Object(c.b)(Object(l.a)(t));if(Object(s.a)(t)||Object(s.b)(t)){var a=t,u=a.name||(Object(s.a)(a)?"DOMError":"DOMException"),d=a.message?u+": "+a.message:u;return r=f(d,e,n),Object(o.b)(r,d),"code"in a&&(r.tags=Object(i.a)(Object(i.a)({},r.tags),{"DOMException.code":""+a.code})),r}if(Object(s.d)(t))return r=Object(c.b)(Object(l.a)(t));if(Object(s.h)(t)||Object(s.f)(t)){var p=t;return r=Object(c.a)(p,e,n.rejection),Object(o.a)(r,{synthetic:!0}),r}return r=f(t,e,n),Object(o.b)(r,""+t,void 0),Object(o.a)(r,{synthetic:!0}),r}function f(t,e,n){void 0===n&&(n={});var i={message:t};if(n.attachStacktrace&&e){var r=Object(l.a)(e),o=Object(c.d)(r.stack);i.stacktrace={frames:o}}return i}},function(t,e,n){"use strict";n.d(e,"d",function(){return r}),n.d(e,"c",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"a",function(){return s});var i=n(2);function r(t,e){return void 0===e&&(e=0),"string"!=typeof t||0===e?t:t.length<=e?t:t.substr(0,e)+"..."}function o(t,e){var n=t,i=n.length;if(i<=150)return n;e>i&&(e=i);var r=Math.max(e-60,0);r<5&&(r=0);var o=Math.min(r+140,i);return o>i-5&&(o=i),o===i&&(r=Math.max(o-140,0)),n=n.slice(r,o),r>0&&(n="'{snip} "+n),o<i&&(n+=" {snip}"),n}function a(t,e){if(!Array.isArray(t))return"";for(var n=[],i=0;i<t.length;i++){var r=t[i];try{n.push(String(r))}catch(t){n.push("[value cannot be serialized]")}}return n.join(e)}function s(t,e){return!!Object(i.k)(t)&&(Object(i.j)(e)?e.test(t):"string"==typeof e&&-1!==t.indexOf(e))}},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var i=n(0),r="?",o=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,a=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,s=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,c=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,l=/\((\S*)(?::(\d+))(?::(\d+))\)/,u=/Minified React error #\d+;/i;function d(t){var e=null,n=0;t&&("number"==typeof t.framesToPop?n=t.framesToPop:u.test(t.message)&&(n=1));try{if(e=function(t){if(!t||!t.stacktrace)return null;for(var e,n=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,i=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\((.*)\))? in (.*):\s*$/i,o=t.stacktrace.split("\n"),a=[],s=0;s<o.length;s+=2){var c=null;(e=n.exec(o[s]))?c={url:e[2],func:e[3],args:[],line:+e[1],column:null}:(e=i.exec(o[s]))&&(c={url:e[6],func:e[3]||e[4],args:e[5]?e[5].split(","):[],line:+e[1],column:+e[2]}),c&&(!c.func&&c.line&&(c.func=r),a.push(c))}if(!a.length)return null;return{message:f(t),name:t.name,stack:a}}(t))return p(e,n)}catch(t){}try{if(e=function(t){if(!t||!t.stack)return null;for(var e,n,i,u=[],d=t.stack.split("\n"),p=0;p<d.length;++p){if(n=o.exec(d[p])){var h=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(e=l.exec(n[2]))&&(n[2]=e[1],n[3]=e[2],n[4]=e[3]),i={url:n[2]&&0===n[2].indexOf("address at ")?n[2].substr("address at ".length):n[2],func:n[1]||r,args:h?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=s.exec(d[p]))i={url:n[2],func:n[1]||r,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=a.exec(d[p])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(e=c.exec(n[3]))?(n[1]=n[1]||"eval",n[3]=e[1],n[4]=e[2],n[5]=""):0!==p||n[5]||void 0===t.columnNumber||(u[0].column=t.columnNumber+1),i={url:n[3],func:n[1]||r,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!i.func&&i.line&&(i.func=r),u.push(i)}if(!u.length)return null;return{message:f(t),name:t.name,stack:u}}(t))return p(e,n)}catch(t){}return{message:f(t),name:t&&t.name,stack:[],failed:!0}}function p(t,e){try{return Object(i.a)(Object(i.a)({},t),{stack:t.stack.slice(e)})}catch(e){return t}}function f(t){var e=t&&t.message;return e?e.error&&"string"==typeof e.error.message?e.error.message:e:"No error message"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILoveEventEmitter=void 0;var i=function(){function t(){this._eventEmitterCallbacks={}}return t.prototype.addEventListener=function(t,e){t in this._eventEmitterCallbacks||(this._eventEmitterCallbacks[t]=[]),this._eventEmitterCallbacks[t].push(e)},t.prototype.dispatchEvent=function(t){t.name in this._eventEmitterCallbacks&&this._eventEmitterCallbacks[t.name].forEach(function(e){return e(t)});var e=new Event(t.name);document.dispatchEvent(e)},t}();e.ILoveEventEmitter=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lazyload=void 0,e.lazyload=function(t,e,n){void 0===e&&(e={}),void 0===n&&(n="async");for(var i=document.getElementsByTagName("script"),r=i.length;r--;)if(i[r].src.match(t))return!0;var o=document.createElement("script");o.type="text/javascript",document.createElement("script");var a="defer"in document.createElement("script");for(var s in a&&(o.defer=!0),o.src=t,e)if(e.hasOwnProperty(s)){var c=e[s];o.setAttribute(s,c)}var l=document.getElementsByTagName("script")[0];return l.parentNode.insertBefore(o,l),!0}},function(t,e,n){var i;!function(r){"use strict";function o(t,e,n){var i,r=document.createElement("img");return r.onerror=function(i){return o.onerror(r,i,t,e,n)},r.onload=function(i){return o.onload(r,i,t,e,n)},"string"==typeof t?(o.fetchBlob(t,function(e){e&&o.isInstanceOf("Blob",e)?(t=e,i=o.createObjectURL(t)):(i=t,n&&n.crossOrigin&&(r.crossOrigin=n.crossOrigin)),r.src=i},n),r):o.isInstanceOf("Blob",t)||o.isInstanceOf("File",t)?(i=r._objectURL=o.createObjectURL(t))?(r.src=i,r):o.readFile(t,function(t){var n=t.target;n&&n.result?r.src=n.result:e&&e(t)}):void 0}var a=r.createObjectURL&&r||r.URL&&URL.revokeObjectURL&&URL||r.webkitURL&&webkitURL;function s(t,e){!t._objectURL||e&&e.noRevoke||(o.revokeObjectURL(t._objectURL),delete t._objectURL)}o.fetchBlob=function(t,e){e()},o.isInstanceOf=function(t,e){return Object.prototype.toString.call(e)==="[object "+t+"]"},o.transform=function(t,e,n,i,r){n(t,r)},o.onerror=function(t,e,n,i,r){s(t,r),i&&i.call(t,e)},o.onload=function(t,e,n,i,r){s(t,r),i&&o.transform(t,r,i,n,{originalWidth:t.naturalWidth||t.width,originalHeight:t.naturalHeight||t.height})},o.createObjectURL=function(t){return!!a&&a.createObjectURL(t)},o.revokeObjectURL=function(t){return!!a&&a.revokeObjectURL(t)},o.readFile=function(t,e,n){if(r.FileReader){var i=new FileReader;if(i.onload=i.onerror=e,i[n=n||"readAsDataURL"])return i[n](t),i}return!1},void 0===(i=function(){return o}.call(e,n,e,t))||(t.exports=i)}("undefined"!=typeof window&&window||this)},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r});var i="sentry.javascript.browser",r="5.30.0"},function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return o});var i=n(0);function r(t,e){return{body:JSON.stringify({sent_at:(new Date).toISOString()})+"\n"+JSON.stringify({type:"session"})+"\n"+JSON.stringify(t),type:"session",url:e.getEnvelopeEndpointWithUrlEncodedAuth()}}function o(t,e){var n=t.tags||{},r=n.__sentry_samplingMethod,o=n.__sentry_sampleRate,a=Object(i.d)(n,["__sentry_samplingMethod","__sentry_sampleRate"]);t.tags=a;var s="transaction"===t.type,c={body:JSON.stringify(t),type:t.type||"event",url:s?e.getEnvelopeEndpointWithUrlEncodedAuth():e.getStoreEndpointWithUrlEncodedAuth()};if(s){var l=JSON.stringify({event_id:t.event_id,sent_at:(new Date).toISOString()})+"\n"+JSON.stringify({type:t.type,sample_rates:[{id:r,rate:o}]})+"\n"+c.body;c.body=l}return c}},function(t,e,n){"use strict";n.d(e,"c",function(){return s}),n.d(e,"a",function(){return c}),n.d(e,"b",function(){return l}),n.d(e,"d",function(){return u});var i=n(2),r=n(5),o=n(24),a=50;function s(t){var e=u(t.stack),n={type:t.name,value:t.message};return e&&e.length&&(n.stacktrace={frames:e}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function c(t,e,n){var a={exception:{values:[{type:Object(i.f)(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:"Non-Error "+(n?"promise rejection":"exception")+" captured with keys: "+Object(r.b)(t)}]},extra:{__serialized__:Object(r.e)(t)}};if(e){var s=u(Object(o.a)(e).stack);a.stacktrace={frames:s}}return a}function l(t){return{exception:{values:[s(t)]}}}function u(t){if(!t||!t.length)return[];var e=t,n=e[0].func||"",i=e[e.length-1].func||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(e=e.slice(1)),-1!==i.indexOf("sentryWrapped")&&(e=e.slice(0,-1)),e.slice(0,a).map(function(t){return{colno:null===t.column?void 0:t.column,filename:t.url||e[0].url,function:t.func||"?",in_app:!0,lineno:null===t.line?void 0:t.line}}).reverse()}},function(t,e,n){"use strict";n.d(e,"a",function(){return v});var i,r=n(0),o=n(2),a=n(12),s=n(3),c=n(5),l=n(20),u=n(45),d=Object(s.e)(),p={},f={};function h(t){if(!f[t])switch(f[t]=!0,t){case"console":!function(){if(!("console"in d))return;["debug","info","warn","error","log","assert"].forEach(function(t){t in d.console&&Object(c.c)(d.console,t,function(e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];g("console",{args:n,level:t}),e&&Function.prototype.apply.call(e,d.console,n)}})})}();break;case"dom":!function(){if(!("document"in d))return;d.document.addEventListener("click",w("click",g.bind(null,"dom")),!1),d.document.addEventListener("keypress",x(g.bind(null,"dom")),!1),["EventTarget","Node"].forEach(function(t){var e=d[t]&&d[t].prototype;e&&e.hasOwnProperty&&e.hasOwnProperty("addEventListener")&&(Object(c.c)(e,"addEventListener",function(t){return function(e,n,i){return n&&n.handleEvent?("click"===e&&Object(c.c)(n,"handleEvent",function(t){return function(e){return w("click",g.bind(null,"dom"))(e),t.call(this,e)}}),"keypress"===e&&Object(c.c)(n,"handleEvent",function(t){return function(e){return x(g.bind(null,"dom"))(e),t.call(this,e)}})):("click"===e&&w("click",g.bind(null,"dom"),!0)(this),"keypress"===e&&x(g.bind(null,"dom"))(this)),t.call(this,e,n,i)}}),Object(c.c)(e,"removeEventListener",function(t){return function(e,n,i){try{t.call(this,e,n.__sentry_wrapped__,i)}catch(t){}return t.call(this,e,n,i)}}))})}();break;case"xhr":!function(){if(!("XMLHttpRequest"in d))return;var t=[],e=[],n=XMLHttpRequest.prototype;Object(c.c)(n,"open",function(n){return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var a=this,s=i[1];a.__sentry_xhr__={method:Object(o.k)(i[0])?i[0].toUpperCase():i[0],url:i[1]},Object(o.k)(s)&&"POST"===a.__sentry_xhr__.method&&s.match(/sentry_key/)&&(a.__sentry_own_request__=!0);var l=function(){if(4===a.readyState){try{a.__sentry_xhr__&&(a.__sentry_xhr__.status_code=a.status)}catch(t){}try{var n=t.indexOf(a);if(-1!==n){t.splice(n);var r=e.splice(n)[0];a.__sentry_xhr__&&void 0!==r[0]&&(a.__sentry_xhr__.body=r[0])}}catch(t){}g("xhr",{args:i,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:a})}};return"onreadystatechange"in a&&"function"==typeof a.onreadystatechange?Object(c.c)(a,"onreadystatechange",function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return l(),t.apply(a,e)}}):a.addEventListener("readystatechange",l),n.apply(a,i)}}),Object(c.c)(n,"send",function(n){return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return t.push(this),e.push(i),g("xhr",{args:i,startTimestamp:Date.now(),xhr:this}),n.apply(this,i)}})}();break;case"fetch":!function(){if(!Object(u.c)())return;Object(c.c)(d,"fetch",function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i={args:e,fetchData:{method:function(t){void 0===t&&(t=[]);if("Request"in d&&Object(o.g)(t[0],Request)&&t[0].method)return String(t[0].method).toUpperCase();if(t[1]&&t[1].method)return String(t[1].method).toUpperCase();return"GET"}(e),url:function(t){void 0===t&&(t=[]);if("string"==typeof t[0])return t[0];if("Request"in d&&Object(o.g)(t[0],Request))return t[0].url;return String(t[0])}(e)},startTimestamp:Date.now()};return g("fetch",Object(r.a)({},i)),t.apply(d,e).then(function(t){return g("fetch",Object(r.a)(Object(r.a)({},i),{endTimestamp:Date.now(),response:t})),t},function(t){throw g("fetch",Object(r.a)(Object(r.a)({},i),{endTimestamp:Date.now(),error:t})),t})}})}();break;case"history":!function(){if(!Object(u.b)())return;var t=d.onpopstate;function e(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.length>2?e[2]:void 0;if(r){var o=i,a=String(r);i=a,g("history",{from:o,to:a})}return t.apply(this,e)}}d.onpopstate=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=d.location.href,o=i;if(i=r,g("history",{from:o,to:r}),t)return t.apply(this,e)},Object(c.c)(d.history,"pushState",e),Object(c.c)(d.history,"replaceState",e)}();break;case"error":O=d.onerror,d.onerror=function(t,e,n,i,r){return g("error",{column:i,error:r,line:n,msg:t,url:e}),!!O&&O.apply(this,arguments)};break;case"unhandledrejection":S=d.onunhandledrejection,d.onunhandledrejection=function(t){return g("unhandledrejection",t),!S||S.apply(this,arguments)};break;default:a.a.warn("unknown instrumentation type:",t)}}function v(t){t&&"string"==typeof t.type&&"function"==typeof t.callback&&(p[t.type]=p[t.type]||[],p[t.type].push(t.callback),h(t.type))}function g(t,e){var n,i;if(t&&p[t])try{for(var o=Object(r.f)(p[t]||[]),s=o.next();!s.done;s=o.next()){var c=s.value;try{c(e)}catch(e){a.a.error("Error while triggering instrumentation handler.\nType: "+t+"\nName: "+Object(l.a)(c)+"\nError: "+e)}}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}var m,y,b=1e3,_=0;function w(t,e,n){return void 0===n&&(n=!1),function(i){m=void 0,i&&y!==i&&(y=i,_&&clearTimeout(_),n?_=setTimeout(function(){e({event:i,name:t})}):e({event:i,name:t}))}}function x(t){return function(e){var n;try{n=e.target}catch(t){return}var i=n&&n.tagName;i&&("INPUT"===i||"TEXTAREA"===i||n.isContentEditable)&&(m||w("input",t)(e),clearTimeout(m),m=setTimeout(function(){m=void 0},b))}}var O=null;var S=null},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var i;n.d(e,"a",function(){return i}),function(t){t.Fatal="fatal",t.Error="error",t.Warning="warning",t.Log="log",t.Info="info",t.Debug="debug",t.Critical="critical"}(i||(i={})),function(t){t.fromString=function(e){switch(e){case"debug":return t.Debug;case"info":return t.Info;case"warn":case"warning":return t.Warning;case"error":return t.Error;case"fatal":return t.Fatal;case"critical":return t.Critical;case"log":default:return t.Log}}}(i||(i={}))},function(t,e,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)r(n,i)&&(t[i]=n[i])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var o={arraySet:function(t,e,n,i,r){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+i),r);else for(var o=0;o<i;o++)t[r+o]=e[n+o]},flattenChunks:function(t){var e,n,i,r,o,a;for(i=0,e=0,n=t.length;e<n;e++)i+=t[e].length;for(a=new Uint8Array(i),r=0,e=0,n=t.length;e<n;e++)o=t[e],a.set(o,r),r+=o.length;return a}},a={arraySet:function(t,e,n,i,r){for(var o=0;o<i;o++)t[r+o]=e[n+o]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,o)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,a))},e.setTyped(i)},function(t,e,n){"use strict";(function(t){var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.Tooltip=void 0;var a=o(n(26)),s=n(75),c=function(){function e(){}return e.compat=function(){(-1!==navigator.appVersion.indexOf("MSIE 10")||navigator.userAgent.indexOf(" UCBrowser/")>=0||navigator.userAgent.indexOf("Opera Mini")>=0||navigator.userAgent.indexOf("Android")>=0&&parseFloat(navigator.userAgent.slice(navigator.userAgent.indexOf("Android")+8))>4.4)&&a.lazyload("//cdn.jsdelivr.net/npm/mutationobserver-shim/dist/mutationobserver.min.js")},e.init=function(n){void 0===n&&(n=null),window.tippy&&(null==n&&(n=".tooltip"),t(n).each(function(n,i){if(!t(i)[0]._tippy){window._tippyInstances=window._tippyInstances||[];var r=window.tippy(t(i)[0],e.getOptions(i));window._tippyInstances.push(r)}}),s.LinkTitle.disable(n),t(n).hover(function(){if(t(this).hasClass("rotate")||t(this).hasClass("remove"))try{var e=t(this).parent().parent()[0]._tippy;e&&(e.hide(),e.disable())}catch(t){}},function(){if(t(this).hasClass("rotate")||t(this).hasClass("remove"))try{var e=t(this).parent().parent()[0]._tippy;e&&e.enable()}catch(t){}}),t(".tooltip").on("mouseenter",function(t){t.preventDefault()}))},e.getOptions=function(n){var i={animation:"fade",delay:[0,0],offset:[0,20],allowHTML:!0,content:t(n).is("[data-title]")?t(n).attr("data-title"):t(n).attr("title"),arrow:!0,placement:e.getPlacement(n),showOnCreate:t(n).hasClass("tooltip--show"),hideOnClick:!t(n).hasClass("tooltip--fixed"),theme:t(n).is("[data-theme]")?t(n).attr("data-theme"):""};return t(n).is("[data-z]")&&(i.zIndex=t(n).attr("data-z")),i},e.getPlacement=function(e){var n=t(e);return n.hasClass("tooltip--top")?"top":n.hasClass("tooltip--top-start")?"top-start":n.hasClass("tooltip--top-end")?"top-end":n.hasClass("tooltip--bottom")?"bottom":n.hasClass("tooltip--left")?"left":n.hasClass("tooltip--right")?"right":"top"},e.setContent=function(n,i){if(1==t(n).length)return t(n).attr("title",i),t(n).attr("data-title",i),t(n)[0]._tippy?(t(n)[0]._tippy.hide(),void t(n)[0]._tippy.setContent(i)):void e.init(n);t(n).each(function(t,n){e.setContent(n,i)})},e.show=function(n,i){void 0===i&&(i=null);t(n)[0];if(0!=t(n).length){"_tippy"in t(n)[0]||e.init(t(n));var r=t(n)[0]._tippy;t(n).is(":disabled")?(t(n).attr("disabled",!1),r.show(),setTimeout(function(){t(n).attr("disabled",!0)},100)):r.show(),null!=i&&setTimeout(function(){t(n)[0]._tippy.hide()},i)}},e.shake=function(e){var n=t(e)[0]._tippy;window.setTimeout(function(){t(n.popper).children().addClass("shake")},500)},e.hide=function(e){try{t(e)[0]._tippy.hide()}catch(t){}},e.enable=function(n){if(1!=t(n).length)t(n).each(function(t,n){e.enable(n)});else try{t(n)[0]._tippy.enable()}catch(t){}},e.disable=function(n){if(1!=t(n).length)t(n).each(function(t,n){e.disable(n)});else try{t(n)[0]._tippy.hide(),t(n)[0]._tippy.disable()}catch(t){}},e.destroy=function(n){if(1!=t(n).length)t(n).each(function(t,n){e.destroy(n)});else try{t(n)}catch(t){}},e.wrapDisabled=function(e){t(e).wrap("<div class='tootlip-wrap'></div>")},e}();e.Tooltip=c,window.tootip=c}).call(this,n(1))},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var i=n(0),r=n(51),o=n(62),a=n(21),s=n(14),c=function(){function t(t){this._limit=t,this._buffer=[]}return t.prototype.isReady=function(){return void 0===this._limit||this.length()<this._limit},t.prototype.add=function(t){var e=this;return this.isReady()?(-1===this._buffer.indexOf(t)&&this._buffer.push(t),t.then(function(){return e.remove(t)}).then(null,function(){return e.remove(t).then(null,function(){})}),t):s.a.reject(new a.a("Not adding Promise due to buffer limit reached."))},t.prototype.remove=function(t){return this._buffer.splice(this._buffer.indexOf(t),1)[0]},t.prototype.length=function(){return this._buffer.length},t.prototype.drain=function(t){var e=this;return new s.a(function(n){var i=setTimeout(function(){t&&t>0&&n(!1)},t);s.a.all(e._buffer).then(function(){clearTimeout(i),n(!0)}).then(null,function(){n(!0)})})},t}(),l=n(12),u=n(3),d=function(){function t(t){this.options=t,this._buffer=new c(30),this._rateLimits={},this._api=new r.a(this.options.dsn),this.url=this._api.getStoreEndpointWithUrlEncodedAuth()}return t.prototype.sendEvent=function(t){throw new a.a("Transport Class has to implement `sendEvent` method")},t.prototype.close=function(t){return this._buffer.drain(t)},t.prototype._handleResponse=function(t){var e=t.requestType,n=t.response,i=t.headers,r=t.resolve,a=t.reject,s=o.a.fromHttpCode(n.status);this._handleRateLimit(i)&&l.a.warn("Too many requests, backing off until: "+this._disabledUntil(e)),s!==o.a.Success?a(n):r({status:s})},t.prototype._disabledUntil=function(t){return this._rateLimits[t]||this._rateLimits.all},t.prototype._isRateLimited=function(t){return this._disabledUntil(t)>new Date(Date.now())},t.prototype._handleRateLimit=function(t){var e,n,r,o,a=Date.now(),s=t["x-sentry-rate-limits"],c=t["retry-after"];if(s){try{for(var l=Object(i.f)(s.trim().split(",")),d=l.next();!d.done;d=l.next()){var p=d.value.split(":",2),f=parseInt(p[0],10),h=1e3*(isNaN(f)?60:f);try{for(var v=(r=void 0,Object(i.f)(p[1].split(";"))),g=v.next();!g.done;g=v.next()){var m=g.value;this._rateLimits[m||"all"]=new Date(a+h)}}catch(t){r={error:t}}finally{try{g&&!g.done&&(o=v.return)&&o.call(v)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{d&&!d.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return!0}return!!c&&(this._rateLimits.all=new Date(a+Object(u.g)(a,c)),!0)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return c}),n.d(e,"b",function(){return u});var i=n(0),r=n(2),o=n(105),a=n(14),s=n(3),c=function(){function t(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return t.clone=function(e){var n=new t;return e&&(n._breadcrumbs=Object(i.e)(e._breadcrumbs),n._tags=Object(i.a)({},e._tags),n._extra=Object(i.a)({},e._extra),n._contexts=Object(i.a)({},e._contexts),n._user=e._user,n._level=e._level,n._span=e._span,n._session=e._session,n._transactionName=e._transactionName,n._fingerprint=e._fingerprint,n._eventProcessors=Object(i.e)(e._eventProcessors)),n},t.prototype.addScopeListener=function(t){this._scopeListeners.push(t)},t.prototype.addEventProcessor=function(t){return this._eventProcessors.push(t),this},t.prototype.setUser=function(t){return this._user=t||{},this._session&&this._session.update({user:t}),this._notifyScopeListeners(),this},t.prototype.getUser=function(){return this._user},t.prototype.setTags=function(t){return this._tags=Object(i.a)(Object(i.a)({},this._tags),t),this._notifyScopeListeners(),this},t.prototype.setTag=function(t,e){var n;return this._tags=Object(i.a)(Object(i.a)({},this._tags),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setExtras=function(t){return this._extra=Object(i.a)(Object(i.a)({},this._extra),t),this._notifyScopeListeners(),this},t.prototype.setExtra=function(t,e){var n;return this._extra=Object(i.a)(Object(i.a)({},this._extra),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setFingerprint=function(t){return this._fingerprint=t,this._notifyScopeListeners(),this},t.prototype.setLevel=function(t){return this._level=t,this._notifyScopeListeners(),this},t.prototype.setTransactionName=function(t){return this._transactionName=t,this._notifyScopeListeners(),this},t.prototype.setTransaction=function(t){return this.setTransactionName(t)},t.prototype.setContext=function(t,e){var n;return null===e?delete this._contexts[t]:this._contexts=Object(i.a)(Object(i.a)({},this._contexts),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setSpan=function(t){return this._span=t,this._notifyScopeListeners(),this},t.prototype.getSpan=function(){return this._span},t.prototype.getTransaction=function(){var t,e,n,i,r=this.getSpan();return(null===(t=r)||void 0===t?void 0:t.transaction)?null===(e=r)||void 0===e?void 0:e.transaction:(null===(i=null===(n=r)||void 0===n?void 0:n.spanRecorder)||void 0===i?void 0:i.spans[0])?r.spanRecorder.spans[0]:void 0},t.prototype.setSession=function(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this},t.prototype.getSession=function(){return this._session},t.prototype.update=function(e){if(!e)return this;if("function"==typeof e){var n=e(this);return n instanceof t?n:this}return e instanceof t?(this._tags=Object(i.a)(Object(i.a)({},this._tags),e._tags),this._extra=Object(i.a)(Object(i.a)({},this._extra),e._extra),this._contexts=Object(i.a)(Object(i.a)({},this._contexts),e._contexts),e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint)):Object(r.h)(e)&&(e=e,this._tags=Object(i.a)(Object(i.a)({},this._tags),e.tags),this._extra=Object(i.a)(Object(i.a)({},this._extra),e.extra),this._contexts=Object(i.a)(Object(i.a)({},this._contexts),e.contexts),e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint)),this},t.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},t.prototype.addBreadcrumb=function(t,e){var n=Object(i.a)({timestamp:Object(o.a)()},t);return this._breadcrumbs=void 0!==e&&e>=0?Object(i.e)(this._breadcrumbs,[n]).slice(-e):Object(i.e)(this._breadcrumbs,[n]),this._notifyScopeListeners(),this},t.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},t.prototype.applyToEvent=function(t,e){var n;if(this._extra&&Object.keys(this._extra).length&&(t.extra=Object(i.a)(Object(i.a)({},this._extra),t.extra)),this._tags&&Object.keys(this._tags).length&&(t.tags=Object(i.a)(Object(i.a)({},this._tags),t.tags)),this._user&&Object.keys(this._user).length&&(t.user=Object(i.a)(Object(i.a)({},this._user),t.user)),this._contexts&&Object.keys(this._contexts).length&&(t.contexts=Object(i.a)(Object(i.a)({},this._contexts),t.contexts)),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts=Object(i.a)({trace:this._span.getTraceContext()},t.contexts);var r=null===(n=this._span.transaction)||void 0===n?void 0:n.name;r&&(t.tags=Object(i.a)({transaction:r},t.tags))}return this._applyFingerprint(t),t.breadcrumbs=Object(i.e)(t.breadcrumbs||[],this._breadcrumbs),t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,this._notifyEventProcessors(Object(i.e)(l(),this._eventProcessors),t,e)},t.prototype._notifyEventProcessors=function(t,e,n,o){var s=this;return void 0===o&&(o=0),new a.a(function(a,c){var l=t[o];if(null===e||"function"!=typeof l)a(e);else{var u=l(Object(i.a)({},e),n);Object(r.m)(u)?u.then(function(e){return s._notifyEventProcessors(t,e,n,o+1).then(a)}).then(null,c):s._notifyEventProcessors(t,u,n,o+1).then(a).then(null,c)}})},t.prototype._notifyScopeListeners=function(){var t=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(function(e){e(t)}),this._notifyingListeners=!1)},t.prototype._applyFingerprint=function(t){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint},t}();function l(){var t=Object(s.e)();return t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.globalEventProcessors=t.__SENTRY__.globalEventProcessors||[],t.__SENTRY__.globalEventProcessors}function u(t){l().push(t)}},,function(t,e,n){"use strict";(function(t,i){n.d(e,"b",function(){return r}),n.d(e,"a",function(){return o});n(2),n(5);function r(){return"[object process]"===Object.prototype.toString.call(void 0!==t?t:0)}function o(t,e){return t.require(e)}}).call(this,n(103),n(67)(t))},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(2);function r(t){try{for(var e=t,n=[],i=0,r=0,a=" > ".length,s=void 0;e&&i++<5&&!("html"===(s=o(e))||i>1&&r+n.length*a+s.length>=80);)n.push(s),r+=s.length,e=e.parentNode;return n.reverse().join(" > ")}catch(t){return"<unknown>"}}function o(t){var e,n,r,o,a,s=t,c=[];if(!s||!s.tagName)return"";if(c.push(s.tagName.toLowerCase()),s.id&&c.push("#"+s.id),(e=s.className)&&Object(i.k)(e))for(n=e.split(/\s+/),a=0;a<n.length;a++)c.push("."+n[a]);var l=["type","name","title","alt"];for(a=0;a<l.length;a++)r=l[a],(o=s.getAttribute(r))&&c.push("["+r+'="'+o+'"]');return c.join("")}},function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.Settings=void 0;var a=o(n(104)),s=function(){function t(){}return t.get=function(t){var e="production";return a[e][t]},t.mode=function(){var t="production";return t},t.env=function(){return"production"},t}();e.Settings=s},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(62),r=n(14),o=function(){function t(){}return t.prototype.sendEvent=function(t){return r.a.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:i.a.Skipped})},t.prototype.close=function(t){return r.a.resolve(!0)},t}()},function(t,e,n){"use strict";n.r(e);var i=n(54);n.d(e,"GlobalHandlers",function(){return i.a});var r=n(53);n.d(e,"TryCatch",function(){return r.a});var o=n(52);n.d(e,"Breadcrumbs",function(){return o.a});var a=n(55);n.d(e,"LinkedErrors",function(){return a.a});var s=n(56);n.d(e,"UserAgent",function(){return s.a})},function(t,e,n){"use strict";n.d(e,"a",function(){return m});var i=n(0),r=n(72),o=n(3),a=n(12),s=n(70),c=n(33),l=n(45),u=n(22),d=n(68),p=n(69),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.b)(e,t),e.prototype.eventFromException=function(t,e){return Object(u.a)(this._options,t,e)},e.prototype.eventFromMessage=function(t,e,n){return void 0===e&&(e=c.a.Info),Object(u.b)(this._options,t,e,n)},e.prototype._setupTransport=function(){if(!this._options.dsn)return t.prototype._setupTransport.call(this);var e=Object(i.a)(Object(i.a)({},this._options.transportOptions),{dsn:this._options.dsn});return this._options.transport?new this._options.transport(e):Object(l.a)()?new d.a(e):new p.a(e)},e}(s.a),h=n(11),v=n(52),g=n(28),m=function(t){function e(e){return void 0===e&&(e={}),t.call(this,f,e)||this}return Object(i.b)(e,t),e.prototype.showReportDialog=function(t){void 0===t&&(t={}),Object(o.e)().document&&(this._isEnabled()?Object(h.a)(Object(i.a)(Object(i.a)({},t),{dsn:t.dsn||this.getDsn()})):a.a.error("Trying to call showReportDialog with Sentry Client disabled"))},e.prototype._prepareEvent=function(e,n,r){return e.platform=e.platform||"javascript",e.sdk=Object(i.a)(Object(i.a)({},e.sdk),{name:g.a,packages:Object(i.e)(e.sdk&&e.sdk.packages||[],[{name:"npm:@sentry/browser",version:g.b}]),version:g.b}),t.prototype._prepareEvent.call(this,e,n,r)},e.prototype._sendEvent=function(e){var n=this.getIntegration(v.a);n&&n.addSentryBreadcrumb(e),t.prototype._sendEvent.call(this,e)},e}(r.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"c",function(){return s}),n.d(e,"d",function(){return c}),n.d(e,"b",function(){return l});var i=n(12),r=n(3);function o(){if(!("fetch"in Object(r.e)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}function a(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function s(){if(!o())return!1;var t=Object(r.e)();if(a(t.fetch))return!0;var e=!1,n=t.document;if(n&&"function"==typeof n.createElement)try{var s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s),s.contentWindow&&s.contentWindow.fetch&&(e=a(s.contentWindow.fetch)),n.head.removeChild(s)}catch(t){i.a.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return e}function c(){if(!o())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(t){return!1}}function l(){var t=Object(r.e)(),e=t.chrome,n=e&&e.app&&e.app.runtime,i="history"in t&&!!t.history.pushState&&!!t.history.replaceState;return!n&&i}},function(t,e,n){var i,r,o;!function(a){"use strict";r=[n(27)],void 0===(o="function"==typeof(i=function(t){var e="undefined"!=typeof Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);t.blobSlice=e&&function(){var t=this.slice||this.webkitSlice||this.mozSlice;return t.apply(this,arguments)},t.metaDataParsers={jpeg:{65505:[],65517:[]}},t.parseMetaData=function(e,n,i,r){i=i||{},r=r||{};var o=this,a=i.maxMetaDataSize||262144,s=!("undefined"!=typeof DataView&&e&&e.size>=12&&"image/jpeg"===e.type&&t.blobSlice);!s&&t.readFile(t.blobSlice.call(e,0,a),function(e){if(e.target.error)n(r);else{var a,s,c,l,u=e.target.result,d=new DataView(u),p=2,f=d.byteLength-4,h=p;if(65496===d.getUint16(0)){for(;p<f&&((a=d.getUint16(p))>=65504&&a<=65519||65534===a)&&(s=d.getUint16(p+2)+2,!(p+s>d.byteLength));){if((c=t.metaDataParsers.jpeg[a])&&!i.disableMetaDataParsers)for(l=0;l<c.length;l+=1)c[l].call(o,d,p,s,r,i);h=p+=s}!i.disableImageHead&&h>6&&(u.slice?r.imageHead=u.slice(0,h):r.imageHead=new Uint8Array(u).subarray(0,h))}n(r)}},"readAsArrayBuffer")||n(r)},t.replaceHead=function(e,n,i){t.parseMetaData(e,function(r){i(new Blob([n,t.blobSlice.call(e,r.imageHead.byteLength)],{type:"image/jpeg"}))},{maxMetaDataSize:256,disableMetaDataParsers:!0})},t.hasMetaOption=function(t){return t&&t.meta};var n=t.transform;t.transform=function(e,i,r,o,a){t.hasMetaOption(i)?t.parseMetaData(o,function(a){n.call(t,e,i,r,o,a)},i,a):n.apply(t,arguments)}})?i.apply(e,r):i)||(t.exports=o)}()},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.Api=e.APP_VERSION=e.API_VERSION=void 0;var i=n(58),r=n(41);e.API_VERSION="v1",e.APP_VERSION="web.0";var o=function(){function n(t){this.taskId=null,this.tool=null,this.serviceServer=r.Settings.get("service"),this.workerServer=null,this.downloadUrl="",this.apiVersion=e.API_VERSION,this.appVersion=e.APP_VERSION,this.token=null,this.encrypted=!1,this.encryptKey=null,Object.assign(this,t)}return Object.defineProperty(n.prototype,"userToken",{get:function(){return"function"==typeof this._userToken?this._userToken():this._userToken},set:function(t){this._userToken=t},enumerable:!1,configurable:!0}),n.ping=function(t,e){return void 0===e&&(e=!1),new Promise(function(n,i){var r=new XMLHttpRequest,o=0,a=0;r.open("GET",t,!0),r.onreadystatechange=function(){4==r.readyState&&(200==r.status?n():0==o&&0==a&&0!=r.status&&1==e?n():i())},r.ontimeout=function(){o=1},r.onerror=function(t){a=1},r.send()})},n.prototype.pingService=function(){return n.ping(this.serviceServer+"/ping")},n.prototype.sendRequest=function(t,e,n,i,r){void 0===n&&(n=null),void 0===i&&(i=!1),void 0===r&&(r=!1);var o=new XMLHttpRequest;return o.open(t,this.workerServer+"/"+this.apiVersion+"/"+e,!0),o.setRequestHeader("Authorization","Bearer "+this.token),o.setRequestHeader("Accept","application/json"),1==r&&o.setRequestHeader("Content-Type","application/json"),i&&(o.responseType="blob"),1==r?o.send(JSON.stringify(n)):o.send(n),o},n.prototype.sendServiceRequest=function(t,e,n,i,r){void 0===n&&(n=null),void 0===i&&(i=!1),void 0===r&&(r=!1);var o=new XMLHttpRequest;return o.open(t,this.serviceServer+"/"+e,!0),o.setRequestHeader("Authorization","Bearer "+this.userToken),o.setRequestHeader("Accept","application/json"),1==r&&o.setRequestHeader("Content-Type","application/json"),i&&(o.responseType="blob"),1==r?o.send(JSON.stringify(n)):o.send(n),o},n.prototype.query=function(t,e,n,i,r,o){void 0===n&&(n=null),void 0===i&&(i=!1),void 0===r&&(r=!1),void 0===o&&(o="api");var a=this;return new Promise(function(s,c){var l=null;if("api"==o)l=a.sendRequest(t,e,n,i,r);else{if("service"!=o)throw new Error("invalid target api");l=a.sendServiceRequest(t,e,n,i,r)}l.onerror=function(t){c({status:-1})},l.onload=function(){if(4==l.readyState)if(200==l.status)try{s(JSON.parse(l.responseText))}catch(t){c({error:"invalidJSONResponse",status:500,response:l.responseText})}else if(400==l.status||500==l.status)try{(t=JSON.parse(l.responseText)).status=l.status,c(t)}catch(t){c({error:"invalidJSONResponse",status:500,response:l.responseText})}else{var t={};try{t=JSON.parse(l.responseText)}catch(t){}t.status=l.status,c(t)}}})},n.prototype.process=function(t){return this.query("POST","process",t)},n.prototype.getSigner=function(t){return this.query("GET","signature/signer/"+t)},n.prototype.request=function(t,e,n){var r=i.FormDataHelper.jsonToFormData(n);return this.query(t,e,r)},n.prototype.getTask=function(){var t=this;return new Promise(function(e,n){var i=t.sendRequest("GET","task/"+t.taskId);i.onreadystatechange=function(){if(4==i.readyState){if(200==i.status)return void e(JSON.parse(i.responseText));if(400==i.status||500==i.status)return window.ga("event","send","download_deleted",t.workerServer),void n(i.responseText);window.ga("event","send","download_deleted",t.workerServer),n(i.responseText)}}})},n.prototype.getLink=function(t){return this.workerServer+"/"+this.apiVersion+"/"+t},n.prototype.deleteTask=function(){return this.request("delete","task/"+this.taskId,{})},n.prototype.getSubdomain=function(t){return t.split("/")[2].split(".")[0]},n.prototype.getDomain=function(t){return t.split("/")[2]},n.prototype.uploadFromUrl=function(t){var e=new FormData;return e.append("cloud_file",t),e.append("cloud_source","public"),e.append("task",this.taskId),this.query("post","upload",e)},n.prototype.getPreview=function(t,e){var n=new FormData;for(var i in n.append("server_filename",t),n.append("task",this.taskId),delete e.output_filename,delete e.packaged_filename,e)e.hasOwnProperty(i)&&n.append(i,e[i]);return this.query("post","preview",n)},n.prototype.removeFile=function(t){var e=this,n=new FormData;return new Promise(function(i,r){var o=e.sendRequest("delete","upload/"+e.taskId+"/"+t,n);o.onreadystatechange=function(){if(4==o.readyState){if(404==o.status)return void i();if(400==o.status||500==o.status)return void r();i()}}})},n.prototype.next=function(t,e){var n=new FormData;return n.append("task",t),n.append("tool",e),n.append("thumbnails","1"),this.query("post","task/next",n)},n.prototype.nextFile=function(t,e){return this.workerServer+"/thumbnails/"+t+"/"+e},n.prototype.info=function(){return this.query("get","info")},n.prototype.getStatus=function(e,n){void 0===e&&(e=null),void 0===n&&(n=0);return e=e||this.workerServer,new Promise(function(i,r){t.ajax({url:e+"/status.json",dataType:"json",success:function(t){i(t)},timeout:n,error:function(){r()}})})},n.prototype.getFilePreviewInfo=function(t,e,n,i){void 0===n&&(n=150),void 0===i&&(i=null),n=n||150;var r="pdfrender/"+t+"/"+e.replace(".pdf","");return this.query("get",r)},n.prototype.saveToolConfig=function(t,e,n){var r={tool:t,options:e},o=i.FormDataHelper.jsonToFormData(r);return this.userToken=n,this.query("post","tool/save",o,!1,!1,"service")},n.prototype.touchTask=function(t){var e="task/touch/"+t;return this.query("get",e)},n}();e.Api=o}).call(this,n(1))},function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((i=i.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.ContextBase=void 0;var o=n(15),a=n(112),s=n(61),c=n(25),l=n(7),u=function(){function t(e){var n=this;void 0===e&&(e={}),this.state=null,this.stateHistory=[],this.objsListeningTo=new WeakMap,this.appendedTemplates=[],this._isInline=!1,this._ctxPlacement="dom",this._inEndState=!1,this.setEndState=function(){n._inEndState=!0},this.isInEndState=function(){return n._inEndState},this.listenToEvents=function(t){n.objsListeningTo.has(t)&&!0===n.objsListeningTo.get(t)||(t.addEventListener("end",function(t){n.setEndState(),n.dispatchEvent(new l.IloveEvent("end",t.detail))}),t.addEventListener("disableContentAbandonment",function(t){return n.dispatchEvent(new l.IloveEvent("disableContentAbandonment"))}),t.addEventListener("unsetContentAbandonment",function(t){return n.dispatchEvent(new l.IloveEvent("unsetContentAbandonment"))}),n.objsListeningTo.set(t,!0))},this.notifyOfContainerClosing=function(){n.dispatchEvent(new l.IloveEvent("contextContainerClosed")),n.isInEndState()&&n.dispatchEvent(new l.IloveEvent("end"))},this._onDomReady=function(t){n.dispatchEvent(new l.IloveEvent("domReady",{domRoot:t}))},this.eventEmitter=new c.ILoveEventEmitter,this._instanceID=++t._static_instanceID,this._wasUserLoggedOnInitialization=this.isLoggedIn(),this._isInline=!!e.isInline&&e.isInline}return t.prototype.setContextPlacement=function(t){this._ctxPlacement=t},t.prototype.getContextPlacement=function(){return this._ctxPlacement},t.prototype.render=function(t){this.state||(this.state=this.getInitialState(),this.changeState(this.state)),this.state.render(t)},Object.defineProperty(t.prototype,"isInline",{get:function(){return this._isInline},enumerable:!1,configurable:!0}),t.prototype.getState=function(){return this.state},t.prototype.changeState=function(t){if(!t)throw"State cannot be empty";if(this._inEndState)throw"Context is in end state; Cannot transition to state '"+t.name+"'";this.state=t,this.state.setContext(this),this.stateHistory.push(this.state),this.listenToEvents(this.state)},t.prototype.canGoToAPreviousState=function(){return!(this.stateHistory.length<2)},t.prototype.goToPreviousState=function(){if(!this.canGoToAPreviousState())throw"Cannot transition to previous state";this.stateHistory.pop();var t=this.stateHistory.pop();return this.changeState(t),t},t.prototype.getTemplateViaAjax=function(e){return i(this,void 0,void 0,function(){var n,i;return r(this,function(r){switch(r.label){case 0:return n="template_"+e,t.cache.existsEntry(n)?[2,t.cache.getEntry(n)]:[4,s.AjaxTemplate.load(e)];case 1:return i=r.sent(),t.cache.setEntry(n,i),[2,i]}})})},t.prototype.getStateHistory=function(){return this.stateHistory.map(function(t){return t.name})},t.prototype.wasUserLoggedOnInitialization=function(){return this._wasUserLoggedOnInitialization},t.prototype.reset=function(){this.state&&this.state.reset()},Object.defineProperty(t.prototype,"userType",{get:function(){var t=o.UserModel.userType;return 1==o.UserModel.isTeamManaged()?t:"premium"==t&&0==o.UserModel.hasSubscription()?"user":t},enumerable:!1,configurable:!0}),t.prototype.canUserDoTrial=function(){switch(this.userType){case"guest":case"user":return o.UserModel.canDoTrial();case"premium":return!1;default:throw"Unknown userType "+this.userType+" to determine if can do trial"}},t.prototype.isTeamManaged=function(){var t=o.UserModel.isPremium(),e=o.UserModel.get();return!(!t||"member"!=e.team_role)},t.prototype.isTrialEnabledForThisTool=function(){return!(window.ilovepdfConfig&&"dtr"in window.ilovepdfConfig)||!window.ilovepdfConfig.dtr},t.prototype.isLoggedIn=function(){return"guest"!==this.userType},Object.defineProperty(t.prototype,"user",{get:function(){return o.UserModel.get()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userCurrentPaymentMethod",{get:function(){var t=this.user.last_payment;return t&&t.provider?t:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userCurrentSubscription",{get:function(){return this.user&&this.user.current_subscription?this.user.current_subscription:null},enumerable:!1,configurable:!0}),t.prototype.dispatchEvent=function(t){return this.eventEmitter.dispatchEvent(t)},t.prototype.addEventListener=function(t,e){return this.eventEmitter.addEventListener(t,e)},t.prototype.getInstanceID=function(){return this._instanceID},t.cache=new a.Cache,t._static_instanceID=0,t}();e.ContextBase=u},function(t,e,n){"use strict";n.r(e);var i=n(36);n.d(e,"BaseTransport",function(){return i.a});var r=n(68);n.d(e,"FetchTransport",function(){return r.a});var o=n(69);n.d(e,"XHRTransport",function(){return o.a})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Analytics=void 0;var i=function(){function t(){}return t.send=function(e,n,i){void 0===i&&(i=null);var r="c="+e+"&a="+n+"&l="+i+"&d="+window.brand_ref,o=r;if("upload-change"==n&&(o="c="+e+"&a="+n+"&d="+window.brand_ref),!window.eventData||!window.eventData[o]){window.eventData||(window.eventData={}),window.eventData[o]=!0;var a=new XMLHttpRequest,s="https://"+t.WORKER+"."+window.brand_ref+".com?"+r;a.open("GET",s,!0),a.onload=function(){},a.send(r)}},t.WORKER="evt",t}();e.Analytics=i},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(106),r=n(5),o=function(){function t(t){this.dsn=t,this._dsnObject=new i.a(t)}return t.prototype.getDsn=function(){return this._dsnObject},t.prototype.getBaseApiEndpoint=function(){var t=this._dsnObject,e=t.protocol?t.protocol+":":"",n=t.port?":"+t.port:"";return e+"//"+t.host+n+(t.path?"/"+t.path:"")+"/api/"},t.prototype.getStoreEndpoint=function(){return this._getIngestEndpoint("store")},t.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return this.getStoreEndpoint()+"?"+this._encodedAuth()},t.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return this._getEnvelopeEndpoint()+"?"+this._encodedAuth()},t.prototype.getStoreEndpointPath=function(){var t=this._dsnObject;return(t.path?"/"+t.path:"")+"/api/"+t.projectId+"/store/"},t.prototype.getRequestHeaders=function(t,e){var n=this._dsnObject,i=["Sentry sentry_version=7"];return i.push("sentry_client="+t+"/"+e),i.push("sentry_key="+n.user),n.pass&&i.push("sentry_secret="+n.pass),{"Content-Type":"application/json","X-Sentry-Auth":i.join(", ")}},t.prototype.getReportDialogEndpoint=function(t){void 0===t&&(t={});var e=this._dsnObject,n=this.getBaseApiEndpoint()+"embed/error-page/",i=[];for(var r in i.push("dsn="+e.toString()),t)if("dsn"!==r)if("user"===r){if(!t.user)continue;t.user.name&&i.push("name="+encodeURIComponent(t.user.name)),t.user.email&&i.push("email="+encodeURIComponent(t.user.email))}else i.push(encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return i.length?n+"?"+i.join("&"):n},t.prototype._getEnvelopeEndpoint=function(){return this._getIngestEndpoint("envelope")},t.prototype._getIngestEndpoint=function(t){return""+this.getBaseApiEndpoint()+this._dsnObject.projectId+"/"+t+"/"},t.prototype._encodedAuth=function(){var t={sentry_key:this._dsnObject.user,sentry_version:"7"};return Object(r.f)(t)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(0),r=n(6),o=n(33),a=n(3),s=n(31),c=n(23),l=n(40),u=function(){function t(e){this.name=t.id,this._options=Object(i.a)({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},e)}return t.prototype.addSentryBreadcrumb=function(t){this._options.sentry&&Object(r.b)().addBreadcrumb({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:Object(a.d)(t)},{event:t})},t.prototype.setupOnce=function(){var t=this;this._options.console&&Object(s.a)({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._consoleBreadcrumb.apply(t,Object(i.e)(e))},type:"console"}),this._options.dom&&Object(s.a)({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._domBreadcrumb.apply(t,Object(i.e)(e))},type:"dom"}),this._options.xhr&&Object(s.a)({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._xhrBreadcrumb.apply(t,Object(i.e)(e))},type:"xhr"}),this._options.fetch&&Object(s.a)({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._fetchBreadcrumb.apply(t,Object(i.e)(e))},type:"fetch"}),this._options.history&&Object(s.a)({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._historyBreadcrumb.apply(t,Object(i.e)(e))},type:"history"})},t.prototype._consoleBreadcrumb=function(t){var e={category:"console",data:{arguments:t.args,logger:"console"},level:o.a.fromString(t.level),message:Object(c.b)(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;e.message="Assertion failed: "+(Object(c.b)(t.args.slice(1)," ")||"console.assert"),e.data.arguments=t.args.slice(1)}Object(r.b)().addBreadcrumb(e,{input:t.args,level:t.level})},t.prototype._domBreadcrumb=function(t){var e;try{e=t.event.target?Object(l.a)(t.event.target):Object(l.a)(t.event)}catch(t){e="<unknown>"}0!==e.length&&Object(r.b)().addBreadcrumb({category:"ui."+t.name,message:e},{event:t.event,name:t.name})},t.prototype._xhrBreadcrumb=function(t){if(t.endTimestamp){if(t.xhr.__sentry_own_request__)return;var e=t.xhr.__sentry_xhr__||{},n=e.method,i=e.url,o=e.status_code,a=e.body;Object(r.b)().addBreadcrumb({category:"xhr",data:{method:n,url:i,status_code:o},type:"http"},{xhr:t.xhr,input:a})}else;},t.prototype._fetchBreadcrumb=function(t){t.endTimestamp&&(t.fetchData.url.match(/sentry_key/)&&"POST"===t.fetchData.method||(t.error?Object(r.b)().addBreadcrumb({category:"fetch",data:t.fetchData,level:o.a.Error,type:"http"},{data:t.error,input:t.args}):Object(r.b)().addBreadcrumb({category:"fetch",data:Object(i.a)(Object(i.a)({},t.fetchData),{status_code:t.response.status}),type:"http"},{input:t.args,response:t.response})))},t.prototype._historyBreadcrumb=function(t){var e=Object(a.e)(),n=t.from,i=t.to,o=Object(a.h)(e.location.href),s=Object(a.h)(n),c=Object(a.h)(i);s.path||(s=o),o.protocol===c.protocol&&o.host===c.host&&(i=c.relative),o.protocol===s.protocol&&o.host===s.host&&(n=s.relative),Object(r.b)().addBreadcrumb({category:"navigation",data:{from:n,to:i}})},t.id="Breadcrumbs",t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n(0),r=n(3),o=n(5),a=n(20),s=n(11),c=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],l=function(){function t(e){this.name=t.id,this._options=Object(i.a)({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},e)}return t.prototype.setupOnce=function(){var t=Object(r.e)();(this._options.setTimeout&&Object(o.c)(t,"setTimeout",this._wrapTimeFunction.bind(this)),this._options.setInterval&&Object(o.c)(t,"setInterval",this._wrapTimeFunction.bind(this)),this._options.requestAnimationFrame&&Object(o.c)(t,"requestAnimationFrame",this._wrapRAF.bind(this)),this._options.XMLHttpRequest&&"XMLHttpRequest"in t&&Object(o.c)(XMLHttpRequest.prototype,"send",this._wrapXHR.bind(this)),this._options.eventTarget)&&(Array.isArray(this._options.eventTarget)?this._options.eventTarget:c).forEach(this._wrapEventTarget.bind(this))},t.prototype._wrapTimeFunction=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=e[0];return e[0]=Object(s.c)(i,{mechanism:{data:{function:Object(a.a)(t)},handled:!0,type:"instrument"}}),t.apply(this,e)}},t.prototype._wrapRAF=function(t){return function(e){return t.call(this,Object(s.c)(e,{mechanism:{data:{function:"requestAnimationFrame",handler:Object(a.a)(t)},handled:!0,type:"instrument"}}))}},t.prototype._wrapEventTarget=function(t){var e=Object(r.e)(),n=e[t]&&e[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(Object(o.c)(n,"addEventListener",function(e){return function(n,i,r){try{"function"==typeof i.handleEvent&&(i.handleEvent=Object(s.c)(i.handleEvent.bind(i),{mechanism:{data:{function:"handleEvent",handler:Object(a.a)(i),target:t},handled:!0,type:"instrument"}}))}catch(t){}return e.call(this,n,Object(s.c)(i,{mechanism:{data:{function:"addEventListener",handler:Object(a.a)(i),target:t},handled:!0,type:"instrument"}}),r)}}),Object(o.c)(n,"removeEventListener",function(t){return function(e,n,i){var r,o=n;try{var a=null===(r=o)||void 0===r?void 0:r.__sentry_wrapped__;a&&t.call(this,e,a,i)}catch(t){}return t.call(this,e,o,i)}}))},t.prototype._wrapXHR=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(function(t){t in i&&"function"==typeof i[t]&&Object(o.c)(i,t,function(e){var n={mechanism:{data:{function:t,handler:Object(a.a)(e)},handled:!0,type:"instrument"}};return e.__sentry_original__&&(n.mechanism.data.handler=Object(a.a)(e.__sentry_original__)),Object(s.c)(e,n)})}),t.apply(this,e)}},t.id="TryCatch",t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return p});var i=n(0),r=n(6),o=n(33),a=n(12),s=n(31),c=n(2),l=n(3),u=n(22),d=n(11),p=function(){function t(e){this.name=t.id,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=Object(i.a)({onerror:!0,onunhandledrejection:!0},e)}return t.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(a.a.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(a.a.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},t.prototype._installGlobalOnErrorHandler=function(){var e=this;this._onErrorHandlerInstalled||(Object(s.a)({callback:function(n){var i=n.error,o=Object(r.b)(),a=o.getIntegration(t),s=i&&!0===i.__sentry_own_request__;if(a&&!Object(d.b)()&&!s){var p=o.getClient(),f=Object(c.i)(i)?e._eventFromIncompleteOnError(n.msg,n.url,n.line,n.column):e._enhanceEventWithInitialFrame(Object(u.c)(i,void 0,{attachStacktrace:p&&p.getOptions().attachStacktrace,rejection:!1}),n.url,n.line,n.column);Object(l.a)(f,{handled:!1,type:"onerror"}),o.captureEvent(f,{originalException:i})}},type:"error"}),this._onErrorHandlerInstalled=!0)},t.prototype._installGlobalOnUnhandledRejectionHandler=function(){var e=this;this._onUnhandledRejectionHandlerInstalled||(Object(s.a)({callback:function(n){var i=n;try{"reason"in n?i=n.reason:"detail"in n&&"reason"in n.detail&&(i=n.detail.reason)}catch(t){}var a=Object(r.b)(),s=a.getIntegration(t),p=i&&!0===i.__sentry_own_request__;if(!s||Object(d.b)()||p)return!0;var f=a.getClient(),h=Object(c.i)(i)?e._eventFromRejectionWithPrimitive(i):Object(u.c)(i,void 0,{attachStacktrace:f&&f.getOptions().attachStacktrace,rejection:!0});h.level=o.a.Error,Object(l.a)(h,{handled:!1,type:"onunhandledrejection"}),a.captureEvent(h,{originalException:i})},type:"unhandledrejection"}),this._onUnhandledRejectionHandlerInstalled=!0)},t.prototype._eventFromIncompleteOnError=function(t,e,n,i){var r,o=Object(c.e)(t)?t.message:t;if(Object(c.k)(o)){var a=o.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);a&&(r=a[1],o=a[2])}var s={exception:{values:[{type:r||"Error",value:o}]}};return this._enhanceEventWithInitialFrame(s,e,n,i)},t.prototype._eventFromRejectionWithPrimitive=function(t){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(t)}]}}},t.prototype._enhanceEventWithInitialFrame=function(t,e,n,i){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].stacktrace=t.exception.values[0].stacktrace||{},t.exception.values[0].stacktrace.frames=t.exception.values[0].stacktrace.frames||[];var r=isNaN(parseInt(i,10))?void 0:i,o=isNaN(parseInt(n,10))?void 0:n,a=Object(c.k)(e)&&e.length>0?e:Object(l.f)();return 0===t.exception.values[0].stacktrace.frames.length&&t.exception.values[0].stacktrace.frames.push({colno:r,filename:a,function:"?",in_app:!0,lineno:o}),t},t.id="GlobalHandlers",t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var i=n(0),r=n(37),o=n(6),a=n(2),s=n(30),c=n(24),l="cause",u=5,d=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this._key=e.key||l,this._limit=e.limit||u}return t.prototype.setupOnce=function(){Object(r.b)(function(e,n){var i=Object(o.b)().getIntegration(t);return i?i._handler(e,n):e})},t.prototype._handler=function(t,e){if(!(t.exception&&t.exception.values&&e&&Object(a.g)(e.originalException,Error)))return t;var n=this._walkErrorTree(e.originalException,this._key);return t.exception.values=Object(i.e)(n,t.exception.values),t},t.prototype._walkErrorTree=function(t,e,n){if(void 0===n&&(n=[]),!Object(a.g)(t[e],Error)||n.length+1>=this._limit)return n;var r=Object(c.a)(t[e]),o=Object(s.c)(r);return this._walkErrorTree(t[e],e,Object(i.e)([o],n))},t.id="LinkedErrors",t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n(0),r=n(37),o=n(6),a=n(3),s=Object(a.e)(),c=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){Object(r.b)(function(e){var n,r,a;if(Object(o.b)().getIntegration(t)){if(!s.navigator&&!s.location&&!s.document)return e;var c=(null===(n=e.request)||void 0===n?void 0:n.url)||(null===(r=s.location)||void 0===r?void 0:r.href),l=(s.document||{}).referrer,u=(s.navigator||{}).userAgent,d=Object(i.a)(Object(i.a)(Object(i.a)({},null===(a=e.request)||void 0===a?void 0:a.headers),l&&{Referer:l}),u&&{"User-Agent":u}),p=Object(i.a)(Object(i.a)({},c&&{url:c}),{headers:d});return Object(i.a)(Object(i.a)({},e),{request:p})}return e})},t.id="UserAgent",t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(6),r=n(12);function o(t,e){!0===e.debug&&r.a.enable();var n=Object(i.b)(),o=new t(e);n.bindClient(o)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FormDataHelper=void 0;var i=function(){function t(){}return t.buildFormData=function(e,n,i){if(void 0===i&&(i=null),!n||"object"!=typeof n||n instanceof Date||n instanceof File){var r=null==n?"":n;e.append(i,r)}else Object.keys(n).forEach(function(r){t.buildFormData(e,n[r],null!=i?i+"["+r+"]":r)})},t.jsonToFormData=function(e){var n=new FormData;return t.buildFormData(n,e),n},t}();e.FormDataHelper=i},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.UserAuth=void 0;var i=n(15),r=function(){function e(n){var r=this;this.onLoginSucess=null,this.onLoginError=null,this.onRegisterSuccess=null,this.onRegisterError=null,this.loginSuccess=function(t){t.token&&(t.user.token=t.token),window.userModel=t.user,window.ilovepdfConfig&&(e.updateUserMenu(t.content),e.updateUser(t.user)),null!==r.onLoginSucess&&("function"!=typeof r.onLoginSucess&&"object"!=typeof r.onLoginSucess||r.onLoginSucess(t.user))},this.registerSuccess=function(n){e.updateUserMenu(n.content),e.updateUser(n.user),n.token&&(n.user.token=n.token),t(".user-menu__item--premium").remove(),e.sendGA_registered(r.runningFrom),"function"==typeof r.onRegisterSuccess&&r.onRegisterSuccess(n)},this.registerError=function(t){"function"==typeof r.onRegisterError&&r.onRegisterError(t)},Object.assign(this,n),this.userModel=new i.UserModel}return e.initActions=function(){t(".logout").click(function(t){t.preventDefault(),i.UserModel.logout()})},e.sendGA_registered=function(t){window.ga("send","event","user","registered",t)},e.prototype.login=function(t){var e=this;void 0===t&&(t=null),t||this.extraLoginParams&&this.extraLoginParams.forEach(function(e){t.push(e)}),this.userModel.login(t).then(this.loginSuccess,function(t){return e.loginError(t.responseJSON)})},e.prototype.sendResetPasswordEmail=function(t){return this.userModel.sendResetPasswordEmail(t)},e.prototype.loginError=function(t){"function"==typeof this.onLoginError&&this.onLoginError(t)},e.updateUser=function(t){window.userModel=t,window.ilovepdfConfig&&(window.ilovepdfConfig.user=t),i.UserModel.updateUser(t),e.initActions()},e.updateUserMenu=function(e){t(".top-menu .nav__item.nav__item--red").remove(),t(".top-menu .nav__item.nav__item--gray").remove(),t(".top-menu .nav__item[data-account]").remove(),t(".top-menu .nav").prepend(e)},e.prototype.register=function(t){var e=this.userModel.register(t);return e.then(this.registerSuccess,this.registerError),e},e.sendEventUserAuth=function(){var t=new CustomEvent("userAuth");window.dispatchEvent(t)},e}();e.UserAuth=r}).call(this,n(1))},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.Limits=e.REASON=void 0;var i,r=n(15),o=n(8),a=n(17);!function(t){t.ERROR_FEATURE="this feature is for premium only",t.ERROR_SIZE="file size too big",t.ERROR_FILES="too much files",t.ERROR_EXTENSION="invalid filetype",t.ERROR_PAGES="too much pages"}(i=e.REASON||(e.REASON={}));var s=function(){function e(t){this.minFiles=1,this.LEVEL_PREMIUM="premium_limits",this.LEVEL_REGISTERED="registered_limits",this.LEVEL_PUBLIC="limits",this.err=null,this.files=null,this.fileLimits=null,this.allFileLimits=null,this.tool=null,this.subtool=null,this.ignored=[],this.userLevel="public",Object.assign(this,t),this.concreteTool=this.getTool()}return e.prototype.getTool=function(){return this.concreteTool?this.concreteTool:this.tool==this.subtool?this.tool:-1!==this.tool.indexOf("image")&&-1===this.subtool.indexOf("image")?this.tool.replace("image",this.subtool):this.subtool},e.prototype.addIgnoredFile=function(t){this.ignored.push(t)},e.prototype.getIgnoredFiles=function(){return this.ignored},e.prototype.getLimitedFiles=function(){return this.files.limited},e.prototype.getLimitedFilenames=function(){var t=this,e=[];return this.getLimitedFiles().forEach(function(n){var i=t.files.getFile(n);i&&e.push(i.name)}),e},e.prototype.isIgnored=function(t){return-1!=this.ignored.indexOf(t)},e.prototype.setFileLimits=function(){var t=this;this.fileLimits=window.ilovepdfConfig.fileLimits;var e=r.UserModel.get();if(e&&1==e.premium&&(this.fileLimits=e.limits),this.files.resetLimitedFiles(),this.checkHasLimits()){var n=0,i=0,o=0,a=!1;this.files.files.forEach(function(e){!1===a?(n++,e.size&&(i+=parseInt(e.size)),e.file&&e.file.numPages&&(o+=e.file.numPages),null!==t.checkFileLimits(i,n,o)&&(a=!0,t.files.limitFile(e.id))):t.files.limitFile(e.id)})}},e.prototype.checkFileLimits=function(t,e,n){void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n=null);t=t||this.files.getFileSizeNotIgnored(),e=e||this.files.countNotIgnored(),n=n||this.files.getFilePagesNotIgnored(),this.fileLimits=window.ilovepdfConfig.fileLimits;var i,o,a,s=r.UserModel.get();if(s&&1==s.premium&&(this.fileLimits=s.limits),this.checkHasLimits()){if(null!==(i=this.checkSizeLimit(t))&&this.hasSurpasedLimits(i))return i;if(null!==(o=this.checkPagesLimit(n))&&this.hasSurpasedLimits(o))return o;if(null!==(a=this.checkFilesLimit(e))&&this.hasSurpasedLimits(a))return a}return i||o||a||null},e.prototype.resetEventSent=function(){this.eventSent=!1},e.prototype.checkHasLimits=function(t){return void 0===t&&(t=null),this.fileLimits[this.concreteTool]?null==t||this.fileLimits[this.concreteTool].hasOwnProperty(t):null},e.prototype.checkSizeLimit=function(e){if(void 0===e&&(e=null),(e=e||this.files.getFileSizeNotIgnored())>1024*parseInt(this.fileLimits[this.concreteTool].mb)*1024){var n=Math.floor(e/1024/1024);return!0!==this.eventSent&&0==t(".download").length&&(this.eventSent=!0,window.ga("send","event","limits","filesize-exceeded",this.concreteTool,n)),i.ERROR_SIZE}return null},e.prototype.checkFilesLimit=function(e){return void 0===e&&(e=null),(e=e||this.files.countNotIgnored())>this.fileLimits[this.concreteTool].files?(!0!==this.eventSent&&0==t(".download").length&&(this.eventSent=!0,window.ga&&window.ga("send","event","limits","filenumber-exceeded",this.concreteTool,e)),i.ERROR_FILES):null},e.prototype.checkPagesLimit=function(e){return void 0===e&&(e=null),e=e||this.files.getFilePagesNotIgnored(),this.fileLimits[this.concreteTool].pages&&e>this.fileLimits[this.concreteTool].pages?(!0!==this.eventSent&&0==t(".download").length&&(this.eventSent=!0,window.ga("send","event","limits","pages-exceeded",this.concreteTool,e)),i.ERROR_PAGES):null},e.prototype.findNextLevelLimit=function(t,e,n){for(var i in this.allFileLimits)if(this.allFileLimits.hasOwnProperty(i)){var r=this.allFileLimits[i];if(r.hasOwnProperty(t)){var o=r[t];if(o.hasOwnProperty(e)&&o[e]>=n)return i}}return!1},e.prototype.getPremiumLimitByTool=function(t,e){return this.allFileLimits.premium_limits[t][e]},e.prototype.getLevelLimit=function(t,e,n){return 0==n&&(n=this.LEVEL_PREMIUM),this.allFileLimits[n][t][e]},e.prototype.makeErrorData=function(t,e,n,i,r){var a=this;function s(t,e){return 1==t?"files"==e?o.Lang.t("1 file"):o.Lang.t("1 mb"):("mb"==e&&t>=1e3&&(t/=1e3,e="Gb"),o.Lang.t("${limit} "+e.toLowerCase(),{limit:t}))}function c(t){return t==a.LEVEL_REGISTERED?o.Lang.t("registeredLevel"):t==a.LEVEL_PREMIUM?o.Lang.t("premiumLevel"):o.Lang.t("publicLevel")}return{currentLimit:s(e,t),currentLevel:c(n).ucFirst(),nextLimit:s(i,t),nextLevel:c(r).ucFirst()}},e.prototype.getLimitData=function(t,e){return 1==t?"files"==e?o.Lang.t("1 file"):"pages"==e?o.Lang.t("1 page"):o.Lang.t("1 mb"):("mb"==e&&t>=1e3&&(t/=1e3,e="Gb"),o.Lang.t("${limit} "+e.toLowerCase(),{limit:t}))},e.prototype.limitErrorText=function(t){return o.Lang.t("limitTaskMsg",t)},e.prototype.setLimit=function(e){this.err=e;var n=this.getNextLimit(e);if(0==n.nextLevel){var i=this.getPremiumLimitByTool(this.concreteTool,n.name);if(0==t("#superlimit").length){var r=a.Tools.modalView({id:"superlimit",title:"",content:""}),s=t(r);s.find(".modal-dialog").addClass("modal-dialog-centered"),s.appendTo(t("body"))}return setTimeout(function(){"files"==n.name?(t("#superlimit .modal-title").html(o.Lang.t("File number exceeded")),t("#superlimit .modal-body").html(o.Lang.t("Sorry, we are not ready for that.")+"<br>\n                         \x3c!--"+o.Lang.t("limitFiles",{files:i})+"<br>--\x3e\n                         "+o.Lang.t("superlimitWhoa")+"<br>\n                         "+o.Lang.t("superlimitDownload"))):(t("#superlimit .modal-title").html(o.Lang.t("File size exceeded")),t("#superlimit .modal-body").html(o.Lang.t("Sorry, we are not ready for that.")+"<br>\n                         \x3c!--"+o.Lang.t("limitMb",{mb:i})+"<br>--\x3e\n                         "+o.Lang.t("superlimitWhoa")+"<br>\n                         "+o.Lang.t("superlimitDownload"))),t("#superlimit").modal("toggle")},500),null}return n.nextLevel==this.LEVEL_PUBLIC?null:{limitName:n.name,limitValue:n.currentValue,nextLevelLimit:n.nextLevel,nextLimit:n.nextValue}},e.prototype.getCurrentLimitsLevel=function(){var t=this.LEVEL_PUBLIC;return r.UserModel.isUser()&&(t=this.LEVEL_REGISTERED,r.UserModel.isPremium()&&(t=this.LEVEL_PREMIUM)),t},e.prototype.getLimitTexts=function(){var t,e,n,r=this.checkFileLimits();e=(t=[this.fileLimits[this.getTool()],this.allFileLimits.premium_limits[this.getTool()]])[0],n=t[1];var a,s,c=null;switch(r){case i.ERROR_FILES:a=o.Lang.t("limitFree")+" "+o.Lang.t("limitFiles",{n:e.files}),s=o.Lang.t("limitPremium")+" "+o.Lang.t("limitFiles",{n:n.files}),c="files";break;case i.ERROR_SIZE:a=o.Lang.t("limitFree")+" "+o.Lang.t("limitSize",{n:e.mb}),s=o.Lang.t("limitPremium")+" "+o.Lang.t("limitSize",{n:n.mb}),c="size";break;case i.ERROR_PAGES:a=o.Lang.t("limitFree")+" "+o.Lang.t("limitPages",{n:e.pages}),s=o.Lang.t("limitPremium")+" "+o.Lang.t("limitPages",{n:n.pages}),c="pages"}return{current:a,premium:s,limit:c}},e.prototype.getNextLimit=function(t,e){var n,r,o;switch(void 0===e&&(e=null),null==e&&(e=this.getTool()),t){case i.ERROR_SIZE:n="mb",r=this.files.getFileSizeNotIgnored()/1024/1024;break;case i.ERROR_FILES:n="files",r=this.files.countNotIgnored();break;case i.ERROR_PAGES:n="pages",r=this.files.getFilePagesNotIgnored()}return{name:n,currentValue:r,nextValue:0!=(o=this.findNextLevelLimit(e,n,r))&&this.getLevelLimit(e,n,o),nextLevel:o}},e.prototype.getNextLevelLimit=function(t){return this.getNextLimit(t).nextLevel},e.prototype.hasSurpasedLimits=function(t){return!1===this.getNextLevelLimit(t)},e.prototype.sendEventLimitsChanged=function(){var t=new CustomEvent("limitsChanged");window.dispatchEvent(t)},e.prototype.canContinueWithoutPremium=function(){for(var t=!0,e=0;e<this.minFiles;e++)1==this.files.files[e].limited&&(t=!1);return t},e}();e.Limits=s}).call(this,n(1))},function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((i=i.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.AjaxTemplate=void 0;var o=function(){function t(){}return t.load=function(e){return i(this,void 0,void 0,function(){var n,i,o,a;return r(this,function(r){return n=new XMLHttpRequest,i=!1,o=!1,a=function(t){return!i&&!o&&200===t.status},n.open("GET",t.getLangBaseUrl()+"/"+e,!0),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.setRequestHeader("Accept","text/html"),n.ontimeout=function(){return i=!0},n.onerror=function(){return o=!0},[2,new Promise(function(t,e){n.onreadystatechange=function(){4===n.readyState&&(a(n)?t(n.responseText):e(n.response))},n.send()})]})})},t.getLangBaseUrl=function(){var e=window.lang;return"en-US"==e?"/"+t.BASE_URL:"/"+e+"/"+t.BASE_URL},t.BASE_URL="templates",t}();e.AjaxTemplate=o},function(t,e,n){"use strict";var i;n.d(e,"a",function(){return i}),function(t){t.Unknown="unknown",t.Skipped="skipped",t.Success="success",t.RateLimit="rate_limit",t.Invalid="invalid",t.Failed="failed"}(i||(i={})),function(t){t.fromHttpCode=function(e){return e>=200&&e<300?t.Success:429===e?t.RateLimit:e>=400&&e<500?t.Invalid:e>=500?t.Failed:t.Unknown}}(i||(i={}))},function(t,e,n){"use strict";(function(t){var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.TemporaryDialog=void 0;var o=n(7),a=n(25),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(n(76).Dialog);e.TemporaryDialog=s;var c=function(){function e(e){var n=this;void 0===e&&(e={}),this.isShown=!1,this.setTemplate=function(t,e){return void 0===e&&(e=null),n.contentBuilderFn=null,n.template=t,n.onTemplateRenderFn=e,n},this.show=function(){if(!n.isShown){t(".modal:visible").removeAttr("tabindex");var e=new s(n.dialogProps);return e.addEventListener("closed",function(){n.currentDialog=null,n.dispatchEvent(new o.IloveEvent("closed"))}),e.addEventListener("hidden",function(){n.isShown=!1,e.destroy(),n.dispatchEvent(new o.IloveEvent("hidden"))}),e.addEventListener("shown",function(){n.dispatchEvent(new o.IloveEvent("shown"))}),n.fillDialog(e),e.show(),n.isShown=!0,n.currentDialog=e,e}},this.close=function(){n.currentDialog&&(n.currentDialog.close(),n.currentDialog=null)},this.setContentBuilder=function(t){return n.template=null,n.onTemplateRenderFn=null,n.contentBuilderFn=t,n},this.eventEmitter=new a.ILoveEventEmitter,this.dialogProps=e}return e.prototype.fillDialog=function(t){if(this.contentBuilderFn)t.setContent(this.contentBuilderFn());else{if(!this.template)throw"Unknown DisposableDialog creation mechanism";if(this.template.content){var e=this.template.content.cloneNode(!0);t.domRoot.appendChild(e)}else{this.template;t.domRoot.innerHTML=this.template.innerHTML}this.onTemplateRenderFn&&this.onTemplateRenderFn(t.domRoot)}},e.prototype.dispatchEvent=function(t){return this.eventEmitter.dispatchEvent(t)},e.prototype.addEventListener=function(t,e){return this.eventEmitter.addEventListener(t,e)},Object.defineProperty(e.prototype,"domRoot",{get:function(){var t;return null===(t=this.currentDialog)||void 0===t?void 0:t.domRoot},enumerable:!1,configurable:!0}),e}();e.default=c}).call(this,n(1))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.checkPreloadIsNeeded=e.get_browser=e.isSafari=e.isIE11=e.isEdgeBrowser=void 0;var i=n(79);function r(t){return void 0===t&&(t=i.getUserAgent()),/^((?!chrome|android|crios).)*safari/i.test(t)}function o(){var t,e=navigator.userAgent,n=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?{name:"IE",version:(t=/\brv[ :]+(\d+)/g.exec(e)||[])[1]||""}:"Chrome"===n[1]&&null!=(t=e.match(/\bOPR|Edge\/(\d+)/))?{name:"Opera",version:t[1]}:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(t=e.match(/version\/(\d+)/i))&&n.splice(1,1,t[1]),{name:n[0],version:n[1]})}e.isEdgeBrowser=function(t){return void 0===t&&(t=i.getUserAgent()),/Edge/i.test(t)},e.isIE11=function(){return!!window.MSInputMethodContext&&!!document.documentMode},e.isSafari=r,e.get_browser=o,e.checkPreloadIsNeeded=function(){if(i.isIos()||r())return!0;var t=o();return"Chrome"==t.name&&t.version<=73||"Firefox"==t.name&&t.version<=94||"Edge"==t.name&&t.version<=18||"Yandex"==t.name}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((i=i.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractPaymentState=void 0;var s=n(18),c=n(80),l=n(7),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.abstractPaymentInited=!1,e.paymentNumUsersDefault=1,e.DEFAULT_SELECTED_PROVIDER_BTN="stripe",e._onExternalPaymentAction=function(t,n){var i=n.detail;"UserPayment:AfterExternalAction"===t&&e._onPaymentSuccess(i.provider,i)},e._abstractOnPayButtonClicked=function(t){e._executePaymentAction("payButton",t)},e._abstractOnPaymentSuccess=function(t,n){e._onPaymentSuccess(t,n)},e._abstractOnPaymentFailed=function(t,n){e.userPayment.notifyPaymentError(t,n,e.paymentAction),e._onPaymentFailed(t,n)},e}return r(e,t),e.prototype.initAbstractPayment=function(t){var e;return o(this,void 0,void 0,function(){var n=this;return a(this,function(i){switch(i.label){case 0:if(this.ctx.canGoToAPreviousState()&&this.goToPreviousStateButtonIsVisible()?(this.dispatchEvent(new l.IloveEvent("disableContentAbandonment")),this.dialogCloseBtn&&(this.dialogCloseBtn.style.display="none")):this.dialogCloseBtn&&(this.dialogCloseBtn.style.display=""),this.abstractPaymentInited)return[2];if(this.userPayment=t.userPayment?t.userPayment:new c.UserPayment,this.abstractPaymentInited=!0,Object.assign(this,t),"gui"===(null===(e=this.paymentInterval)||void 0===e?void 0:e.type))switch(this.paymentInterval.gui){case"radio":break;case"boxes":this.initPaymentIntervalSelectorButtons();break;default:throw"Unknown way to determine paymentInterval '"+this.paymentInterval.type+"'"}return[4,this.initUserPayment(this.userPayment).then(function(){n.userPayment.addEventListener("UserPayment:ActionButtonClicked",n._abstractOnPayButtonClicked),n.userPayment.addEventListener("UserPayment:BeforeExternalAction",function(t){return n._onExternalPaymentAction("UserPayment:BeforeExternalAction",t)}),n.userPayment.addEventListener("UserPayment:AfterExternalAction",function(t){return n._onExternalPaymentAction("UserPayment:AfterExternalAction",t)})})];case 1:return i.sent(),[2]}})})},e.prototype.initAbstractCard=function(t){return o(this,void 0,void 0,function(){var e=this;return a(this,function(n){switch(n.label){case 0:return this.abstractPaymentInited=!0,Object.assign(this,t),this.userPayment=t.userPayment?t.userPayment:new c.UserPayment,[4,this.initUserPayment(this.userPayment).then(function(){e.userPayment.addEventListener("UserPayment:ActionButtonClicked",e._abstractOnPayButtonClicked)})];case 1:return n.sent(),[2]}})})},Object.defineProperty(e.prototype,"stripeViewParams",{get:function(){return{paymentButtonText:this.paymentProviderProps.find(function(t){return"stripe"===t.name}).paymentButtonText,currentPaymentMethod:this.currentPaymentMethod}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"paypalViewParams",{get:function(){var t,e=this,n=(this.paymentProviderProps.find(function(t){return"paypal"===t.name}),function(){return!(e.ctx.isTrialEnabledForThisTool()&&e.ctx.canUserDoTrial())});switch(this.paymentAction){case"become_premium":case"subsc_update":t={actionName:"become_premium"===this.paymentAction?"PaySubscription":"UpdateSubscription",actionParams:{subscriptionInterval:function(){return e.selectedPaymentInterval},numUsers:function(){return e.numUsers?e.numUsers():e.paymentNumUsersDefault},numDigitalSignatures:function(){return e.numSignatures?e.numSignatures():void 0},disableTrial:n}};break;case"pay_package":t={actionName:"PayPackage",actionParams:{packageName:function(){return e.package.name},quantity:function(){return e.package.qty},disableTrial:n}};break;default:throw"Unknown paypal paymentAction '"+this.paymentAction+"'"}return{action:t}},enumerable:!1,configurable:!0}),e.prototype._executePaymentAction=function(t,e){var n,i=this,r=this.selectedPaymentProvider,o=this.paymentAction,a=this.paymentInterval?this.selectedPaymentInterval:void 0,s=this.numUsers?this.numUsers():this.paymentNumUsersDefault;this.showLoadingScreen(),this.userPayment.disableActionButton(r),this.dispatchEvent(new l.IloveEvent("disableContentAbandonment"));var c=!(this.ctx.isTrialEnabledForThisTool()&&this.ctx.canUserDoTrial());switch(o){case"become_premium":n=this.userPayment.paySubscription({numUsers:s,provider:r,subscriptionInterval:a,disableTrial:c});break;case"subsc_update":var u=this.numSignatures();n=this.userPayment.updateSubscription({numSignatures:u,numUsers:s,provider:r,subscriptionInterval:a,disableTrial:c});break;case"pay_package":var d=this.package.name,p=this.package.qty;n=this.userPayment.payPackage({packageName:d,packageQuantity:p,provider:r,disableTrial:c});break;case"update_card":var f=this.userPayment.stripeService.view.card;n=this.userPayment.updateCard({provider:r,element:f})}n.then(function(t){return i._abstractOnPaymentSuccess(r,t)}),n.catch(function(t){return i._abstractOnPaymentFailed(r,t)});var h=function(t){i.clearLoadingScreen(),i.userPayment.enableActionButton(r),i.dispatchEvent(new l.IloveEvent("unsetContentAbandonment"))};return n.then(h,h),n},e.prototype.initUserPayment=function(t){var e,n;return o(this,void 0,void 0,function(){var i,r;return a(this,function(o){switch(o.label){case 0:return(i=this.initializedPaymentProviders).includes("stripe")?[4,t.mountView("stripe",this.stripeViewMountPoint,this.stripeViewParams)]:[3,2];case 1:o.sent(),o.label=2;case 2:return i.includes("paypal")?[4,t.mountView("paypal",this.paypalViewMountPoint,this.paypalViewParams)]:[3,4];case 3:o.sent(),o.label=4;case 4:return r=null!==(n=null===(e=this.currentPaymentMethod)||void 0===e?void 0:e.provider)&&void 0!==n?n:this.DEFAULT_SELECTED_PROVIDER_BTN,this.initPaymentProviderSelectorButtons(),this.clickProviderButton(r),[2]}})})},Object.defineProperty(e.prototype,"initializedPaymentProviders",{get:function(){return this.paymentProviderProps.map(function(t){return t.name})},enumerable:!1,configurable:!0}),e.prototype.initPaymentIntervalSelectorButtons=function(){var t=this.domStateRoot.querySelectorAll(".payment__interval-selector__select-box"),e=function(e){t.forEach(function(t){return t.setAttribute("data-selected","false")}),e.setAttribute("data-selected","true")};t.forEach(function(t){return t.addEventListener("click",function(t){return e(t.currentTarget)})})},e.prototype.clickProviderButton=function(t){var e=this,n=this.domRoot,i=(n.querySelector(".payment__provider-views"),n.querySelector(".payment__provider-selector")),r=(n.querySelectorAll(".payment__provider-selector .payment__provider-selector__item"),Array.from(i.querySelectorAll(".payment__provider-selector__item")));r.forEach(function(t){return t.setAttribute("data-checked","false")});var o=r.find(function(e){return e.dataset.value===t});o.setAttribute("data-checked","true"),function(t){e.domRoot.querySelectorAll(".payment__provider-views .payment__provider-views__item").forEach(function(t){return t.classList.remove("payment__provider-views__item--appeared")});var n=e.domRoot.querySelector('.payment__provider-views .payment__provider-views__item[data-provider-name="'+t+'"]');n&&n.classList.add("payment__provider-views__item--appeared")}(o.getAttribute("data-value"))},e.prototype.initPaymentProviderSelectorButtons=function(){var t=this,e=this.domRoot,n=e.querySelector(".payment__provider-selector").querySelectorAll(".payment__provider-selector__item"),i=e.querySelectorAll(".payment__provider-selector .payment__provider-selector__item");n.forEach(function(e){e.addEventListener("click",function(n){t.clickProviderButton(e.dataset.value)})});var r=this.initializedPaymentProviders;i.forEach(function(t){var e=t.getAttribute("data-value");if(!e)throw"Provider selector button is missing data-value attribute";r.includes(e)||(t.style.display="none")})},Object.defineProperty(e.prototype,"stripeViewMountPoint",{get:function(){var t=this.domRoot.querySelector(".payment__stripe-view");if(!t)throw"Mountpoint for Stripe view not found";return t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"paypalViewMountPoint",{get:function(){var t=this.domRoot.querySelector(".payment__paypal-view");if(!t)throw"Mountpoint for Paypal view not found";return t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectedPaymentProvider",{get:function(){return 1==this.paymentProviderProps.length?this.paymentProviderProps[0].name:this.domRoot.querySelector(".payment__provider-selector .payment__provider-selector__item[data-checked='true']").getAttribute("data-value")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectedPaymentInterval",{get:function(){if("gui"===this.paymentInterval.type){if("boxes"===this.paymentInterval.gui)return this.selected_paymentInterval_boxes;if("radio"===this.paymentInterval.gui)return this.selected_paymentInterval_radio}else if("predefined"===this.paymentInterval.type)return this.paymentInterval.value;throw"Unknown way to determine paymentInterval '"+this.paymentInterval.type+"'"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selected_paymentInterval_radio",{get:function(){var t=Array.from(this.domRoot.querySelectorAll(".payment__interval-selector [name='paymentInterval']"));if(0===t.length)throw"Radio buttons for payment interval not found";for(var e=0;e<t.length;e++)if(t[e].checked)return t[e].value;return null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selected_paymentInterval_boxes",{get:function(){var t=this.domStateRoot.querySelector(".payment__interval-selector__select-box[data-selected='true']");if(!t)throw"No selected interval box found";return t.getAttribute("data-value")},enumerable:!1,configurable:!0}),e}(s.StateBase);e.AbstractPaymentState=u},function(t,e,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(0),r=n(29),o=n(3),a=n(45),s=n(14),c=n(36),l=Object(o.e)(),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.b)(e,t),e.prototype.sendEvent=function(t){return this._sendRequest(Object(r.a)(t,this._api),t)},e.prototype.sendSession=function(t){return this._sendRequest(Object(r.b)(t,this._api),t)},e.prototype._sendRequest=function(t,e){var n=this;if(this._isRateLimited(t.type))return Promise.reject({event:e,type:t.type,reason:"Transport locked till "+this._disabledUntil(t.type)+" due to too many requests.",status:429});var i={body:t.body,method:"POST",referrerPolicy:Object(a.d)()?"origin":""};return void 0!==this.options.fetchParameters&&Object.assign(i,this.options.fetchParameters),void 0!==this.options.headers&&(i.headers=this.options.headers),this._buffer.add(new s.a(function(e,r){l.fetch(t.url,i).then(function(i){var o={"x-sentry-rate-limits":i.headers.get("X-Sentry-Rate-Limits"),"retry-after":i.headers.get("Retry-After")};n._handleResponse({requestType:t.type,response:i,headers:o,resolve:e,reject:r})}).catch(r)}))},e}(c.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),r=n(29),o=n(14),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.b)(e,t),e.prototype.sendEvent=function(t){return this._sendRequest(Object(r.a)(t,this._api),t)},e.prototype.sendSession=function(t){return this._sendRequest(Object(r.b)(t,this._api),t)},e.prototype._sendRequest=function(t,e){var n=this;return this._isRateLimited(t.type)?Promise.reject({event:e,type:t.type,reason:"Transport locked till "+this._disabledUntil(t.type)+" due to too many requests.",status:429}):this._buffer.add(new o.a(function(e,i){var r=new XMLHttpRequest;for(var o in r.onreadystatechange=function(){if(4===r.readyState){var o={"x-sentry-rate-limits":r.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":r.getResponseHeader("Retry-After")};n._handleResponse({requestType:t.type,response:r,headers:o,resolve:e,reject:i})}},r.open("POST",t.url),n.options.headers)n.options.headers.hasOwnProperty(o)&&r.setRequestHeader(o,n.options.headers[o]);r.send(t.body)}))},e}(n(36).a)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(12),r=n(21),o=n(42),a=function(){function t(t){this._options=t,this._options.dsn||i.a.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return t.prototype.eventFromException=function(t,e){throw new r.a("Backend has to implement `eventFromException` method")},t.prototype.eventFromMessage=function(t,e,n){throw new r.a("Backend has to implement `eventFromMessage` method")},t.prototype.sendEvent=function(t){this._transport.sendEvent(t).then(null,function(t){i.a.error("Error while sending event: "+t)})},t.prototype.sendSession=function(t){this._transport.sendSession?this._transport.sendSession(t).then(null,function(t){i.a.error("Error while sending session: "+t)}):i.a.warn("Dropping session because custom transport doesn't implement sendSession")},t.prototype.getTransport=function(){return this._transport},t.prototype._setupTransport=function(){return new o.a},t}()},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.PremiumContext=void 0;var o=n(8),a=n(60),s=n(48),c=n(113),l=n(114),u=n(122),d=n(124),p=function(t){function e(e){var n=t.call(this,e)||this;return n.contentName="PremiumContext",n.onDomReadyCalledOnce=!1,n._onDomReady=function(t){n.onDomReadyCalledOnce||n.updateTriggerReasonText(t),n.onDomReadyCalledOnce=!0,n.updateTitleText(t)},n.triggerReason="triggerReason"in e?e.triggerReason:void 0,n.limits="limits"in e?e.limits:void 0,n.premiumFeatureName="premiumFeatureName"in e?e.premiumFeatureName:void 0,n.tool=e.tool,n}return r(e,t),e.prototype.initAllFeaturesTooltip=function(t){if(!this.tooltipRoot){if(this.tooltipRoot=t.querySelector(".new-premium__all-features-tooltip"),!this.tooltipRoot)throw"'All features' dom element not found";var e=t.querySelector(".new-premium__all-features-tooltip__html-template");if(!e)throw"htmlTemplate not found for 'All features' tooltip";window.tippy(this.tooltipRoot,{allowHTML:!0,theme:"light new-premium-all-features-tooltip",content:e.innerHTML,placement:"bottom",arrow:!0,animation:"fade",trigger:"mouseenter",interactive:!0})}},e.prototype.initOCRTooltip=function(t){if(!this.tooltipRoot_OCR){if(this.tooltipRoot_OCR=t.querySelector(".new-premium__ocr-tooltip"),!this.tooltipRoot_OCR)throw"'OCR' dom element not found";var e=t.querySelector(".new-premium__ocr-features-tooltip__html-template");if(!e)throw"htmlTemplate not found for 'OCR' tooltip";window.tippy(this.tooltipRoot_OCR,{allowHTML:!0,theme:"light new-premium__ocr-tooltip",content:e.innerHTML,placement:"bottom",arrow:!0,animation:"fade",trigger:"mouseenter",interactive:!0})}},e.prototype.updateTitleText=function(t){var e=t.querySelector(".dialog__title");if(!e)throw"'Title' element not found";var n=this.isTrialEnabledForThisTool()&&this.canUserDoTrial();switch(this.userType){case"guest":case"user":return void(e.innerHTML=n?this.getTranslation(t,"title_canTrial"):this.getTranslation(t,"title_cannotTrial"));case"premium":return;default:throw"Unhandled userType '"+this.userType+"' for updateTitleText"}},e.prototype.updateTriggerReasonText=function(t){var e,n,i,r,s,c,l=t.querySelector(".new-premium__trigger-reason_sub1"),u=t.querySelector(".new-premium__trigger-reason_sub2");if(!l)throw"'Trigger Reason subtitle1' element not found";if(!u)throw"'Trigger Reason subtitle2' element not found";var d,p,f=null!==(r=this.tool)&&void 0!==r?r:null===(s=this.limits)||void 0===s?void 0:s.tool,h=null===(c=window.ilovepdfConfig)||void 0===c?void 0:c.subtool,v=!1;switch(this.triggerReason){case a.REASON.ERROR_FEATURE:var g="triggerReason_errorFeature";switch(f){case"sign":case"pdfa":case"pdfoffice":g+="_"+f}["pdfexcel","pdfword"].includes(h)&&(g+="_"+h),this.premiumFeatureName&&(g+="_"+this.premiumFeatureName),l.innerHTML=this.getTranslation(t,g+"_subtitle1"),"ocr"===this.premiumFeatureName&&"pdfoffice"===f&&(v=!0,l.innerHTML=l.innerHTML.replace("OCR",'<span class="new-premium__ocr-tooltip" data-template="new-premium__ocr-features-tooltip__html-template">OCR</span>')),u.innerHTML=this.getTranslation(t,g+"_subtitle2");break;case a.REASON.ERROR_FILES:if(!this.limits)throw"Limits object is needed to translate subtitles' text";d=(e=[this.limits.fileLimits[this.tool],this.limits.allFileLimits.premium_limits[this.tool]])[0],p=e[1],l.innerHTML=o.Lang.tr(this.getTranslation(t,"triggerReason_errorFilesNum_subtitle1"),{n:d.files}),u.innerHTML=o.Lang.tr(this.getTranslation(t,"triggerReason_errorFilesNum_subtitle2"),{n:p.files});break;case a.REASON.ERROR_SIZE:if(!this.limits)throw"Limits object is needed to translate subtitles' text";d=(n=[this.limits.fileLimits[this.tool],this.limits.allFileLimits.premium_limits[this.tool]])[0],p=n[1],l.innerHTML=o.Lang.tr(this.getTranslation(t,"triggerReason_errorFilesSize_subtitle1"),{n:d.mb}),u.innerHTML=o.Lang.tr(this.getTranslation(t,"triggerReason_errorFilesSize_subtitle2"),{n:p.mb/1e3});break;case a.REASON.ERROR_PAGES:if(!this.limits)throw"Limits object is needed to translate subtitles' text";d=(i=[this.limits.fileLimits[this.tool],this.limits.allFileLimits.premium_limits[this.tool]])[0],p=i[1],l.innerHTML=o.Lang.tr(this.getTranslation(t,"triggerReason_errorFilesPages_subtitle1"),{n:d.pages}),u.innerHTML=o.Lang.tr(this.getTranslation(t,"triggerReason_errorFilesPages_subtitle2"),{n:p.pages});break;case null:l.style.display="none",u.style.display="none";break;default:throw"Unknown triggerReason '"+this.triggerReason+"'"}this.initAllFeaturesTooltip(t),v&&this.initOCRTooltip(t)},e.prototype.getTranslation=function(t,e,n){if(void 0===n&&(n={}),this._translations){if(!(e in this._translations))throw"Translation for key '"+e+"' not found";return this._translations[e]}var i=t.querySelector(".new-premium__text-translations");if(!i)throw"'Text translations' DOM not found";if("html"===i.dataset.format){var r=i.querySelector("[data-key="+e+"]");if(!r)throw"Key '"+e+"' not found";return r.innerHTML}return this._translations=JSON.parse(i.innerHTML),this._translations?this.getTranslation(t,e):null},e.prototype.getInitialState=function(){return this.isLoggedIn()?this._getInitialState():new c.AuthState},e.prototype._getInitialState=function(){switch(this.userType){case"guest":return new c.AuthState;case"user":return this.canUserDoTrial()&&this.isTrialEnabledForThisTool()?new u.CanTrialState:new l.CannotTrialState;case"premium":return new d.PremiumState;default:throw"Not implemented 'initialState' when userType is "+this.userType}},e}(s.ContextBase);e.PremiumContext=p},function(t,e,n){"use strict";n.d(e,"a",function(){return y});var i=n(0),r=n(37),o=n(78),a=n(106),s=n(2),c=n(12),l=n(14),u=n(3),d=n(105),p=n(5),f=n(23),h=n(21),v=n(6),g=[];function m(t){var e={};return function(t){var e=t.defaultIntegrations&&Object(i.e)(t.defaultIntegrations)||[],n=t.integrations,r=[];if(Array.isArray(n)){var o=n.map(function(t){return t.name}),a=[];e.forEach(function(t){-1===o.indexOf(t.name)&&-1===a.indexOf(t.name)&&(r.push(t),a.push(t.name))}),n.forEach(function(t){-1===a.indexOf(t.name)&&(r.push(t),a.push(t.name))})}else"function"==typeof n?(r=n(e),r=Array.isArray(r)?r:[r]):r=Object(i.e)(e);var s=r.map(function(t){return t.name});return-1!==s.indexOf("Debug")&&r.push.apply(r,Object(i.e)(r.splice(s.indexOf("Debug"),1))),r}(t).forEach(function(t){e[t.name]=t,function(t){-1===g.indexOf(t.name)&&(t.setupOnce(r.b,v.b),g.push(t.name),c.a.log("Integration installed: "+t.name))}(t)}),e}var y=function(){function t(t,e){this._integrations={},this._processing=0,this._backend=new t(e),this._options=e,e.dsn&&(this._dsn=new a.a(e.dsn))}return t.prototype.captureException=function(t,e,n){var i=this,r=e&&e.event_id;return this._process(this._getBackend().eventFromException(t,e).then(function(t){return i._captureEvent(t,e,n)}).then(function(t){r=t})),r},t.prototype.captureMessage=function(t,e,n,i){var r=this,o=n&&n.event_id,a=Object(s.i)(t)?this._getBackend().eventFromMessage(String(t),e,n):this._getBackend().eventFromException(t,n);return this._process(a.then(function(t){return r._captureEvent(t,n,i)}).then(function(t){o=t})),o},t.prototype.captureEvent=function(t,e,n){var i=e&&e.event_id;return this._process(this._captureEvent(t,e,n).then(function(t){i=t})),i},t.prototype.captureSession=function(t){t.release?this._sendSession(t):c.a.warn("Discarded session because of missing release")},t.prototype.getDsn=function(){return this._dsn},t.prototype.getOptions=function(){return this._options},t.prototype.flush=function(t){var e=this;return this._isClientProcessing(t).then(function(n){return e._getBackend().getTransport().close(t).then(function(t){return n&&t})})},t.prototype.close=function(t){var e=this;return this.flush(t).then(function(t){return e.getOptions().enabled=!1,t})},t.prototype.setupIntegrations=function(){this._isEnabled()&&(this._integrations=m(this._options))},t.prototype.getIntegration=function(t){try{return this._integrations[t.id]||null}catch(e){return c.a.warn("Cannot retrieve integration "+t.id+" from the current Client"),null}},t.prototype._updateSessionFromEvent=function(t,e){var n,r,a,s=!1,c=!1,l=e.exception&&e.exception.values;if(l){c=!0;try{for(var u=Object(i.f)(l),d=u.next();!d.done;d=u.next()){var p=d.value.mechanism;if(p&&!1===p.handled){s=!0;break}}}catch(t){n={error:t}}finally{try{d&&!d.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}var f=e.user;if(!t.userAgent){var h=e.request?e.request.headers:{};for(var v in h)if("user-agent"===v.toLowerCase()){a=h[v];break}}t.update(Object(i.a)(Object(i.a)({},s&&{status:o.a.Crashed}),{user:f,userAgent:a,errors:t.errors+Number(c||s)}))},t.prototype._sendSession=function(t){this._getBackend().sendSession(t)},t.prototype._isClientProcessing=function(t){var e=this;return new l.a(function(n){var i=0,r=setInterval(function(){0==e._processing?(clearInterval(r),n(!0)):t&&(i+=1)>=t&&(clearInterval(r),n(!1))},1)})},t.prototype._getBackend=function(){return this._backend},t.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},t.prototype._prepareEvent=function(t,e,n){var o=this,a=this.getOptions().normalizeDepth,s=void 0===a?3:a,c=Object(i.a)(Object(i.a)({},t),{event_id:t.event_id||(n&&n.event_id?n.event_id:Object(u.i)()),timestamp:t.timestamp||Object(d.a)()});this._applyClientOptions(c),this._applyIntegrationsMetadata(c);var p=e;n&&n.captureContext&&(p=r.a.clone(p).update(n.captureContext));var f=l.a.resolve(c);return p&&(f=p.applyToEvent(c,n)),f.then(function(t){return"number"==typeof s&&s>0?o._normalizeEvent(t,s):t})},t.prototype._normalizeEvent=function(t,e){if(!t)return null;var n=Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)({},t),t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(function(t){return Object(i.a)(Object(i.a)({},t),t.data&&{data:Object(p.d)(t.data,e)})})}),t.user&&{user:Object(p.d)(t.user,e)}),t.contexts&&{contexts:Object(p.d)(t.contexts,e)}),t.extra&&{extra:Object(p.d)(t.extra,e)});return t.contexts&&t.contexts.trace&&(n.contexts.trace=t.contexts.trace),n},t.prototype._applyClientOptions=function(t){var e=this.getOptions(),n=e.environment,i=e.release,r=e.dist,o=e.maxValueLength,a=void 0===o?250:o;"environment"in t||(t.environment="environment"in e?n:"production"),void 0===t.release&&void 0!==i&&(t.release=i),void 0===t.dist&&void 0!==r&&(t.dist=r),t.message&&(t.message=Object(f.d)(t.message,a));var s=t.exception&&t.exception.values&&t.exception.values[0];s&&s.value&&(s.value=Object(f.d)(s.value,a));var c=t.request;c&&c.url&&(c.url=Object(f.d)(c.url,a))},t.prototype._applyIntegrationsMetadata=function(t){var e=t.sdk,n=Object.keys(this._integrations);e&&n.length>0&&(e.integrations=n)},t.prototype._sendEvent=function(t){this._getBackend().sendEvent(t)},t.prototype._captureEvent=function(t,e,n){return this._processEvent(t,e,n).then(function(t){return t.event_id},function(t){c.a.error(t)})},t.prototype._processEvent=function(t,e,n){var i=this,r=this.getOptions(),o=r.beforeSend,a=r.sampleRate;if(!this._isEnabled())return l.a.reject(new h.a("SDK not enabled, will not send event."));var c="transaction"===t.type;return!c&&"number"==typeof a&&Math.random()>a?l.a.reject(new h.a("Discarding event because it's not included in the random sample (sampling rate = "+a+")")):this._prepareEvent(t,n,e).then(function(t){if(null===t)throw new h.a("An event processor returned null, will not send event.");if(e&&e.data&&!0===e.data.__sentry__||c||!o)return t;var n=o(t,e);if(void 0===n)throw new h.a("`beforeSend` method has to return `null` or a valid event.");return Object(s.m)(n)?n.then(function(t){return t},function(t){throw new h.a("beforeSend rejected with "+t)}):n}).then(function(t){if(null===t)throw new h.a("`beforeSend` returned `null`, will not send event.");var e=n&&n.getSession&&n.getSession();return!c&&e&&i._updateSessionFromEvent(e,t),i._sendEvent(t),t}).then(null,function(t){if(t instanceof h.a)throw t;throw i.captureException(t,{data:{__sentry__:!0},originalException:t}),new h.a("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: "+t)})},t.prototype._process=function(t){var e=this;this._processing+=1,t.then(function(t){return e._processing-=1,t},function(t){return e._processing-=1,t})},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){this._hasWeakSet="function"==typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}return t.prototype.memoize=function(t){if(this._hasWeakSet)return!!this._inner.has(t)||(this._inner.add(t),!1);for(var e=0;e<this._inner.length;e++){if(this._inner[e]===t)return!0}return this._inner.push(t),!1},t.prototype.unmemoize=function(t){if(this._hasWeakSet)this._inner.delete(t);else for(var e=0;e<this._inner.length;e++)if(this._inner[e]===t){this._inner.splice(e,1);break}},t}()},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.FileStack=e.File=void 0;var i=n(8),r=function(){return function(t){void 0===t&&(t={}),this.reUploaded=!1,this.server_filename=null,this.filename=null,this.rotate=null,this.password=null,this.file=null,Object.assign(this,t),null!=this.filename&&(this.filename=this.filename.replace(/[\u00A0\u1680​\u180e\u2000-\u2009\u200a​\u200b​\u202f\u205f​\u3000\ufeff]/g," ").trim())}}();e.File=r;var o=function(){function e(){this.files=[],this.ignored=[],this.removed=[],this.limited=[]}return e.prototype.addFile=function(t){t=this.cleanName(t),this.files.push(t),this.onFileAdd()},e.prototype.getFile=function(e){var n=null;return t.each(this.files,function(t,i){i.id!=e||(n=i)}),n},e.prototype.getFileIndex=function(e){var n=0;return t.each(this.files,function(t,i){if(i.id==e)return n=t}),n},e.prototype.getFileByServerFilename=function(e){var n=null;return t.each(this.files,function(t,i){i.server_filename!=e||(n=i)}),n},e.prototype.getFirst=function(){return this.files[0]},e.prototype.getLast=function(){return this.files[this.files.length-1]},e.prototype.onFileAdd=function(){t(".numPages").html(this.files[0].numPages)},e.prototype.updateFile=function(e,n){var i=null,r=this;return t.each(this.files,function(t,o){if(o.id==e)return n=r.cleanName(n),Object.assign(o,n),i=o}),i},e.prototype.removeFile=function(e,n){void 0===n&&(n=!1);var i=this;t.each(this.files,function(t,r){if(r&&r.id==e){if(r.removed=!0,i.removed.push(e),t>-1&&i.files.splice(t,1),0==n){var o=new CustomEvent("fileRemoved",{detail:{fileId:e}});window.dispatchEvent(o)}}else;})},e.prototype.removeFilesExcept=function(e){var n=this;t.each(this.files,function(t,i){i&&i.id!==e&&t>-1&&n.files.splice(t,1)})},e.prototype.limitFile=function(e,n){void 0===n&&(n=!1);var i=this;t.each(this.files,function(t,r){if(r&&r.id==e){if(i.limited.push(e),r.limited=!0,window.plupload&&(r.status=window.plupload.FAILED,r.error=window.plupload.GENERIC_ERROR),0==n){var o=new CustomEvent("fileLimited",{detail:{fileId:e}});window.dispatchEvent(o)}}else;})},e.prototype.resetLimitedFiles=function(){t.each(this.files,function(t,e){e&&e.limited&&1==e.limited&&(delete e.limited,e.status==window.plupload.FAILED&&e.error==window.plupload.GENERIC_ERROR&&(e.status=window.plupload.QUEUED,delete e.error))}),this.limited=[]},e.prototype.removeLimitedFiles=function(t){var e=this;void 0===t&&(t=!1);this.files=this.files.filter(function(t){return-1===e.limited.indexOf(t.id)});var n=[].concat(this.limited);this.limited=[],!0!==t&&n.forEach(function(t){var e=new CustomEvent("fileRemoved",{detail:{fileId:t}});window.dispatchEvent(e)})},e.prototype.count=function(){return this.files.length},e.prototype.countNotIgnored=function(e){void 0===e&&(e=!1);var n=0;return t.each(this.files,function(t,i){1==e&&1==i.limited||1==i.ignored||n++}),n},e.prototype.countNotLimited=function(){var e=0;return t.each(this.files,function(t,n){!0!==n.limited&&e++}),e},e.prototype.countIgnored=function(){var e=0;return t.each(this.files,function(t,n){1==n.ignored&&e++}),e},e.prototype.countLimited=function(){var e=0;return t.each(this.files,function(t,n){1==n.limited&&e++}),e},e.prototype.size=function(){var e=0;return t.each(this.files,function(t,n){e+=parseInt(n.size)}),e},e.prototype.fileSize=function(t){var e=this,n=0;if(t instanceof Array)t.forEach(function(t,i){n+=e.fileSize(t)});else{var i=this.getFile(t);n=parseInt(i.size)}return n},e.prototype.getFileSizeNotIgnored=function(t){void 0===t&&(t=!1);var e=0;return this.files.forEach(function(n,i){n&&(1!=t||1!=n.limited)&&1!=n.ignored&&n.size&&(e+=parseInt(n.size.toString()))}),e},e.prototype.getFilePagesNotIgnored=function(t){void 0===t&&(t=!1);var e=0;return this.files.forEach(function(n,i){n&&(1!=t||1!=n.limited)&&1!=n.ignored&&n.file&&n.file.numPages&&(e+=n.file.numPages?parseInt(n.file.numPages.toString()):0)}),e},e.prototype.cleanName=function(t){return"filename"in t&&null!=t.filename&&(t.filename,t.filename.replace(/[\u00A0\u1680​\u180e\u2000-\u2009\u200a​\u200b​\u202f\u205f​\u3000\ufeff]/g," ").trim(),t.filename=t.filename.replace(/"/g,"")),"name"in t&&null!=t.name&&(t.name,t.name.replace(/[\u00A0\u1680​\u180e\u2000-\u2009\u200a​\u200b​\u202f\u205f​\u3000\ufeff]/g," ").trim(),t.name=t.name.replace(/"/g,"")),t},e.prototype.onUploaded=function(){return new Promise(function(t,e){})},e.prototype.checkFilesUploaded=function(){var t=!0,e=this;return this.files.forEach(function(n){if(void 0===n||null===n)return!0;if("percent"in n&&!(n.percent<100)&&("server_filename"in n||"error"in n&&!("error"in n&&0==n.error))||(t=!1),1==n.error){t=!1;try{window.Toastr.error(i.Lang.t(n.errorData.error.param.type[0])+"<br>"+n.name,i.Lang.t("Wops"),{timeOut:5e3,positionClass:"toast-top-left"})}catch(t){}e.removeFile(n.id)}}),t},e.prototype.getUploadedFiles=function(){var t={};return this.files.forEach(function(e){var n={filename:e.name,server_filename:e.server_filename};e.rename&&(n.filename=e.rename),e.password&&(n.password=e.password),e.pages&&(n.pages=e.pages),e.rotate&&(n.rotate=e.rotate),t[e.id]=n}),t},e}();e.FileStack=o}).call(this,n(1))},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.LinkTitle=void 0;var n=function(){function e(){}return e.disable=function(e){t(e).hover(function(){var e=t(this).attr("data-title");if(void 0===e||!1===e){var n=t(this).attr("title");t(this).attr("data-title",n)}t(this).attr("title","")},function(){var e=t(this).attr("data-title");t(this).attr("title",e)})},e}();e.LinkTitle=n}).call(this,n(1))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Dialog=void 0;var i=n(7),r=n(25),o=function(){function t(e){var n=this;void 0===e&&(e={}),this.isShown=!1,this.contentsListeningTo=new Array,this.destroyed=!1,this._canBeClosedByUser=void 0,this._isClosing=!1,this.show=function(){if(n.destroyed)throw"This dialog was destroyed. It's no longer usable";if(document.body.style.overflow="hidden",!n.isShown){var e=n.element,r=n.backdrop,o=n.closeBtn;return n.content&&n.content.reset(),0==n.props.enableCloseBtn&&o&&(o.style.display="none"),n.dialog.style.display="",n.elementContainer,e.offsetWidth,n.elementContainer.classList.add("dialog__container--appeared"),r.offsetWidth,r.classList.add("dialog__backdrop--appeared"),n.isShown=!0,t.visibleDialogs.add(n),void n.dispatchEvent(new i.IloveEvent("shown"))}},this.close=function(){if(n.destroyed)throw"This dialog was destroyed. It's no longer usable";n.isShown&&(n.elementContainer.classList.remove("dialog__container--appeared"),n.backdrop.classList.remove("dialog__backdrop--appeared"),n._isClosing=!0,setTimeout(function(){n._dialog&&(n.dialog.style.display="none"),n.isShown=!1,n._isClosing=!1,document.body.style.overflow="",t.visibleDialogs.delete(n),n.dispatchEvent(new i.IloveEvent("hidden"))},250),n.dispatchEvent(new i.IloveEvent("closed")),n.content&&n.content.notifyOfContainerClosing())},this.getDialogName=function(){return n.props.dialogName},this.destroy=function(){n.destroyed||(n._dialog&&(n._dialog.parentNode.removeChild(n._dialog),n._dialog=void 0),n.destroyed=!0)},this.setContent=function(t){if(n.destroyed)throw"This dialog was destroyed. It's no longer usable";return n.content=t,t.setContextPlacement("dialog"),t.render(n.domRoot),n.listenToEvents(t),n},this._closeOnEscapeKey=function(t){"Escape"===t.key&&n.close()},this.createDialogContainer=function(){var t=document.createElement("div");return t.classList.add("dialog__container"),t},this.createDialogElement=function(){var t=document.createElement("div");return t.classList.add("dialog__element"),t},this.createDialogBackdrop=function(){var t=document.createElement("div");return t.classList.add("dialog__backdrop"),n.props.clickAwayClose&&t.addEventListener("click",function(){n.canBeClosedByUser()&&n.close()}),t},this.initCloseBtn=function(){n.dialog.addEventListener("click",function(t){t.target.classList.contains("dialog__close")&&n.canBeClosedByUser()&&n.close()})},this.eventEmitter=new r.ILoveEventEmitter,this.props=this.mergeWithDefaultPropValues(e)}return t.getVisibleDialogs=function(){return Array.from(this.visibleDialogs).filter(function(t){return!t.isClosing()})},t.prototype.canBeClosedByUser=function(){return void 0!==this._canBeClosedByUser?this._canBeClosedByUser:this.props.canBeClosedByUser},t.prototype.isClosedOrInProcessOfClosing=function(){return this.isClosing()||!this.isShown},t.prototype.isClosing=function(){return this._isClosing},t.prototype.listenToEvents=function(t){var e=this;-1!==this.contentsListeningTo.indexOf(t.getInstanceID())||(t.addEventListener("end",function(){e.isClosedOrInProcessOfClosing()||e.close()}),t.addEventListener("disableContentAbandonment",function(){return e._canBeClosedByUser=!1}),t.addEventListener("unsetContentAbandonment",function(){return e._canBeClosedByUser=void 0}),this.contentsListeningTo.push(t.getInstanceID()))},Object.defineProperty(t.prototype,"dialog",{get:function(){var t,e=this;if(!this._dialog){var n=this.createDialogContainer(),i=this.createDialogElement();n.appendChild(i);var r=this.createDialogBackdrop();this._dialog=document.createElement("div"),this.props.dialogName&&this._dialog.setAttribute("data-dialog-name",this.props.dialogName),this._dialog.classList.add("dialog"),(null===(t=this.props.classes)||void 0===t?void 0:t.length)>0&&this.props.classes.forEach(function(t){return e._dialog.classList.add(t)}),this._dialog.appendChild(n),this._dialog.appendChild(r),this.props.enableCloseBtn&&this.initCloseBtn(),this._dialog.style.display="none",document.body.appendChild(this._dialog)}return this._dialog},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"domRoot",{get:function(){return this.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this.dialog.children[0].children[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"elementContainer",{get:function(){return this.dialog.querySelector(".dialog__container")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backdrop",{get:function(){return this.dialog.children[1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"closeBtn",{get:function(){return this.dialog.querySelector(".dialog__close")},enumerable:!1,configurable:!0}),t.prototype.mergeWithDefaultPropValues=function(t){var e,n,i,r,o=null===(e=t.canBeClosedByUser)||void 0===e||e,a=null!==(n=t.clickAwayClose)&&void 0!==n&&n,s=null!==(i=t.enableCloseBtn)&&void 0!==i?i:o,c=null!==(r=t.classes)&&void 0!==r?r:[];return{dialogName:t.dialogName,canBeClosedByUser:o,clickAwayClose:a,escapeKeyClose:o,enableCloseBtn:s,classes:c}},t.prototype.getContent=function(){return this.content},t.prototype.dispatchEvent=function(t){return this.eventEmitter.dispatchEvent(t)},t.prototype.addEventListener=function(t,e){return this.eventEmitter.addEventListener(t,e)},t.visibleDialogs=new Set,t}();e.Dialog=o},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.TextHelper=void 0;var n=function(){function e(){}return e.width=function(e,n){void 0===n&&(n=null);var i=t("<div>"+e+"</div>");i.css({position:"absolute",visibility:"hidden",height:"auto",width:"auto","white-space":"nowrap","font-size":n}),i.appendTo(t("body"));var r=i.width();return i.remove(),r},e.getExistantTextNodeHeight=function(t){var e=0;if(document.createRange){var n=document.createRange();if(n.selectNodeContents(t),n.getBoundingClientRect){var i=n.getBoundingClientRect();i&&(e=i.bottom-i.top)}}return e},e.sanitize=function(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"};return t.replace(/[&<>"'/]/gi,function(t){return e[t]})},e.stripTags=function(t){return t.replace(/(<([^>]+)>)/gi,"")},e.maxLength=function(t,e){return t.substring(0,e)},e.maxLengthEllipse=function(t,e){return t.length>e?t.substring(0,e-3)+"...":t},e.ucFirst=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},e}();e.TextHelper=n}).call(this,n(1))},function(t,e,n){"use strict";var i;n.d(e,"a",function(){return i}),function(t){t.Ok="ok",t.Exited="exited",t.Crashed="crashed",t.Abnormal="abnormal"}(i||(i={}))},function(t,e,n){"use strict";function i(){return window.navigator.mockUserAgent||window.navigator.userAgent}function r(){return!0===window.navigator.standalone||window.matchMedia("(display-mode: standalone)").matches}function o(t){return void 0===t&&(t=i()),-1!==t.indexOf("FBAN")||-1!==t.indexOf("FBAV")}function a(t){return void 0===t&&(t=i()),/FxiOS/i.test(t)}function s(t){return void 0===t&&(t=i()),/EdgiOS/i.test(t)}function c(t){return void 0===t&&(t=i()),t.indexOf("Opera Mini")>-1}function l(t){return void 0===t&&(t=i()),/Android/.test(t)}function u(t){return void 0===t&&(t=i()),/iPhone|iPod|iPad/.test(t)}function d(t){return void 0===t&&(t=i()),/\bGSA\b/.test(t)}function p(t){return void 0===t&&(t=i()),/QQBrowser/.test(t)}function f(t){return void 0===t&&(t=i()),!!u(t)&&(!!d(t)||/.+AppleWebKit(?!.*Safari)/.test(t))}function h(t){return void 0===t&&(t=i()),!!l(t)&&(/Version\/[\d.]+/.test(t)&&!c(t))}function v(){var t=i();return/Macintosh.*AppleWebKit(?!.*Safari)/i.test(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.supportsPopups=e.isMacOsCna=e.isIEIntranet=e.isIECompHeader=e.isIE=e.isWebView=e.isAndroidWebview=e.isIosWebview=e.isQQBrowser=e.isGoogleSearchApp=e.isIos=e.isAndroid=e.isOperaMini=e.isEdgeIOS=e.isFirefoxIOS=e.isFacebookWebView=e.isStandAlone=e.isDevice=e.getUserAgent=void 0,e.getUserAgent=i,e.isDevice=function(){return!!i().match(/Android|webOS|iPhone|iPad|iPod|bada|Symbian|Palm|CriOS|BlackBerry|IEMobile|WindowsMobile|Opera Mini/i)},e.isStandAlone=r,e.isFacebookWebView=o,e.isFirefoxIOS=a,e.isEdgeIOS=s,e.isOperaMini=c,e.isAndroid=l,e.isIos=u,e.isGoogleSearchApp=d,e.isQQBrowser=p,e.isIosWebview=f,e.isAndroidWebview=h,e.isWebView=function(){return o()||f()||h()},e.isIE=function(){return!!window.document.documentMode||Boolean(window.navigator&&window.navigator.userAgent&&/Edge|MSIE/i.test(window.navigator.userAgent))},e.isIECompHeader=function(){var t=window.document.querySelector('meta[http-equiv="X-UA-Compatible"]'),e=window.document.querySelector('meta[content="IE=edge"]');return!(!t||!e)},e.isIEIntranet=function(){if(window.document.documentMode)try{var t=window.status;return window.status="testIntranetMode","testIntranetMode"===window.status&&(window.status=t,!0)}catch(t){return!1}return!1},e.isMacOsCna=v,e.supportsPopups=function(t){return void 0===t&&(t=i()),!(f(t)||h(t)||c(t)||a(t)||s(t)||o(t)||p(t)||v()||r())}},function(t,e,n){"use strict";(function(t){var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},a=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((i=i.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.UserPayment=void 0;var c,l=n(116),u=o(n(16)),d=n(119),p=n(7),f=n(25),h=n(59);!function(t){t.SUMMARY_INFO="/<locale?>/purchase-summary/info",t.CANCEL_SUBSCRIPTION="/user/subscription/cancel",t.CANCEL_SUBSCRIPTION_REASON="/user/subscription/cancel/reason",t.CANCEL_SUBSCR_OFFER="/user/subscription/canceloffer",t.REACTIVATE_SUBSCRIPTION="/user/subscription/reactivate",t.REMOVE_PAYMENT_DATA="/user/subscription/payment-remove"}(c||(c={}));var v=function(){function e(t){void 0===t&&(t={}),this.views={},this.eventEmitter=new f.ILoveEventEmitter,Object.assign(this,t),this.stripeService=new l.StripeService,this.paypalService=new d.PaypalService,this.initEventListenersOnProviders()}return e.prototype.notifyPaymentError=function(t,e,n){var i,r="generic_payment_error";"update_card"===n&&(r="generic_card_update_error");try{var o=JSON.parse(e.responseText).msg;return void("stripe"===t?this.stripeService.view.notifyCardErrorMsg(o):"paypal"===t&&this.paypalService.notifyErrorMsg(o))}catch(t){}if("stripe"===t){var a=null===(i=null===e||void 0===e?void 0:e.error)||void 0===i?void 0:i.message,s=a||this.stripeService.view.getTranslationText(r);this.stripeService.view.notifyCardErrorMsg(s)}else if("paypal"===t){s=this.paypalService.getTranslationText(r);this.paypalService.notifyErrorMsg(s)}},e.prototype.clearPaymentError=function(t){var e=this;void 0===t&&(t=null);var n=function(){return e.paypalService.clearErrorMsg()},i=function(){return e.stripeService.view.clearCardErrorMsg()};if(null===t)n(),i();else if("paypal"===t)n();else{if("stripe"!==t)throw"Unknown provider "+t;i()}},e.prototype.enableActionButton=function(t){if("stripe"!==t){if("paypal"!==t)throw"Not implemented provider"}else this.stripeService.view.enableActionButton()},e.prototype.disableActionButton=function(t){if("stripe"!==t){if("paypal"!==t)throw"Not implemented provider"}else this.stripeService.view.disableActionButton()},e.prototype.initEventListenersOnProviders=function(){var t=this;this.stripeService.addEventListener("View:ActionButtonClicked",function(){t.dispatchEvent(new p.IloveEvent("UserPayment:ActionButtonClicked"))}),this.paypalService.addEventListener("onPaymentInited",function(e){var n=Object.assign({provider:"paypal"},e.detail);t.dispatchEvent(new p.IloveEvent("UserPayment:BeforeExternalAction",n))}),this.paypalService.addEventListener("onPaymentAuthorized",function(e){var n=Object.assign({provider:"paypal"},e.detail);t.updateUser(n.response),t.dispatchEvent(new p.IloveEvent("UserPayment:AfterExternalAction",n))}),this.paypalService.addEventListener("onPaymentInited_error",function(e){var n=Object.assign({provider:"paypal"},e.detail);t.dispatchEvent(new p.IloveEvent("UserPayment:Error",n))}),this.paypalService.addEventListener("onPaymentAuthorized_error",function(e){var n=Object.assign({provider:"paypal"},e.detail);t.dispatchEvent(new p.IloveEvent("UserPayment:Error",n))})},e.prototype.updateCard=function(t){return a(this,void 0,void 0,function(){var e,n;return s(this,function(i){switch(i.label){case 0:if("updateCard","stripe"!==t.provider)return[3,5];e=void 0,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.stripeService.updateCard(t.element)];case 2:return e=i.sent(),[3,4];case 3:throw n=i.sent(),u.configureScope(function(e){var i;e.setExtra("error",{err:null!==(i=null===n||void 0===n?void 0:n.responseText)&&void 0!==i?i:n,params:t})}),u.captureMessage("Failed Stripe updateCard"),n;case 4:return this.updateUser(e),[2,e];case 5:throw"'Update card' is not implemented for provider '"+t.provider+"'"}})})},e.prototype.payPackage=function(t){return a(this,void 0,void 0,function(){var e,n,i,r,o;return s(this,function(a){switch(a.label){case 0:if("paypal"===t.provider)throw"This action is performed by PaypalService by mounting the view";if(e="payPackage",n=null,"stripe"!==t.provider)return[3,5];i=this.stripeService.paymentVia,r={paymentVia:i,packageName:t.packageName,quantity:t.packageQuantity,disableTrial:t.disableTrial},this.dispatchEvent(new p.IloveEvent("UserPayment:BeforeAction",{action:e,params:t})),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.stripeService.payPackage(r)];case 2:return n=a.sent(),[3,4];case 3:throw o=a.sent(),u.configureScope(function(e){var n;e.setExtra("error",{err:null!==(n=null===o||void 0===o?void 0:o.responseText)&&void 0!==n?n:o,params:t})}),u.captureMessage("Failed Stripe payPackage"),o;case 4:return this.updateUser(n),this.dispatchEvent(new p.IloveEvent("UserPayment:AfterAction",{action:e,params:t,response:n})),[2,n];case 5:throw"Unknown provider "+t.provider}})})},e.prototype.subscribeNextMonthsWithDiscount=function(){return a(this,void 0,void 0,function(){var e,n,i,r,o,a,l;return s(this,function(s){switch(s.label){case 0:e="subscribeNextMonthsWithDiscount",this.dispatchEvent(new p.IloveEvent("UserPayment:BeforeAction",{action:e,params:null})),n=t.post(c.CANCEL_SUBSCR_OFFER),s.label=1;case 1:return s.trys.push([1,3,,4]),o=(r=JSON).parse,[4,n.promise()];case 2:return i=o.apply(r,[s.sent()]),[3,4];case 3:throw a=s.sent(),u.configureScope(function(t){var e;t.setExtra("error",{err:null!==(e=null===a||void 0===a?void 0:a.responseText)&&void 0!==e?e:a,params:null})}),u.captureMessage("Failed subscribeNextMonthsWithDiscount"),a;case 4:return l=i.data,this.updateUser(i),this.dispatchEvent(new p.IloveEvent("UserPayment:AfterAction",{action:e,params:null,response:i})),[2,l]}})})},e.prototype.cancelSubscription=function(){return a(this,void 0,void 0,function(){var e,n,i,r,o,a,l;return s(this,function(s){switch(s.label){case 0:e="cancelSubscription",this.dispatchEvent(new p.IloveEvent("UserPayment:BeforeAction",{action:e,params:null})),n=t.post(c.CANCEL_SUBSCRIPTION),s.label=1;case 1:return s.trys.push([1,3,,4]),o=(r=JSON).parse,[4,n.promise()];case 2:return i=o.apply(r,[s.sent()]),[3,4];case 3:throw a=s.sent(),u.configureScope(function(t){var e;t.setExtra("error",{err:null!==(e=null===a||void 0===a?void 0:a.responseText)&&void 0!==e?e:a,params:null})}),u.captureMessage("Failed cancelSubscription"),a;case 4:return l=i.data,this.updateUser(i),this.dispatchEvent(new p.IloveEvent("UserPayment:AfterAction",{action:e,params:null,response:i})),[2,l]}})})},e.prototype.reactivateSubscription=function(){return a(this,void 0,void 0,function(){var e,n,i,r,o,a,l;return s(this,function(s){switch(s.label){case 0:e="reactivateSubscription",this.dispatchEvent(new p.IloveEvent("UserPayment:BeforeAction",{action:e,params:null})),n=t.post(c.REACTIVATE_SUBSCRIPTION),s.label=1;case 1:return s.trys.push([1,3,,4]),o=(r=JSON).parse,[4,n.promise()];case 2:return i=o.apply(r,[s.sent()]),[3,4];case 3:throw a=s.sent(),u.configureScope(function(t){var e;t.setExtra("error",{err:null!==(e=null===a||void 0===a?void 0:a.responseText)&&void 0!==e?e:a,params:null})}),u.captureMessage("Failed reactivateSubscription"),a;case 4:return l=i.data,this.updateUser(i),this.dispatchEvent(new p.IloveEvent("UserPayment:AfterAction",{action:e,params:null,response:i})),[2,l]}})})},e.prototype.cancelSubscriptionReason=function(e){return a(this,void 0,void 0,function(){var n,i,r,o,a,l,d,f;return s(this,function(s){switch(s.label){case 0:n="cancelSubscriptionReason",i={reason:e.reason,message:e.message},this.dispatchEvent(new p.IloveEvent("UserPayment:BeforeAction",{action:n,params:e})),r=t.post(c.CANCEL_SUBSCRIPTION_REASON,i),s.label=1;case 1:return s.trys.push([1,3,,4]),l=(a=JSON).parse,[4,r.promise()];case 2:return o=l.apply(a,[s.sent()]),[3,4];case 3:throw d=s.sent(),u.configureScope(function(t){var n;t.setExtra("error",{err:null!==(n=null===d||void 0===d?void 0:d.responseText)&&void 0!==n?n:d,params:e})}),u.captureMessage("Failed cancelSubscriptionReason"),d;case 4:return f=o.data,this.updateUser(o),this.dispatchEvent(new p.IloveEvent("UserPayment:AfterAction",{action:n,params:null,response:o})),[2,f]}})})},e.prototype.paySubscription=function(t){return a(this,void 0,void 0,function(){var e,n,i,r,o;return s(this,function(a){switch(a.label){case 0:if("paypal"===t.provider)throw"This action is performed by PaypalService by mounting the view";if(n="paySubscription","stripe"!==t.provider)return[3,5];i=this.stripeService.paymentVia,r={paymentVia:i,numUsers:t.numUsers,subscriptionInterval:t.subscriptionInterval,disableTrial:t.disableTrial},this.dispatchEvent(new p.IloveEvent("UserPayment:BeforeAction",{detail:{action:n,params:t}})),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.stripeService.paySubscription(r)];case 2:return e=a.sent(),[3,4];case 3:throw o=a.sent(),u.configureScope(function(e){var n;e.setExtra("error",{err:null!==(n=null===o||void 0===o?void 0:o.responseText)&&void 0!==n?n:o,params:t})}),u.captureMessage("Failed Stripe PaySubscription"),o;case 4:return this.updateUser(e),this.dispatchEvent(new p.IloveEvent("UserPayment:AfterAction",{detail:{action:n,params:null,response:e}})),[2,e];case 5:throw"Unknown provider "+t.provider}})})},e.prototype.updateSubscription=function(t){return a(this,void 0,void 0,function(){var e,n,i,r,o;return s(this,function(a){switch(a.label){case 0:if("paypal"===t.provider)throw"This action is performed by PaypalService by mounting the view";if(e="updateSubscription","stripe"!==t.provider)return[3,5];n=this.stripeService.paymentVia,i=void 0,r={paymentVia:n,numDigitalSignatures:t.numSignatures,numUsers:t.numUsers,subscriptionInterval:t.subscriptionInterval,disableTrial:t.disableTrial},this.dispatchEvent(new p.IloveEvent("UserPayment:BeforeAction",{action:e,params:t})),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.stripeService.paySubscription(r)];case 2:return i=a.sent(),[3,4];case 3:throw o=a.sent(),u.configureScope(function(e){var n;e.setExtra("error",{err:null!==(n=null===o||void 0===o?void 0:o.responseText)&&void 0!==n?n:o,params:t})}),u.captureMessage("Failed Stripe UpdateSubscription"),o;case 4:return this.updateUser(i),this.dispatchEvent(new p.IloveEvent("UserPayment:AfterAction",{action:e,params:null,response:i})),[2,i];case 5:throw"Unknown provider "+t.provider}})})},e.prototype.paymentRemove=function(){return a(this,void 0,void 0,function(){var e,n,i,r,o,a,l;return s(this,function(s){switch(s.label){case 0:e="paymentRemove",this.dispatchEvent(new p.IloveEvent("UserPayment:BeforeAction",{detail:{action:e,params:null}})),n=t.post(c.REMOVE_PAYMENT_DATA),s.label=1;case 1:return s.trys.push([1,3,,4]),o=(r=JSON).parse,[4,n.promise()];case 2:return i=o.apply(r,[s.sent()]),[3,4];case 3:throw a=s.sent(),u.configureScope(function(t){var e;t.setExtra("error",{err:null!==(e=null===a||void 0===a?void 0:a.responseText)&&void 0!==e?e:a,params:null})}),u.captureMessage("Failed paymentRemove"),a;case 4:return l=i.data,this.updateUser(i),this.dispatchEvent(new p.IloveEvent("UserPayment:AfterAction",{detail:{action:e,params:null,response:i}})),[2,l]}})})},e.prototype.getPaymentSummary_updateSubscription=function(t,e,n){return this._getPaymentSummary({type:"subscription",numDigitalSignatures:t,numUsers:e,subscriptionInterval:n,subscriptionPlan:void 0})},e.prototype.getPaymentSummary_package=function(t,e){return this._getPaymentSummary({type:"package",package:t,quantity:e})},e.prototype._getPaymentSummary=function(e){var n=c.SUMMARY_INFO;n="en-US"===window.lang?n.replace("/<locale?>",""):n.replace("<locale?>",window.lang);var i=null;return"subscription"===e.type?i=t.post(n,{type:"subscription",users:e.numUsers,signatures:e.numDigitalSignatures,interval:e.subscriptionInterval}):"package"===e.type&&(i=t.post(n,{type:"package",package:e.package,quantity:e.quantity})),new Promise(function(t,e){i.done(function(e){var n=JSON.parse(e);t(n)}).fail(function(t,n,i){u.configureScope(function(e){e.setExtra("error",t.responseText)}),u.captureMessage("Error while fetching payment summary"),e(t.responseText)})})},e.prototype.mountView=function(t,e,n){return a(this,void 0,void 0,function(){var i,r,o,a;return s(this,function(s){switch(s.label){case 0:switch(t){case"stripe":return[3,1];case"paypal":return[3,3]}return[3,5];case 1:return i=this.views,r="stripe",[4,this.stripeService.view.mount(e,n)];case 2:return i[r]=s.sent(),[2,this.views.stripe];case 3:return o=this.views,a="paypal",[4,this.paypalService.mountView(e,n)];case 4:return o[a]=s.sent(),[2,this.views.paypal];case 5:return[2]}})})},e.prototype.updateUser=function(t){h.UserAuth.updateUser(t.user),t.content&&h.UserAuth.updateUserMenu(t.content)},e.prototype.dispatchEvent=function(t){return this.eventEmitter.dispatchEvent(t)},e.prototype.addEventListener=function(t,e){return this.eventEmitter.addEventListener(t,e)},e}();e.UserPayment=v}).call(this,n(1))},function(t,e,n){var i,r;!function(o){if(void 0===(r="function"==typeof(i=o)?i.call(e,n,e,t):i)||(t.exports=r),!0,t.exports=o(),!!0){var a=window.Cookies,s=window.Cookies=o();s.noConflict=function(){return window.Cookies=a,s}}}(function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(i){function r(){}function o(e,n,o){if("undefined"!=typeof document){"number"==typeof(o=t({path:"/"},r.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(t){}n=i.write?i.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in o)o[c]&&(s+="; "+c,!0!==o[c]&&(s+="="+o[c].split(";")[0]));return document.cookie=e+"="+n+s}}function a(t,n){if("undefined"!=typeof document){for(var r={},o=document.cookie?document.cookie.split("; "):[],a=0;a<o.length;a++){var s=o[a].split("="),c=s.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var l=e(s[0]);if(c=(i.read||i)(c,l)||e(c),n)try{c=JSON.parse(c)}catch(t){}if(r[l]=c,t===l)break}catch(t){}}return t?r[t]:r}}return r.set=o,r.get=function(t){return a(t,!1)},r.getJSON=function(t){return a(t,!0)},r.remove=function(e,n){o(e,"",t(n,{expires:-1}))},r.defaults={},r.withConverter=n,r}(function(){})})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OptionsTemplate=void 0;var i=n(8),r=n(17),o=function(){function t(){}return t.process=function(t,e){var n=t;for(var i in e)e.hasOwnProperty(i)&&(n=(n=n.replace(new RegExp("\\$\\{"+i+"\\}","g"),e[i])).replace(new RegExp("\\$\\{ "+i+" \\}","g"),e[i]));return n},t.processButton=function(t){return'<div id="processTaskWrapper"></div><button id="processTask" class="btn btn--process btn--red '+t.tool+'"><span id="processTaskTextBtn">'+t.toolText+'</span> <span><svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="#FFF" fill-rule="evenodd"><path d="M13 26C5.82 26 0 20.18 0 13S5.82 0 13 0s13 5.82 13 13-5.82 13-13 13zm0-2c6.075 0 11-4.925 11-11S19.075 2 13 2 2 6.925 2 13s4.925 11 11 11z" fill-rule="nonzero"/><path d="M18.684 13.105a.55.55 0 0 1-.148.378l-5.263 5.263a.55.55 0 0 1-.378.148.54.54 0 0 1-.526-.526V15.21H7.842a.54.54 0 0 1-.526-.526v-3.158A.54.54 0 0 1 7.842 11h4.526V7.842a.52.52 0 0 1 .526-.526c.148 0 .28.066.395.164l5.247 5.247a.55.55 0 0 1 .148.378z"/></svg></span></button></div>'},t.rangeBox=function(t){return'<div class="range" id="range-'+t.rangeId+'"><div class="file__actions"><a class="file__btn remove tooltip tooltip--top" title="'+i.Lang.t("Remove")+'">'+r.Tools.svgRemove()+'</a></div><div class="range__title">'+i.Lang.t("Range")+" "+t.rangeId+'</div><div class="range__container"><div class="range__element range__element--start"><div class="range__canvas"><canvas id="range-'+t.rangeId+'-ini" width="'+t.screenSize.w+'" height="'+t.screenSize.h+'"></canvas></div><div class="file__info"><span class="file__info__name" id="info-'+t.rangeId+'-ini">'+t.pageIni+'</span></div></div><div class="range__to"></div><div class="range__element range__element--end"><div class="range__canvas range__canvas--end"><canvas id="range-'+t.rangeId+'-end" width="'+t.screenSize.w+'" height="'+t.screenSize.h+'"></canvas></div><div class="file__info"><span class="file__info__name" id="info-'+t.rangeId+'-end">'+t.pageEnd+"</span></div></div></div></div>"},t.rangeFixedBox=function(t){return'<div class="range" id="range-fix-'+t.rangeId+'"><div class="file__actions"><a class="file__btn remove tooltip tooltip--top" title="'+i.Lang.t("Remove")+'">'+r.Tools.svgRemove()+'</a></div><div class="range__title">'+i.Lang.t("Range")+" "+t.rangeId+'</div><div class="range__container"><div class="range__element range__element--start"><div class="range__canvas"><canvas id="range-fix-'+t.rangeId+'-ini" width="'+t.screenSize.w+'" height="'+t.screenSize.h+'"></canvas></div><div class="file__info"><span class="file__info__name" id="info-'+t.rangeId+'-ini">'+t.pageIni+'</span></div></div><div class="range__to"></div><div class="range__element range__element--end"><div class="range__canvas range__canvas--end"><canvas id="range-fix-'+t.rangeId+'-end" width="'+t.screenSize.w+'" height="'+t.screenSize.h+'"></canvas></div><div class="file__info"><span class="file__info__name" id="info-'+t.rangeId+'-end">'+t.pageEnd+"</span></div></div></div></div>"},t.removeBox=function(t){return'<div class="range" id="remove-page-'+t.page+'" data-page="'+t.page+'"><div class="file__actions"><a class="file__btn remove tooltip tooltip--top" title="'+i.Lang.t("Remove")+'">'+r.Tools.svgRemove()+'</a></div><div class="range__container"><div class="range__element range__element--start"><div class="range__canvas"><canvas id="remove-page-'+t.page+'-ini" width="'+t.screenSize.w+'" height="'+t.screenSize.h+'"></canvas></div><div class="file__info"><span class="file__info__name">Page '+t.page+"</span></div></div></div></div>"},t.reorderBox=function(t){return'<div class="range" id="reorder-page-'+t.page+'" data-page="'+t.page+'"><div class="file__actions"><a class="file__btn remove tooltip tooltip--top" title="'+i.Lang.t("Remove")+'">'+r.Tools.svgRemove()+'</a></div><div class="range__container"><div class="range__element range__element--start"><div class="range__canvas"><canvas id="reorder-page-'+t.page+'-ini" width="'+t.screenSize.w+'" height="'+t.screenSize.h+'"></canvas></div><div class="file__info"><span class="file__info__name">Page '+t.page+"</span></div></div></div></div>"},t.pageBox=function(t){return'<div class="page '+t.class+'" id="'+t.file+t.page+'" data-page="'+t.page+'" data-pos="'+t.pos+'" data-file="'+t.file+'"><div class="page__add tooltip tooltip--top" data-title="'+i.Lang.t("addPage")+'"></div><div class="page__actions"><a class="page__btn rotate tooltip--top tooltip" data-rotate="0" title="'+i.Lang.t("Rotate")+'"><svg width="14px" height="17px" viewBox="0 0 14 17" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g transform="translate(-434.000000, -182.000000)" fill="#383E45"><g transform="translate(265.000000, 172.000000)"><g transform="translate(164.000000, 8.000000)"><path d="M7.76002152,9.05407587 L6.54613936,7.83158461 C5.77132096,8.83023944 5.28921173,9.98385795 5.14285714,11.1805219 L6.881894,11.1805219 C7.00242131,10.4315308 7.30373957,9.69975787 7.76002152,9.05407587 L7.76002152,9.05407587 Z M6.881894,12.9023406 L5.14285714,12.9023406 C5.28921173,14.0990046 5.76271186,15.2526231 6.53753027,16.2512779 L7.75141243,15.0287867 C7.30373957,14.3831047 7.00242131,13.6599408 6.881894,12.9023406 L6.881894,12.9023406 Z M7.75141243,17.4823783 C8.75006726,18.2571967 9.91229486,18.7220877 11.1089588,18.8684423 L11.1089588,17.1207963 C10.3599677,16.9916599 9.63680387,16.6989508 8.99112187,16.2340597 L7.75141243,17.4823783 L7.75141243,17.4823783 Z M12.8307775,5.21442023 L12.8307775,2.57142857 L8.91364003,6.48856605 L12.8307775,10.3196126 L12.8307775,6.95345709 C15.27576,7.36669357 17.1353242,9.48453054 17.1353242,12.0414313 C17.1353242,14.598332 15.27576,16.716169 12.8307775,17.1294054 L12.8307775,18.8684423 C16.2313694,18.4465967 18.8571429,15.5539414 18.8571429,12.0414313 C18.8571429,8.52892117 16.2313694,5.63626581 12.8307775,5.21442023 L12.8307775,5.21442023 Z" transform="translate(12.000000, 10.719935) scale(-1, 1) translate(-12.000000, -10.719935) "></path></g></g></g></g></svg></a><a class="page__btn remove tooltip--top tooltip" title="'+i.Lang.t("Remove")+'"><svg width="12px" height="12px" viewBox="0 0 12 12" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g transform="translate(-586.000000, -216.000000)" fill="#383E45"><g transform="translate(580.000000, 210.000000)"><polygon points="18 7.20857143 16.7914286 6 12 10.7914286 7.20857143 6 6 7.20857143 10.7914286 12 6 16.7914286 7.20857143 18 12 13.2085714 16.7914286 18 18 16.7914286 13.2085714 12"></polygon></g></g></g></svg></a></div><div class="page__container"><div class="page__element"><div class="page__canvas"><canvas id="page-'+t.file+"-"+t.page+'" width="'+t.screenSize.w+'" height="'+t.screenSize.h+'"></canvas></div><div class="file__info"><span class="file__info__name"><span class="file__info__more"><strong>'+t.filename+"</strong><br>"+i.Lang.t("Page")+"&nbsp;</span>"+t.page+'</span></div></div></div><div class="page__add tooltip tooltip--top" data-title="'+i.Lang.t("addPage")+'"></div></div>'},t.page=function(t){return'<div class="page '+t.class+'" id="'+t.file+t.page+'" data-page="'+t.page+'" data-file="'+t.file+'"><div class="page__container"><div class="page__element"><div class="page__canvas"><canvas id="page-'+t.file+"-"+t.page+'" width="'+t.screenSize.w+'" height="'+t.screenSize.h+'"></canvas></div></div></div></div>'},t.extractBox=function(t){return'<div class="range" id="extract-page-'+t.page+'" data-page="'+t.page+'"><div class="file__actions"><a class="file__btn remove tooltip tooltip--top" title="'+i.Lang.t("Remove")+'">'+r.Tools.svgRemove()+'</a></div><div class="range__container"><div class="range__element range__element--start"><div class="range__canvas"><canvas id="extract-page-'+t.page+'-ini" width="'+t.screenSize.w+'" height="'+t.screenSize.h+'"></canvas> </div><div class="file__info"><span class="file__info__name">'+t.page+"</span></div></div></div></div>"},t.askPassword=function(){return'<div id="passwordAsk"><h2 class="title2">'+i.Lang.t("Some files require password")+'</h2><div class="form__group"><div class="checkbox"><input type="checkbox" name="allPwd" id="allPwd" value="1"><label for="allPwd">'+i.Lang.t("Same password for all files")+'</label></div></div><div class="passwords"></div><div class="text-right"><button class="btn btn--red" id="pwdSend">'+i.Lang.t("Send")+'</button></div><br><br><div class="text-right"><p id="useUnlock">'+i.Lang.t("Did you forgot your password?")+' <a href="'+window.unlockPdfUrl+'">'+i.Lang.t("Unlock PDF")+'</a></p><p id="ignorePwdFiles">'+i.Lang.t("Or")+' <a class="link--cancel" id="pwdIgnore" href="#">'+i.Lang.t("Ignore these files")+"</a></p></div></div>"},t.askPasswordField=function(t){return'<div class="password" id="pwd-'+t.id+'"><label for="pwd'+t.id+'">'+t.server_filename+'</label><div class="form__group form__group--btn form__group--btn-lg"><div class="input--icon input--lock"><input class="input" type="password" name="pwd'+t.id+'" id="pwd'+t.id+'"></div><a class="btn showPassword" href="#"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12.015 7c4.751 0 8.063 3.012 9.504 4.636-1.401 1.837-4.713 5.364-9.504 5.364-4.42 0-7.93-3.536-9.478-5.407 1.493-1.647 4.817-4.593 9.478-4.593zm0-2c-7.569 0-12.015 6.551-12.015 6.551s4.835 7.449 12.015 7.449c7.733 0 11.985-7.449 11.985-7.449s-4.291-6.551-11.985-6.551zm-.015 5c1.103 0 2 .897 2 2s-.897 2-2 2-2-.897-2-2 .897-2 2-2zm0-2c-2.209 0-4 1.792-4 4 0 2.209 1.791 4 4 4s4-1.791 4-4c0-2.208-1.791-4-4-4z"/></svg></a></div></div>'},t.checkOk=function(){return'<svg class="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52"><circle class="checkmark__circle" cx="26" cy="26" r="25" fill="none"/><path class="checkmark__check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8"/></svg>'},t}();e.OptionsTemplate=o},function(t,e,n){"use strict";(function(t){var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.OptionsManager=void 0;var o=n(158),a=n(161),s=n(8),c=n(17),l=function(e){function n(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.firstFileLoaded=!1,n}return r(n,e),n.prototype.triggerFirstFileReady=function(){t("body").addClass("first-file-ready");var e=new CustomEvent("firstFileReady",{detail:{file:this.files.files[0]}});window.dispatchEvent(e)},n.prototype.initViewManager=function(){this.viewManager=new a.ViewManager({tool:this.tool,subtool:this.subtool,files:this.files,processManager:this.processManager}),!0===this.passwordNeeded&&(this.viewManager.pdfViewer.needPassword=!0)},n.prototype.askForPassword=function(e){var n=this,i=this;return new Promise(function(r,o){var a=n.files.getFileByServerFilename(e),l=c.Tools.modalViewOk({id:"pwd-"+a.id,title:s.Lang.t("askPasswordTitle"),content:"<form><label>"+a.name+'</label><input type="password"></form>'});t(l).modal(),t("#pwd-"+a.id).on("click",function(){i.files.updateFile(a.id,{password:t("#pwd-"+a.id+" input").val()}),r(a)})})},n.prototype.fileAdded=function(t,n,i){return void 0===i&&(i=!1),null==this.viewManager&&this.init(),e.prototype.fileAdded.call(this,t,n,i)},n.prototype.tryInitByParent=function(){e.prototype.tryInitByParent.call(this)},n}(o.OptionsManager);e.OptionsManager=l}).call(this,n(1))},function(t,e,n){(function(e){t.exports=e.$=n(85)}).call(this,n(32))},function(t,e,n){var i;!function(e,n){"use strict";"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,function(n,r){"use strict";var o=[],a=n.document,s=Object.getPrototypeOf,c=o.slice,l=o.concat,u=o.push,d=o.indexOf,p={},f=p.toString,h=p.hasOwnProperty,v=h.toString,g=v.call(Object),m={},y=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},b=function(t){return null!=t&&t===t.window},_={type:!0,src:!0,noModule:!0};function w(t,e,n){var i,r=(e=e||a).createElement("script");if(r.text=t,n)for(i in _)n[i]&&(r[i]=n[i]);e.head.appendChild(r).parentNode.removeChild(r)}function x(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?p[f.call(t)]||"object":typeof t}var O=function(t,e){return new O.fn.init(t,e)},S=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function E(t){var e=!!t&&"length"in t&&t.length,n=x(t);return!y(t)&&!b(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}O.fn=O.prototype={jquery:"3.3.1",constructor:O,length:0,toArray:function(){return c.call(this)},get:function(t){return null==t?c.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=O.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return O.each(this,t)},map:function(t){return this.pushStack(O.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(c.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:o.sort,splice:o.splice},O.extend=O.fn.extend=function(){var t,e,n,i,r,o,a=arguments[0]||{},s=1,c=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||y(a)||(a={}),s===c&&(a=this,s--);s<c;s++)if(null!=(t=arguments[s]))for(e in t)n=a[e],a!==(i=t[e])&&(l&&i&&(O.isPlainObject(i)||(r=Array.isArray(i)))?(r?(r=!1,o=n&&Array.isArray(n)?n:[]):o=n&&O.isPlainObject(n)?n:{},a[e]=O.extend(l,o,i)):void 0!==i&&(a[e]=i));return a},O.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==f.call(t))&&(!(e=s(t))||"function"==typeof(n=h.call(e,"constructor")&&e.constructor)&&v.call(n)===g)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t){w(t)},each:function(t,e){var n,i=0;if(E(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(S,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(E(Object(t))?O.merge(n,"string"==typeof t?[t]:t):u.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:d.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,a=!n;r<o;r++)!e(t[r],r)!==a&&i.push(t[r]);return i},map:function(t,e,n){var i,r,o=0,a=[];if(E(t))for(i=t.length;o<i;o++)null!=(r=e(t[o],o,n))&&a.push(r);else for(o in t)null!=(r=e(t[o],o,n))&&a.push(r);return l.apply([],a)},guid:1,support:m}),"function"==typeof Symbol&&(O.fn[Symbol.iterator]=o[Symbol.iterator]),O.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){p["[object "+e+"]"]=e.toLowerCase()});var P=function(t){var e,n,i,r,o,a,s,c,l,u,d,p,f,h,v,g,m,y,b,_="sizzle"+1*new Date,w=t.document,x=0,O=0,S=at(),E=at(),P=at(),k=function(t,e){return t===e&&(d=!0),0},C={}.hasOwnProperty,j=[],T=j.pop,M=j.push,A=j.push,L=j.slice,I=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},D="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",R="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",z="\\["+F+"*("+R+")(?:"+F+"*([*^$|!~]?=)"+F+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+R+"))|)"+F+"*\\]",B=":("+R+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+z+")*)|.*)\\)|)",N=new RegExp(F+"+","g"),U=new RegExp("^"+F+"+|((?:^|[^\\\\])(?:\\\\.)*)"+F+"+$","g"),H=new RegExp("^"+F+"*,"+F+"*"),V=new RegExp("^"+F+"*([>+~]|"+F+")"+F+"*"),W=new RegExp("="+F+"*([^\\]'\"]*?)"+F+"*\\]","g"),q=new RegExp(B),G=new RegExp("^"+R+"$"),Y={ID:new RegExp("^#("+R+")"),CLASS:new RegExp("^\\.("+R+")"),TAG:new RegExp("^("+R+"|[*])"),ATTR:new RegExp("^"+z),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+F+"*(even|odd|(([+-]|)(\\d*)n|)"+F+"*(?:([+-]|)"+F+"*(\\d+)|))"+F+"*\\)|)","i"),bool:new RegExp("^(?:"+D+")$","i"),needsContext:new RegExp("^"+F+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+F+"*((?:-\\d)?\\d*)"+F+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,$=new RegExp("\\\\([\\da-f]{1,6}"+F+"?|("+F+")|.)","ig"),tt=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},et=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,nt=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},it=function(){p()},rt=yt(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{A.apply(j=L.call(w.childNodes),w.childNodes),j[w.childNodes.length].nodeType}catch(t){A={apply:j.length?function(t,e){M.apply(t,L.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function ot(t,e,i,r){var o,s,l,u,d,h,m,y=e&&e.ownerDocument,x=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==x&&9!==x&&11!==x)return i;if(!r&&((e?e.ownerDocument||e:w)!==f&&p(e),e=e||f,v)){if(11!==x&&(d=Q.exec(t)))if(o=d[1]){if(9===x){if(!(l=e.getElementById(o)))return i;if(l.id===o)return i.push(l),i}else if(y&&(l=y.getElementById(o))&&b(e,l)&&l.id===o)return i.push(l),i}else{if(d[2])return A.apply(i,e.getElementsByTagName(t)),i;if((o=d[3])&&n.getElementsByClassName&&e.getElementsByClassName)return A.apply(i,e.getElementsByClassName(o)),i}if(n.qsa&&!P[t+" "]&&(!g||!g.test(t))){if(1!==x)y=e,m=t;else if("object"!==e.nodeName.toLowerCase()){for((u=e.getAttribute("id"))?u=u.replace(et,nt):e.setAttribute("id",u=_),s=(h=a(t)).length;s--;)h[s]="#"+u+" "+mt(h[s]);m=h.join(","),y=J.test(t)&&vt(e.parentNode)||e}if(m)try{return A.apply(i,y.querySelectorAll(m)),i}catch(t){}finally{u===_&&e.removeAttribute("id")}}}return c(t.replace(U,"$1"),e,i,r)}function at(){var t=[];return function e(n,r){return t.push(n+" ")>i.cacheLength&&delete e[t.shift()],e[n+" "]=r}}function st(t){return t[_]=!0,t}function ct(t){var e=f.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function lt(t,e){for(var n=t.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=e}function ut(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function dt(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function pt(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function ft(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&rt(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ht(t){return st(function(e){return e=+e,st(function(n,i){for(var r,o=t([],n.length,e),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function vt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=ot.support={},o=ot.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},p=ot.setDocument=function(t){var e,r,a=t?t.ownerDocument||t:w;return a!==f&&9===a.nodeType&&a.documentElement?(h=(f=a).documentElement,v=!o(f),w!==f&&(r=f.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",it,!1):r.attachEvent&&r.attachEvent("onunload",it)),n.attributes=ct(function(t){return t.className="i",!t.getAttribute("className")}),n.getElementsByTagName=ct(function(t){return t.appendChild(f.createComment("")),!t.getElementsByTagName("*").length}),n.getElementsByClassName=K.test(f.getElementsByClassName),n.getById=ct(function(t){return h.appendChild(t).id=_,!f.getElementsByName||!f.getElementsByName(_).length}),n.getById?(i.filter.ID=function(t){var e=t.replace($,tt);return function(t){return t.getAttribute("id")===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&v){var n=e.getElementById(t);return n?[n]:[]}}):(i.filter.ID=function(t){var e=t.replace($,tt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&v){var n,i,r,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(r=e.getElementsByName(t),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),i.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&v)return e.getElementsByClassName(t)},m=[],g=[],(n.qsa=K.test(f.querySelectorAll))&&(ct(function(t){h.appendChild(t).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+F+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||g.push("\\["+F+"*(?:value|"+D+")"),t.querySelectorAll("[id~="+_+"-]").length||g.push("~="),t.querySelectorAll(":checked").length||g.push(":checked"),t.querySelectorAll("a#"+_+"+*").length||g.push(".#.+[+~]")}),ct(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=f.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&g.push("name"+F+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),h.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),g.push(",.*:")})),(n.matchesSelector=K.test(y=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&ct(function(t){n.disconnectedMatch=y.call(t,"*"),y.call(t,"[s!='']:x"),m.push("!=",B)}),g=g.length&&new RegExp(g.join("|")),m=m.length&&new RegExp(m.join("|")),e=K.test(h.compareDocumentPosition),b=e||K.test(h.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},k=e?function(t,e){if(t===e)return d=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===i?t===f||t.ownerDocument===w&&b(w,t)?-1:e===f||e.ownerDocument===w&&b(w,e)?1:u?I(u,t)-I(u,e):0:4&i?-1:1)}:function(t,e){if(t===e)return d=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,a=[t],s=[e];if(!r||!o)return t===f?-1:e===f?1:r?-1:o?1:u?I(u,t)-I(u,e):0;if(r===o)return ut(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?ut(a[i],s[i]):a[i]===w?-1:s[i]===w?1:0},f):f},ot.matches=function(t,e){return ot(t,null,null,e)},ot.matchesSelector=function(t,e){if((t.ownerDocument||t)!==f&&p(t),e=e.replace(W,"='$1']"),n.matchesSelector&&v&&!P[e+" "]&&(!m||!m.test(e))&&(!g||!g.test(e)))try{var i=y.call(t,e);if(i||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return ot(e,f,null,[t]).length>0},ot.contains=function(t,e){return(t.ownerDocument||t)!==f&&p(t),b(t,e)},ot.attr=function(t,e){(t.ownerDocument||t)!==f&&p(t);var r=i.attrHandle[e.toLowerCase()],o=r&&C.call(i.attrHandle,e.toLowerCase())?r(t,e,!v):void 0;return void 0!==o?o:n.attributes||!v?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},ot.escape=function(t){return(t+"").replace(et,nt)},ot.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},ot.uniqueSort=function(t){var e,i=[],r=0,o=0;if(d=!n.detectDuplicates,u=!n.sortStable&&t.slice(0),t.sort(k),d){for(;e=t[o++];)e===t[o]&&(r=i.push(o));for(;r--;)t.splice(i[r],1)}return u=null,t},r=ot.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=r(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=r(e);return n},(i=ot.selectors={cacheLength:50,createPseudo:st,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace($,tt),t[3]=(t[3]||t[4]||t[5]||"").replace($,tt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||ot.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&ot.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return Y.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&q.test(n)&&(e=a(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace($,tt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=S[t+" "];return e||(e=new RegExp("(^|"+F+")"+t+"("+F+"|$)"))&&S(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(i){var r=ot.attr(i,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r.replace(N," ")+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,c){var l,u,d,p,f,h,v=o!==a?"nextSibling":"previousSibling",g=e.parentNode,m=s&&e.nodeName.toLowerCase(),y=!c&&!s,b=!1;if(g){if(o){for(;v;){for(p=e;p=p[v];)if(s?p.nodeName.toLowerCase()===m:1===p.nodeType)return!1;h=v="only"===t&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&y){for(b=(f=(l=(u=(d=(p=g)[_]||(p[_]={}))[p.uniqueID]||(d[p.uniqueID]={}))[t]||[])[0]===x&&l[1])&&l[2],p=f&&g.childNodes[f];p=++f&&p&&p[v]||(b=f=0)||h.pop();)if(1===p.nodeType&&++b&&p===e){u[t]=[x,f,b];break}}else if(y&&(b=f=(l=(u=(d=(p=e)[_]||(p[_]={}))[p.uniqueID]||(d[p.uniqueID]={}))[t]||[])[0]===x&&l[1]),!1===b)for(;(p=++f&&p&&p[v]||(b=f=0)||h.pop())&&((s?p.nodeName.toLowerCase()!==m:1!==p.nodeType)||!++b||(y&&((u=(d=p[_]||(p[_]={}))[p.uniqueID]||(d[p.uniqueID]={}))[t]=[x,b]),p!==e)););return(b-=r)===i||b%i==0&&b/i>=0}}},PSEUDO:function(t,e){var n,r=i.pseudos[t]||i.setFilters[t.toLowerCase()]||ot.error("unsupported pseudo: "+t);return r[_]?r(e):r.length>1?(n=[t,t,"",e],i.setFilters.hasOwnProperty(t.toLowerCase())?st(function(t,n){for(var i,o=r(t,e),a=o.length;a--;)t[i=I(t,o[a])]=!(n[i]=o[a])}):function(t){return r(t,0,n)}):r}},pseudos:{not:st(function(t){var e=[],n=[],i=s(t.replace(U,"$1"));return i[_]?st(function(t,e,n,r){for(var o,a=i(t,null,r,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}}),has:st(function(t){return function(e){return ot(t,e).length>0}}),contains:st(function(t){return t=t.replace($,tt),function(e){return(e.textContent||e.innerText||r(e)).indexOf(t)>-1}}),lang:st(function(t){return G.test(t||"")||ot.error("unsupported lang: "+t),t=t.replace($,tt).toLowerCase(),function(e){var n;do{if(n=v?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===h},focus:function(t){return t===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:ft(!1),disabled:ft(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return Z.test(t.nodeName)},input:function(t){return X.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:ht(function(){return[0]}),last:ht(function(t,e){return[e-1]}),eq:ht(function(t,e,n){return[n<0?n+e:n]}),even:ht(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:ht(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:ht(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:ht(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=dt(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=pt(e);function gt(){}function mt(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function yt(t,e,n){var i=e.dir,r=e.next,o=r||i,a=n&&"parentNode"===o,s=O++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||a)return t(e,n,r);return!1}:function(e,n,c){var l,u,d,p=[x,s];if(c){for(;e=e[i];)if((1===e.nodeType||a)&&t(e,n,c))return!0}else for(;e=e[i];)if(1===e.nodeType||a)if(u=(d=e[_]||(e[_]={}))[e.uniqueID]||(d[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((l=u[o])&&l[0]===x&&l[1]===s)return p[2]=l[2];if(u[o]=p,p[2]=t(e,n,c))return!0}return!1}}function bt(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function _t(t,e,n,i,r){for(var o,a=[],s=0,c=t.length,l=null!=e;s<c;s++)(o=t[s])&&(n&&!n(o,i,r)||(a.push(o),l&&e.push(s)));return a}function wt(t,e,n,i,r,o){return i&&!i[_]&&(i=wt(i)),r&&!r[_]&&(r=wt(r,o)),st(function(o,a,s,c){var l,u,d,p=[],f=[],h=a.length,v=o||function(t,e,n){for(var i=0,r=e.length;i<r;i++)ot(t,e[i],n);return n}(e||"*",s.nodeType?[s]:s,[]),g=!t||!o&&e?v:_t(v,p,t,s,c),m=n?r||(o?t:h||i)?[]:a:g;if(n&&n(g,m,s,c),i)for(l=_t(m,f),i(l,[],s,c),u=l.length;u--;)(d=l[u])&&(m[f[u]]=!(g[f[u]]=d));if(o){if(r||t){if(r){for(l=[],u=m.length;u--;)(d=m[u])&&l.push(g[u]=d);r(null,m=[],l,c)}for(u=m.length;u--;)(d=m[u])&&(l=r?I(o,d):p[u])>-1&&(o[l]=!(a[l]=d))}}else m=_t(m===a?m.splice(h,m.length):m),r?r(null,a,m,c):A.apply(a,m)})}function xt(t){for(var e,n,r,o=t.length,a=i.relative[t[0].type],s=a||i.relative[" "],c=a?1:0,u=yt(function(t){return t===e},s,!0),d=yt(function(t){return I(e,t)>-1},s,!0),p=[function(t,n,i){var r=!a&&(i||n!==l)||((e=n).nodeType?u(t,n,i):d(t,n,i));return e=null,r}];c<o;c++)if(n=i.relative[t[c].type])p=[yt(bt(p),n)];else{if((n=i.filter[t[c].type].apply(null,t[c].matches))[_]){for(r=++c;r<o&&!i.relative[t[r].type];r++);return wt(c>1&&bt(p),c>1&&mt(t.slice(0,c-1).concat({value:" "===t[c-2].type?"*":""})).replace(U,"$1"),n,c<r&&xt(t.slice(c,r)),r<o&&xt(t=t.slice(r)),r<o&&mt(t))}p.push(n)}return bt(p)}return gt.prototype=i.filters=i.pseudos,i.setFilters=new gt,a=ot.tokenize=function(t,e){var n,r,o,a,s,c,l,u=E[t+" "];if(u)return e?0:u.slice(0);for(s=t,c=[],l=i.preFilter;s;){for(a in n&&!(r=H.exec(s))||(r&&(s=s.slice(r[0].length)||s),c.push(o=[])),n=!1,(r=V.exec(s))&&(n=r.shift(),o.push({value:n,type:r[0].replace(U," ")}),s=s.slice(n.length)),i.filter)!(r=Y[a].exec(s))||l[a]&&!(r=l[a](r))||(n=r.shift(),o.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return e?s.length:s?ot.error(t):E(t,c).slice(0)},s=ot.compile=function(t,e){var n,r=[],o=[],s=P[t+" "];if(!s){for(e||(e=a(t)),n=e.length;n--;)(s=xt(e[n]))[_]?r.push(s):o.push(s);(s=P(t,function(t,e){var n=e.length>0,r=t.length>0,o=function(o,a,s,c,u){var d,h,g,m=0,y="0",b=o&&[],_=[],w=l,O=o||r&&i.find.TAG("*",u),S=x+=null==w?1:Math.random()||.1,E=O.length;for(u&&(l=a===f||a||u);y!==E&&null!=(d=O[y]);y++){if(r&&d){for(h=0,a||d.ownerDocument===f||(p(d),s=!v);g=t[h++];)if(g(d,a||f,s)){c.push(d);break}u&&(x=S)}n&&((d=!g&&d)&&m--,o&&b.push(d))}if(m+=y,n&&y!==m){for(h=0;g=e[h++];)g(b,_,a,s);if(o){if(m>0)for(;y--;)b[y]||_[y]||(_[y]=T.call(c));_=_t(_)}A.apply(c,_),u&&!o&&_.length>0&&m+e.length>1&&ot.uniqueSort(c)}return u&&(x=S,l=w),b};return n?st(o):o}(o,r))).selector=t}return s},c=ot.select=function(t,e,n,r){var o,c,l,u,d,p="function"==typeof t&&t,f=!r&&a(t=p.selector||t);if(n=n||[],1===f.length){if((c=f[0]=f[0].slice(0)).length>2&&"ID"===(l=c[0]).type&&9===e.nodeType&&v&&i.relative[c[1].type]){if(!(e=(i.find.ID(l.matches[0].replace($,tt),e)||[])[0]))return n;p&&(e=e.parentNode),t=t.slice(c.shift().value.length)}for(o=Y.needsContext.test(t)?0:c.length;o--&&(l=c[o],!i.relative[u=l.type]);)if((d=i.find[u])&&(r=d(l.matches[0].replace($,tt),J.test(c[0].type)&&vt(e.parentNode)||e))){if(c.splice(o,1),!(t=r.length&&mt(c)))return A.apply(n,r),n;break}}return(p||s(t,f))(r,e,!v,n,!e||J.test(t)&&vt(e.parentNode)||e),n},n.sortStable=_.split("").sort(k).join("")===_,n.detectDuplicates=!!d,p(),n.sortDetached=ct(function(t){return 1&t.compareDocumentPosition(f.createElement("fieldset"))}),ct(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||lt("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),n.attributes&&ct(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||lt("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),ct(function(t){return null==t.getAttribute("disabled")})||lt(D,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),ot}(n);O.find=P,O.expr=P.selectors,O.expr[":"]=O.expr.pseudos,O.uniqueSort=O.unique=P.uniqueSort,O.text=P.getText,O.isXMLDoc=P.isXML,O.contains=P.contains,O.escapeSelector=P.escape;var k=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&O(t).is(n))break;i.push(t)}return i},C=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},j=O.expr.match.needsContext;function T(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var M=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function A(t,e,n){return y(e)?O.grep(t,function(t,i){return!!e.call(t,i,t)!==n}):e.nodeType?O.grep(t,function(t){return t===e!==n}):"string"!=typeof e?O.grep(t,function(t){return d.call(e,t)>-1!==n}):O.filter(e,t,n)}O.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?O.find.matchesSelector(i,t)?[i]:[]:O.find.matches(t,O.grep(e,function(t){return 1===t.nodeType}))},O.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(O(t).filter(function(){for(e=0;e<i;e++)if(O.contains(r[e],this))return!0}));for(n=this.pushStack([]),e=0;e<i;e++)O.find(t,r[e],n);return i>1?O.uniqueSort(n):n},filter:function(t){return this.pushStack(A(this,t||[],!1))},not:function(t){return this.pushStack(A(this,t||[],!0))},is:function(t){return!!A(this,"string"==typeof t&&j.test(t)?O(t):t||[],!1).length}});var L,I=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(O.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||L,"string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:I.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof O?e[0]:e,O.merge(this,O.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:a,!0)),M.test(i[1])&&O.isPlainObject(e))for(i in e)y(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(r=a.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):y(t)?void 0!==n.ready?n.ready(t):t(O):O.makeArray(t,this)}).prototype=O.fn,L=O(a);var D=/^(?:parents|prev(?:Until|All))/,F={children:!0,contents:!0,next:!0,prev:!0};function R(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}O.fn.extend({has:function(t){var e=O(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(O.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,r=this.length,o=[],a="string"!=typeof t&&O(t);if(!j.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&O.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?O.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?d.call(O(t),this[0]):d.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(O.uniqueSort(O.merge(this.get(),O(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),O.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return k(t,"parentNode")},parentsUntil:function(t,e,n){return k(t,"parentNode",n)},next:function(t){return R(t,"nextSibling")},prev:function(t){return R(t,"previousSibling")},nextAll:function(t){return k(t,"nextSibling")},prevAll:function(t){return k(t,"previousSibling")},nextUntil:function(t,e,n){return k(t,"nextSibling",n)},prevUntil:function(t,e,n){return k(t,"previousSibling",n)},siblings:function(t){return C((t.parentNode||{}).firstChild,t)},children:function(t){return C(t.firstChild)},contents:function(t){return T(t,"iframe")?t.contentDocument:(T(t,"template")&&(t=t.content||t),O.merge([],t.childNodes))}},function(t,e){O.fn[t]=function(n,i){var r=O.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=O.filter(i,r)),this.length>1&&(F[t]||O.uniqueSort(r),D.test(t)&&r.reverse()),this.pushStack(r)}});var z=/[^\x20\t\r\n\f]+/g;function B(t){return t}function N(t){throw t}function U(t,e,n,i){var r;try{t&&y(r=t.promise)?r.call(t).done(e).fail(n):t&&y(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}O.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return O.each(t.match(z)||[],function(t,n){e[n]=!0}),e}(t):O.extend({},t);var e,n,i,r,o=[],a=[],s=-1,c=function(){for(r=r||t.once,i=e=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&t.stopOnFalse&&(s=o.length,n=!1);t.memory||(n=!1),e=!1,r&&(o=n?[]:"")},l={add:function(){return o&&(n&&!e&&(s=o.length-1,a.push(n)),function e(n){O.each(n,function(n,i){y(i)?t.unique&&l.has(i)||o.push(i):i&&i.length&&"string"!==x(i)&&e(i)})}(arguments),n&&!e&&c()),this},remove:function(){return O.each(arguments,function(t,e){for(var n;(n=O.inArray(e,o,n))>-1;)o.splice(n,1),n<=s&&s--}),this},has:function(t){return t?O.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=a=[],n||e||(o=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=[t,(n=n||[]).slice?n.slice():n],a.push(n),e||c()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!i}};return l},O.extend({Deferred:function(t){var e=[["notify","progress",O.Callbacks("memory"),O.Callbacks("memory"),2],["resolve","done",O.Callbacks("once memory"),O.Callbacks("once memory"),0,"resolved"],["reject","fail",O.Callbacks("once memory"),O.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return O.Deferred(function(n){O.each(e,function(e,i){var r=y(t[i[4]])&&t[i[4]];o[i[1]](function(){var t=r&&r.apply(this,arguments);t&&y(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(t,i,r){var o=0;function a(t,e,i,r){return function(){var s=this,c=arguments,l=function(){var n,l;if(!(t<o)){if((n=i.apply(s,c))===e.promise())throw new TypeError("Thenable self-resolution");l=n&&("object"==typeof n||"function"==typeof n)&&n.then,y(l)?r?l.call(n,a(o,e,B,r),a(o,e,N,r)):(o++,l.call(n,a(o,e,B,r),a(o,e,N,r),a(o,e,B,e.notifyWith))):(i!==B&&(s=void 0,c=[n]),(r||e.resolveWith)(s,c))}},u=r?l:function(){try{l()}catch(n){O.Deferred.exceptionHook&&O.Deferred.exceptionHook(n,u.stackTrace),t+1>=o&&(i!==N&&(s=void 0,c=[n]),e.rejectWith(s,c))}};t?u():(O.Deferred.getStackHook&&(u.stackTrace=O.Deferred.getStackHook()),n.setTimeout(u))}}return O.Deferred(function(n){e[0][3].add(a(0,n,y(r)?r:B,n.notifyWith)),e[1][3].add(a(0,n,y(t)?t:B)),e[2][3].add(a(0,n,y(i)?i:N))}).promise()},promise:function(t){return null!=t?O.extend(t,r):r}},o={};return O.each(e,function(t,n){var a=n[2],s=n[5];r[n[1]]=a.add,s&&a.add(function(){i=s},e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),a.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=a.fireWith}),r.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,n=e,i=Array(n),r=c.call(arguments),o=O.Deferred(),a=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?c.call(arguments):n,--e||o.resolveWith(i,r)}};if(e<=1&&(U(t,o.done(a(n)).resolve,o.reject,!e),"pending"===o.state()||y(r[n]&&r[n].then)))return o.then();for(;n--;)U(r[n],a(n),o.reject);return o.promise()}});var H=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;O.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&H.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},O.readyException=function(t){n.setTimeout(function(){throw t})};var V=O.Deferred();function W(){a.removeEventListener("DOMContentLoaded",W),n.removeEventListener("load",W),O.ready()}O.fn.ready=function(t){return V.then(t).catch(function(t){O.readyException(t)}),this},O.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--O.readyWait:O.isReady)||(O.isReady=!0,!0!==t&&--O.readyWait>0||V.resolveWith(a,[O]))}}),O.ready.then=V.then,"complete"===a.readyState||"loading"!==a.readyState&&!a.documentElement.doScroll?n.setTimeout(O.ready):(a.addEventListener("DOMContentLoaded",W),n.addEventListener("load",W));var q=function(t,e,n,i,r,o,a){var s=0,c=t.length,l=null==n;if("object"===x(n))for(s in r=!0,n)q(t,e,s,n[s],!0,o,a);else if(void 0!==i&&(r=!0,y(i)||(a=!0),l&&(a?(e.call(t,i),e=null):(l=e,e=function(t,e,n){return l.call(O(t),n)})),e))for(;s<c;s++)e(t[s],n,a?i:i.call(t[s],s,e(t[s],n)));return r?t:l?e.call(t):c?e(t[0],n):o},G=/^-ms-/,Y=/-([a-z])/g;function X(t,e){return e.toUpperCase()}function Z(t){return t.replace(G,"ms-").replace(Y,X)}var K=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function Q(){this.expando=O.expando+Q.uid++}Q.uid=1,Q.prototype={cache:function(t){var e=t[this.expando];return e||(e={},K(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[Z(e)]=n;else for(i in e)r[Z(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][Z(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map(Z):(e=Z(e))in i?[e]:e.match(z)||[]).length;for(;n--;)delete i[e[n]]}(void 0===e||O.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!O.isEmptyObject(e)}};var J=new Q,$=new Q,tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,et=/[A-Z]/g;function nt(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(et,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:tt.test(t)?JSON.parse(t):t)}(n)}catch(t){}$.set(t,e,n)}else n=void 0;return n}O.extend({hasData:function(t){return $.hasData(t)||J.hasData(t)},data:function(t,e,n){return $.access(t,e,n)},removeData:function(t,e){$.remove(t,e)},_data:function(t,e,n){return J.access(t,e,n)},_removeData:function(t,e){J.remove(t,e)}}),O.fn.extend({data:function(t,e){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(r=$.get(o),1===o.nodeType&&!J.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(i=a[n].name).indexOf("data-")&&(i=Z(i.slice(5)),nt(o,i,r[i]));J.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){$.set(this,t)}):q(this,function(e){var n;if(o&&void 0===e)return void 0!==(n=$.get(o,t))?n:void 0!==(n=nt(o,t))?n:void 0;this.each(function(){$.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){$.remove(this,t)})}}),O.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=J.get(t,e),n&&(!i||Array.isArray(n)?i=J.access(t,e,O.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=O.queue(t,e),i=n.length,r=n.shift(),o=O._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,function(){O.dequeue(t,e)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return J.get(t,n)||J.access(t,n,{empty:O.Callbacks("once memory").add(function(){J.remove(t,[e+"queue",n])})})}}),O.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?O.queue(this[0],t):void 0===e?this:this.each(function(){var n=O.queue(this,t,e);O._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&O.dequeue(this,t)})},dequeue:function(t){return this.each(function(){O.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=O.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(n=J.get(o[a],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(e)}});var it=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,rt=new RegExp("^(?:([+-])=|)("+it+")([a-z%]*)$","i"),ot=["Top","Right","Bottom","Left"],at=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&O.contains(t.ownerDocument,t)&&"none"===O.css(t,"display")},st=function(t,e,n,i){var r,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];for(o in r=n.apply(t,i||[]),e)t.style[o]=a[o];return r};function ct(t,e,n,i){var r,o,a=20,s=i?function(){return i.cur()}:function(){return O.css(t,e,"")},c=s(),l=n&&n[3]||(O.cssNumber[e]?"":"px"),u=(O.cssNumber[e]||"px"!==l&&+c)&&rt.exec(O.css(t,e));if(u&&u[3]!==l){for(c/=2,l=l||u[3],u=+c||1;a--;)O.style(t,e,u+l),(1-o)*(1-(o=s()/c||.5))<=0&&(a=0),u/=o;u*=2,O.style(t,e,u+l),n=n||[]}return n&&(u=+u||+c||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=l,i.start=u,i.end=r)),r}var lt={};function ut(t){var e,n=t.ownerDocument,i=t.nodeName,r=lt[i];return r||(e=n.body.appendChild(n.createElement(i)),r=O.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),lt[i]=r,r)}function dt(t,e){for(var n,i,r=[],o=0,a=t.length;o<a;o++)(i=t[o]).style&&(n=i.style.display,e?("none"===n&&(r[o]=J.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&at(i)&&(r[o]=ut(i))):"none"!==n&&(r[o]="none",J.set(i,"display",n)));for(o=0;o<a;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}O.fn.extend({show:function(){return dt(this,!0)},hide:function(){return dt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){at(this)?O(this).show():O(this).hide()})}});var pt=/^(?:checkbox|radio)$/i,ft=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,ht=/^$|^module$|\/(?:java|ecma)script/i,vt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function gt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&T(t,e)?O.merge([t],n):n}function mt(t,e){for(var n=0,i=t.length;n<i;n++)J.set(t[n],"globalEval",!e||J.get(e[n],"globalEval"))}vt.optgroup=vt.option,vt.tbody=vt.tfoot=vt.colgroup=vt.caption=vt.thead,vt.th=vt.td;var yt,bt,_t=/<|&#?\w+;/;function wt(t,e,n,i,r){for(var o,a,s,c,l,u,d=e.createDocumentFragment(),p=[],f=0,h=t.length;f<h;f++)if((o=t[f])||0===o)if("object"===x(o))O.merge(p,o.nodeType?[o]:o);else if(_t.test(o)){for(a=a||d.appendChild(e.createElement("div")),s=(ft.exec(o)||["",""])[1].toLowerCase(),c=vt[s]||vt._default,a.innerHTML=c[1]+O.htmlPrefilter(o)+c[2],u=c[0];u--;)a=a.lastChild;O.merge(p,a.childNodes),(a=d.firstChild).textContent=""}else p.push(e.createTextNode(o));for(d.textContent="",f=0;o=p[f++];)if(i&&O.inArray(o,i)>-1)r&&r.push(o);else if(l=O.contains(o.ownerDocument,o),a=gt(d.appendChild(o),"script"),l&&mt(a),n)for(u=0;o=a[u++];)ht.test(o.type||"")&&n.push(o);return d}yt=a.createDocumentFragment().appendChild(a.createElement("div")),(bt=a.createElement("input")).setAttribute("type","radio"),bt.setAttribute("checked","checked"),bt.setAttribute("name","t"),yt.appendChild(bt),m.checkClone=yt.cloneNode(!0).cloneNode(!0).lastChild.checked,yt.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!yt.cloneNode(!0).lastChild.defaultValue;var xt=a.documentElement,Ot=/^key/,St=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Et=/^([^.]*)(?:\.(.+)|)/;function Pt(){return!0}function kt(){return!1}function Ct(){try{return a.activeElement}catch(t){}}function jt(t,e,n,i,r,o){var a,s;if("object"==typeof e){for(s in"string"!=typeof n&&(i=i||n,n=void 0),e)jt(t,s,n,i,e[s],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=kt;else if(!r)return t;return 1===o&&(a=r,(r=function(t){return O().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=O.guid++)),t.each(function(){O.event.add(this,e,r,i,n)})}O.event={global:{},add:function(t,e,n,i,r){var o,a,s,c,l,u,d,p,f,h,v,g=J.get(t);if(g)for(n.handler&&(n=(o=n).handler,r=o.selector),r&&O.find.matchesSelector(xt,r),n.guid||(n.guid=O.guid++),(c=g.events)||(c=g.events={}),(a=g.handle)||(a=g.handle=function(e){return void 0!==O&&O.event.triggered!==e.type?O.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(z)||[""]).length;l--;)f=v=(s=Et.exec(e[l])||[])[1],h=(s[2]||"").split(".").sort(),f&&(d=O.event.special[f]||{},f=(r?d.delegateType:d.bindType)||f,d=O.event.special[f]||{},u=O.extend({type:f,origType:v,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&O.expr.match.needsContext.test(r),namespace:h.join(".")},o),(p=c[f])||((p=c[f]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(t,i,h,a)||t.addEventListener&&t.addEventListener(f,a)),d.add&&(d.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),r?p.splice(p.delegateCount++,0,u):p.push(u),O.event.global[f]=!0)},remove:function(t,e,n,i,r){var o,a,s,c,l,u,d,p,f,h,v,g=J.hasData(t)&&J.get(t);if(g&&(c=g.events)){for(l=(e=(e||"").match(z)||[""]).length;l--;)if(f=v=(s=Et.exec(e[l])||[])[1],h=(s[2]||"").split(".").sort(),f){for(d=O.event.special[f]||{},p=c[f=(i?d.delegateType:d.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)u=p[o],!r&&v!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(p.splice(o,1),u.selector&&p.delegateCount--,d.remove&&d.remove.call(t,u));a&&!p.length&&(d.teardown&&!1!==d.teardown.call(t,h,g.handle)||O.removeEvent(t,f,g.handle),delete c[f])}else for(f in c)O.event.remove(t,f+e[l],n,i,!0);O.isEmptyObject(c)&&J.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,o,a,s=O.event.fix(t),c=new Array(arguments.length),l=(J.get(this,"events")||{})[s.type]||[],u=O.event.special[s.type]||{};for(c[0]=s,e=1;e<arguments.length;e++)c[e]=arguments[e];if(s.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,s)){for(a=O.event.handlers.call(this,s,l),e=0;(r=a[e++])&&!s.isPropagationStopped();)for(s.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(i=((O.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,c))&&!1===(s.result=i)&&(s.preventDefault(),s.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,s),s.result}},handlers:function(t,e){var n,i,r,o,a,s=[],c=e.delegateCount,l=t.target;if(c&&l.nodeType&&!("click"===t.type&&t.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==t.type||!0!==l.disabled)){for(o=[],a={},n=0;n<c;n++)void 0===a[r=(i=e[n]).selector+" "]&&(a[r]=i.needsContext?O(r,this).index(l)>-1:O.find(r,this,null,[l]).length),a[r]&&o.push(i);o.length&&s.push({elem:l,handlers:o})}return l=this,c<e.length&&s.push({elem:l,handlers:e.slice(c)}),s},addProp:function(t,e){Object.defineProperty(O.Event.prototype,t,{enumerable:!0,configurable:!0,get:y(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[O.expando]?t:new O.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Ct()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Ct()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&T(this,"input"))return this.click(),!1},_default:function(t){return T(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},O.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},O.Event=function(t,e){if(!(this instanceof O.Event))return new O.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Pt:kt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&O.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[O.expando]=!0},O.Event.prototype={constructor:O.Event,isDefaultPrevented:kt,isPropagationStopped:kt,isImmediatePropagationStopped:kt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Pt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Pt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Pt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},O.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Ot.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&St.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},O.event.addProp),O.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){O.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=t.relatedTarget,r=t.handleObj;return i&&(i===this||O.contains(this,i))||(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}}),O.fn.extend({on:function(t,e,n,i){return jt(this,t,e,n,i)},one:function(t,e,n,i){return jt(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,O(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=kt),this.each(function(){O.event.remove(this,t,n,e)})}});var Tt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Mt=/<script|<style|<link/i,At=/checked\s*(?:[^=]|=\s*.checked.)/i,Lt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function It(t,e){return T(t,"table")&&T(11!==e.nodeType?e:e.firstChild,"tr")&&O(t).children("tbody")[0]||t}function Dt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Ft(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Rt(t,e){var n,i,r,o,a,s,c,l;if(1===e.nodeType){if(J.hasData(t)&&(o=J.access(t),a=J.set(e,o),l=o.events))for(r in delete a.handle,a.events={},l)for(n=0,i=l[r].length;n<i;n++)O.event.add(e,r,l[r][n]);$.hasData(t)&&(s=$.access(t),c=O.extend({},s),$.set(e,c))}}function zt(t,e,n,i){e=l.apply([],e);var r,o,a,s,c,u,d=0,p=t.length,f=p-1,h=e[0],v=y(h);if(v||p>1&&"string"==typeof h&&!m.checkClone&&At.test(h))return t.each(function(r){var o=t.eq(r);v&&(e[0]=h.call(this,r,o.html())),zt(o,e,n,i)});if(p&&(o=(r=wt(e,t[0].ownerDocument,!1,t,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(s=(a=O.map(gt(r,"script"),Dt)).length;d<p;d++)c=r,d!==f&&(c=O.clone(c,!0,!0),s&&O.merge(a,gt(c,"script"))),n.call(t[d],c,d);if(s)for(u=a[a.length-1].ownerDocument,O.map(a,Ft),d=0;d<s;d++)c=a[d],ht.test(c.type||"")&&!J.access(c,"globalEval")&&O.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?O._evalUrl&&O._evalUrl(c.src):w(c.textContent.replace(Lt,""),u,c))}return t}function Bt(t,e,n){for(var i,r=e?O.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||O.cleanData(gt(i)),i.parentNode&&(n&&O.contains(i.ownerDocument,i)&&mt(gt(i,"script")),i.parentNode.removeChild(i));return t}O.extend({htmlPrefilter:function(t){return t.replace(Tt,"<$1></$2>")},clone:function(t,e,n){var i,r,o,a,s,c,l,u=t.cloneNode(!0),d=O.contains(t.ownerDocument,t);if(!(m.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||O.isXMLDoc(t)))for(a=gt(u),i=0,r=(o=gt(t)).length;i<r;i++)s=o[i],c=a[i],void 0,"input"===(l=c.nodeName.toLowerCase())&&pt.test(s.type)?c.checked=s.checked:"input"!==l&&"textarea"!==l||(c.defaultValue=s.defaultValue);if(e)if(n)for(o=o||gt(t),a=a||gt(u),i=0,r=o.length;i<r;i++)Rt(o[i],a[i]);else Rt(t,u);return(a=gt(u,"script")).length>0&&mt(a,!d&&gt(t,"script")),u},cleanData:function(t){for(var e,n,i,r=O.event.special,o=0;void 0!==(n=t[o]);o++)if(K(n)){if(e=n[J.expando]){if(e.events)for(i in e.events)r[i]?O.event.remove(n,i):O.removeEvent(n,i,e.handle);n[J.expando]=void 0}n[$.expando]&&(n[$.expando]=void 0)}}}),O.fn.extend({detach:function(t){return Bt(this,t,!0)},remove:function(t){return Bt(this,t)},text:function(t){return q(this,function(t){return void 0===t?O.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return zt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||It(this,t).appendChild(t)})},prepend:function(){return zt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=It(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return zt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return zt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(O.cleanData(gt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return O.clone(this,t,e)})},html:function(t){return q(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Mt.test(t)&&!vt[(ft.exec(t)||["",""])[1].toLowerCase()]){t=O.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(O.cleanData(gt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return zt(this,arguments,function(e){var n=this.parentNode;O.inArray(this,t)<0&&(O.cleanData(gt(this)),n&&n.replaceChild(e,this))},t)}}),O.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){O.fn[t]=function(t){for(var n,i=[],r=O(t),o=r.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),O(r[a])[e](n),u.apply(i,n.get());return this.pushStack(i)}});var Nt=new RegExp("^("+it+")(?!px)[a-z%]+$","i"),Ut=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},Ht=new RegExp(ot.join("|"),"i");function Vt(t,e,n){var i,r,o,a,s=t.style;return(n=n||Ut(t))&&(""!==(a=n.getPropertyValue(e)||n[e])||O.contains(t.ownerDocument,t)||(a=O.style(t,e)),!m.pixelBoxStyles()&&Nt.test(a)&&Ht.test(e)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),void 0!==a?a+"":a}function Wt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(u){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",xt.appendChild(l).appendChild(u);var t=n.getComputedStyle(u);i="1%"!==t.top,c=12===e(t.marginLeft),u.style.right="60%",s=36===e(t.right),r=36===e(t.width),u.style.position="absolute",o=36===u.offsetWidth||"absolute",xt.removeChild(l),u=null}}function e(t){return Math.round(parseFloat(t))}var i,r,o,s,c,l=a.createElement("div"),u=a.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===u.style.backgroundClip,O.extend(m,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),c},scrollboxSize:function(){return t(),o}}))}();var qt=/^(none|table(?!-c[ea]).+)/,Gt=/^--/,Yt={position:"absolute",visibility:"hidden",display:"block"},Xt={letterSpacing:"0",fontWeight:"400"},Zt=["Webkit","Moz","ms"],Kt=a.createElement("div").style;function Qt(t){var e=O.cssProps[t];return e||(e=O.cssProps[t]=function(t){if(t in Kt)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=Zt.length;n--;)if((t=Zt[n]+e)in Kt)return t}(t)||t),e}function Jt(t,e,n){var i=rt.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function $t(t,e,n,i,r,o){var a="width"===e?1:0,s=0,c=0;if(n===(i?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(c+=O.css(t,n+ot[a],!0,r)),i?("content"===n&&(c-=O.css(t,"padding"+ot[a],!0,r)),"margin"!==n&&(c-=O.css(t,"border"+ot[a]+"Width",!0,r))):(c+=O.css(t,"padding"+ot[a],!0,r),"padding"!==n?c+=O.css(t,"border"+ot[a]+"Width",!0,r):s+=O.css(t,"border"+ot[a]+"Width",!0,r));return!i&&o>=0&&(c+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-c-s-.5))),c}function te(t,e,n){var i=Ut(t),r=Vt(t,e,i),o="border-box"===O.css(t,"boxSizing",!1,i),a=o;if(Nt.test(r)){if(!n)return r;r="auto"}return a=a&&(m.boxSizingReliable()||r===t.style[e]),("auto"===r||!parseFloat(r)&&"inline"===O.css(t,"display",!1,i))&&(r=t["offset"+e[0].toUpperCase()+e.slice(1)],a=!0),(r=parseFloat(r)||0)+$t(t,e,n||(o?"border":"content"),a,i,r)+"px"}function ee(t,e,n,i,r){return new ee.prototype.init(t,e,n,i,r)}O.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Vt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,a,s=Z(e),c=Gt.test(e),l=t.style;if(c||(e=Qt(s)),a=O.cssHooks[e]||O.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(t,!1,i))?r:l[e];"string"===(o=typeof n)&&(r=rt.exec(n))&&r[1]&&(n=ct(t,e,r),o="number"),null!=n&&n==n&&("number"===o&&(n+=r&&r[3]||(O.cssNumber[s]?"":"px")),m.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,i))||(c?l.setProperty(e,n):l[e]=n))}},css:function(t,e,n,i){var r,o,a,s=Z(e);return Gt.test(e)||(e=Qt(s)),(a=O.cssHooks[e]||O.cssHooks[s])&&"get"in a&&(r=a.get(t,!0,n)),void 0===r&&(r=Vt(t,e,i)),"normal"===r&&e in Xt&&(r=Xt[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),O.each(["height","width"],function(t,e){O.cssHooks[e]={get:function(t,n,i){if(n)return!qt.test(O.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?te(t,e,i):st(t,Yt,function(){return te(t,e,i)})},set:function(t,n,i){var r,o=Ut(t),a="border-box"===O.css(t,"boxSizing",!1,o),s=i&&$t(t,e,i,a,o);return a&&m.scrollboxSize()===o.position&&(s-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-$t(t,e,"border",!1,o)-.5)),s&&(r=rt.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=O.css(t,e)),Jt(0,n,s)}}}),O.cssHooks.marginLeft=Wt(m.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Vt(t,"marginLeft"))||t.getBoundingClientRect().left-st(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),O.each({margin:"",padding:"",border:"Width"},function(t,e){O.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+ot[i]+e]=o[i]||o[i-2]||o[0];return r}},"margin"!==t&&(O.cssHooks[t+e].set=Jt)}),O.fn.extend({css:function(t,e){return q(this,function(t,e,n){var i,r,o={},a=0;if(Array.isArray(e)){for(i=Ut(t),r=e.length;a<r;a++)o[e[a]]=O.css(t,e[a],!1,i);return o}return void 0!==n?O.style(t,e,n):O.css(t,e)},t,e,arguments.length>1)}}),O.Tween=ee,ee.prototype={constructor:ee,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||O.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(O.cssNumber[n]?"":"px")},cur:function(){var t=ee.propHooks[this.prop];return t&&t.get?t.get(this):ee.propHooks._default.get(this)},run:function(t){var e,n=ee.propHooks[this.prop];return this.options.duration?this.pos=e=O.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ee.propHooks._default.set(this),this}},ee.prototype.init.prototype=ee.prototype,ee.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=O.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){O.fx.step[t.prop]?O.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[O.cssProps[t.prop]]&&!O.cssHooks[t.prop]?t.elem[t.prop]=t.now:O.style(t.elem,t.prop,t.now+t.unit)}}},ee.propHooks.scrollTop=ee.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},O.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},O.fx=ee.prototype.init,O.fx.step={};var ne,ie,re=/^(?:toggle|show|hide)$/,oe=/queueHooks$/;function ae(){ie&&(!1===a.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(ae):n.setTimeout(ae,O.fx.interval),O.fx.tick())}function se(){return n.setTimeout(function(){ne=void 0}),ne=Date.now()}function ce(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=ot[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function le(t,e,n){for(var i,r=(ue.tweeners[e]||[]).concat(ue.tweeners["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,e,t))return i}function ue(t,e,n){var i,r,o=0,a=ue.prefilters.length,s=O.Deferred().always(function(){delete c.elem}),c=function(){if(r)return!1;for(var e=ne||se(),n=Math.max(0,l.startTime+l.duration-e),i=1-(n/l.duration||0),o=0,a=l.tweens.length;o<a;o++)l.tweens[o].run(i);return s.notifyWith(t,[l,i,n]),i<1&&a?n:(a||s.notifyWith(t,[l,1,0]),s.resolveWith(t,[l]),!1)},l=s.promise({elem:t,props:O.extend({},e),opts:O.extend(!0,{specialEasing:{},easing:O.easing._default},n),originalProperties:e,originalOptions:n,startTime:ne||se(),duration:n.duration,tweens:[],createTween:function(e,n){var i=O.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(i),i},stop:function(e){var n=0,i=e?l.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)l.tweens[n].run(1);return e?(s.notifyWith(t,[l,1,0]),s.resolveWith(t,[l,e])):s.rejectWith(t,[l,e]),this}}),u=l.props;for(!function(t,e){var n,i,r,o,a;for(n in t)if(r=e[i=Z(n)],o=t[n],Array.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(a=O.cssHooks[i])&&"expand"in a)for(n in o=a.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}(u,l.opts.specialEasing);o<a;o++)if(i=ue.prefilters[o].call(l,t,u,l.opts))return y(i.stop)&&(O._queueHooks(l.elem,l.opts.queue).stop=i.stop.bind(i)),i;return O.map(u,le,l),y(l.opts.start)&&l.opts.start.call(t,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),O.fx.timer(O.extend(c,{elem:t,anim:l,queue:l.opts.queue})),l}O.Animation=O.extend(ue,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return ct(n.elem,t,rt.exec(e),n),n}]},tweener:function(t,e){y(t)?(e=t,t=["*"]):t=t.match(z);for(var n,i=0,r=t.length;i<r;i++)n=t[i],ue.tweeners[n]=ue.tweeners[n]||[],ue.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,r,o,a,s,c,l,u,d="width"in e||"height"in e,p=this,f={},h=t.style,v=t.nodeType&&at(t),g=J.get(t,"fxshow");for(i in n.queue||(null==(a=O._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,O.queue(t,"fx").length||a.empty.fire()})})),e)if(r=e[i],re.test(r)){if(delete e[i],o=o||"toggle"===r,r===(v?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;v=!0}f[i]=g&&g[i]||O.style(t,i)}if((c=!O.isEmptyObject(e))||!O.isEmptyObject(f))for(i in d&&1===t.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=g&&g.display)&&(l=J.get(t,"display")),"none"===(u=O.css(t,"display"))&&(l?u=l:(dt([t],!0),l=t.style.display||l,u=O.css(t,"display"),dt([t]))),("inline"===u||"inline-block"===u&&null!=l)&&"none"===O.css(t,"float")&&(c||(p.done(function(){h.display=l}),null==l&&(u=h.display,l="none"===u?"":u)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),c=!1,f)c||(g?"hidden"in g&&(v=g.hidden):g=J.access(t,"fxshow",{display:l}),o&&(g.hidden=!v),v&&dt([t],!0),p.done(function(){for(i in v||dt([t]),J.remove(t,"fxshow"),f)O.style(t,i,f[i])})),c=le(v?g[i]:0,i,p),i in g||(g[i]=c.start,v&&(c.end=c.start,c.start=0))}],prefilter:function(t,e){e?ue.prefilters.unshift(t):ue.prefilters.push(t)}}),O.speed=function(t,e,n){var i=t&&"object"==typeof t?O.extend({},t):{complete:n||!n&&e||y(t)&&t,duration:t,easing:n&&e||e&&!y(e)&&e};return O.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in O.fx.speeds?i.duration=O.fx.speeds[i.duration]:i.duration=O.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){y(i.old)&&i.old.call(this),i.queue&&O.dequeue(this,i.queue)},i},O.fn.extend({fadeTo:function(t,e,n,i){return this.filter(at).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=O.isEmptyObject(t),o=O.speed(e,n,i),a=function(){var e=ue(this,O.extend({},t),o);(r||J.get(this,"finish"))&&e.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=O.timers,a=J.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&oe.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||O.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=J.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=O.timers,a=i?i.length:0;for(n.finish=!0,O.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<a;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),O.each(["toggle","show","hide"],function(t,e){var n=O.fn[e];O.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(ce(e,!0),t,i,r)}}),O.each({slideDown:ce("show"),slideUp:ce("hide"),slideToggle:ce("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){O.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),O.timers=[],O.fx.tick=function(){var t,e=0,n=O.timers;for(ne=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||O.fx.stop(),ne=void 0},O.fx.timer=function(t){O.timers.push(t),O.fx.start()},O.fx.interval=13,O.fx.start=function(){ie||(ie=!0,ae())},O.fx.stop=function(){ie=null},O.fx.speeds={slow:600,fast:200,_default:400},O.fn.delay=function(t,e){return t=O.fx&&O.fx.speeds[t]||t,e=e||"fx",this.queue(e,function(e,i){var r=n.setTimeout(e,t);i.stop=function(){n.clearTimeout(r)}})},function(){var t=a.createElement("input"),e=a.createElement("select").appendChild(a.createElement("option"));t.type="checkbox",m.checkOn=""!==t.value,m.optSelected=e.selected,(t=a.createElement("input")).value="t",t.type="radio",m.radioValue="t"===t.value}();var de,pe=O.expr.attrHandle;O.fn.extend({attr:function(t,e){return q(this,O.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){O.removeAttr(this,t)})}}),O.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?O.prop(t,e,n):(1===o&&O.isXMLDoc(t)||(r=O.attrHooks[e.toLowerCase()]||(O.expr.match.bool.test(e)?de:void 0)),void 0!==n?null===n?void O.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=O.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!m.radioValue&&"radio"===e&&T(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(z);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),de={set:function(t,e,n){return!1===e?O.removeAttr(t,n):t.setAttribute(n,n),n}},O.each(O.expr.match.bool.source.match(/\w+/g),function(t,e){var n=pe[e]||O.find.attr;pe[e]=function(t,e,i){var r,o,a=e.toLowerCase();return i||(o=pe[a],pe[a]=r,r=null!=n(t,e,i)?a:null,pe[a]=o),r}});var fe=/^(?:input|select|textarea|button)$/i,he=/^(?:a|area)$/i;function ve(t){return(t.match(z)||[]).join(" ")}function ge(t){return t.getAttribute&&t.getAttribute("class")||""}function me(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(z)||[]}O.fn.extend({prop:function(t,e){return q(this,O.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[O.propFix[t]||t]})}}),O.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&O.isXMLDoc(t)||(e=O.propFix[e]||e,r=O.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=O.find.attr(t,"tabindex");return e?parseInt(e,10):fe.test(t.nodeName)||he.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(O.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),O.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){O.propFix[this.toLowerCase()]=this}),O.fn.extend({addClass:function(t){var e,n,i,r,o,a,s,c=0;if(y(t))return this.each(function(e){O(this).addClass(t.call(this,e,ge(this)))});if((e=me(t)).length)for(;n=this[c++];)if(r=ge(n),i=1===n.nodeType&&" "+ve(r)+" "){for(a=0;o=e[a++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(s=ve(i))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,i,r,o,a,s,c=0;if(y(t))return this.each(function(e){O(this).removeClass(t.call(this,e,ge(this)))});if(!arguments.length)return this.attr("class","");if((e=me(t)).length)for(;n=this[c++];)if(r=ge(n),i=1===n.nodeType&&" "+ve(r)+" "){for(a=0;o=e[a++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r!==(s=ve(i))&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t,i="string"===n||Array.isArray(t);return"boolean"==typeof e&&i?e?this.addClass(t):this.removeClass(t):y(t)?this.each(function(n){O(this).toggleClass(t.call(this,n,ge(this),e),e)}):this.each(function(){var e,r,o,a;if(i)for(r=0,o=O(this),a=me(t);e=a[r++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||((e=ge(this))&&J.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":J.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+ve(ge(n))+" ").indexOf(e)>-1)return!0;return!1}});var ye=/\r/g;O.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=y(t),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,O(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=O.map(r,function(t){return null==t?"":t+""})),(e=O.valHooks[this.type]||O.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))})):r?(e=O.valHooks[r.type]||O.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(ye,""):null==n?"":n:void 0}}),O.extend({valHooks:{option:{get:function(t){var e=O.find.attr(t,"value");return null!=e?e:ve(O.text(t))}},select:{get:function(t){var e,n,i,r=t.options,o=t.selectedIndex,a="select-one"===t.type,s=a?null:[],c=a?o+1:r.length;for(i=o<0?c:a?o:0;i<c;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!T(n.parentNode,"optgroup"))){if(e=O(n).val(),a)return e;s.push(e)}return s},set:function(t,e){for(var n,i,r=t.options,o=O.makeArray(e),a=r.length;a--;)((i=r[a]).selected=O.inArray(O.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),O.each(["radio","checkbox"],function(){O.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=O.inArray(O(t).val(),e)>-1}},m.checkOn||(O.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),m.focusin="onfocusin"in n;var be=/^(?:focusinfocus|focusoutblur)$/,_e=function(t){t.stopPropagation()};O.extend(O.event,{trigger:function(t,e,i,r){var o,s,c,l,u,d,p,f,v=[i||a],g=h.call(t,"type")?t.type:t,m=h.call(t,"namespace")?t.namespace.split("."):[];if(s=f=c=i=i||a,3!==i.nodeType&&8!==i.nodeType&&!be.test(g+O.event.triggered)&&(g.indexOf(".")>-1&&(g=(m=g.split(".")).shift(),m.sort()),u=g.indexOf(":")<0&&"on"+g,(t=t[O.expando]?t:new O.Event(g,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=m.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:O.makeArray(e,[t]),p=O.event.special[g]||{},r||!p.trigger||!1!==p.trigger.apply(i,e))){if(!r&&!p.noBubble&&!b(i)){for(l=p.delegateType||g,be.test(l+g)||(s=s.parentNode);s;s=s.parentNode)v.push(s),c=s;c===(i.ownerDocument||a)&&v.push(c.defaultView||c.parentWindow||n)}for(o=0;(s=v[o++])&&!t.isPropagationStopped();)f=s,t.type=o>1?l:p.bindType||g,(d=(J.get(s,"events")||{})[t.type]&&J.get(s,"handle"))&&d.apply(s,e),(d=u&&s[u])&&d.apply&&K(s)&&(t.result=d.apply(s,e),!1===t.result&&t.preventDefault());return t.type=g,r||t.isDefaultPrevented()||p._default&&!1!==p._default.apply(v.pop(),e)||!K(i)||u&&y(i[g])&&!b(i)&&((c=i[u])&&(i[u]=null),O.event.triggered=g,t.isPropagationStopped()&&f.addEventListener(g,_e),i[g](),t.isPropagationStopped()&&f.removeEventListener(g,_e),O.event.triggered=void 0,c&&(i[u]=c)),t.result}},simulate:function(t,e,n){var i=O.extend(new O.Event,n,{type:t,isSimulated:!0});O.event.trigger(i,null,e)}}),O.fn.extend({trigger:function(t,e){return this.each(function(){O.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return O.event.trigger(t,e,n,!0)}}),m.focusin||O.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){O.event.simulate(e,t.target,O.event.fix(t))};O.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=J.access(i,e);r||i.addEventListener(t,n,!0),J.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=J.access(i,e)-1;r?J.access(i,e,r):(i.removeEventListener(t,n,!0),J.remove(i,e))}}});var we=n.location,xe=Date.now(),Oe=/\?/;O.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||O.error("Invalid XML: "+t),e};var Se=/\[\]$/,Ee=/\r?\n/g,Pe=/^(?:submit|button|image|reset|file)$/i,ke=/^(?:input|select|textarea|keygen)/i;function Ce(t,e,n,i){var r;if(Array.isArray(e))O.each(e,function(e,r){n||Se.test(t)?i(t,r):Ce(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==x(e))i(t,e);else for(r in e)Ce(t+"["+r+"]",e[r],n,i)}O.param=function(t,e){var n,i=[],r=function(t,e){var n=y(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(t)||t.jquery&&!O.isPlainObject(t))O.each(t,function(){r(this.name,this.value)});else for(n in t)Ce(n,t[n],e,r);return i.join("&")},O.fn.extend({serialize:function(){return O.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=O.prop(this,"elements");return t?O.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!O(this).is(":disabled")&&ke.test(this.nodeName)&&!Pe.test(t)&&(this.checked||!pt.test(t))}).map(function(t,e){var n=O(this).val();return null==n?null:Array.isArray(n)?O.map(n,function(t){return{name:e.name,value:t.replace(Ee,"\r\n")}}):{name:e.name,value:n.replace(Ee,"\r\n")}}).get()}});var je=/%20/g,Te=/#.*$/,Me=/([?&])_=[^&]*/,Ae=/^(.*?):[ \t]*([^\r\n]*)$/gm,Le=/^(?:GET|HEAD)$/,Ie=/^\/\//,De={},Fe={},Re="*/".concat("*"),ze=a.createElement("a");function Be(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(z)||[];if(y(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function Ne(t,e,n,i){var r={},o=t===Fe;function a(s){var c;return r[s]=!0,O.each(t[s]||[],function(t,s){var l=s(e,n,i);return"string"!=typeof l||o||r[l]?o?!(c=l):void 0:(e.dataTypes.unshift(l),a(l),!1)}),c}return a(e.dataTypes[0])||!r["*"]&&a("*")}function Ue(t,e){var n,i,r=O.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&O.extend(!0,t,i),t}ze.href=we.href,O.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:we.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(we.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Re,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":O.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Ue(Ue(t,O.ajaxSettings),e):Ue(O.ajaxSettings,t)},ajaxPrefilter:Be(De),ajaxTransport:Be(Fe),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,r,o,s,c,l,u,d,p,f,h=O.ajaxSetup({},e),v=h.context||h,g=h.context&&(v.nodeType||v.jquery)?O(v):O.event,m=O.Deferred(),y=O.Callbacks("once memory"),b=h.statusCode||{},_={},w={},x="canceled",S={readyState:0,getResponseHeader:function(t){var e;if(u){if(!s)for(s={};e=Ae.exec(o);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return u?o:null},setRequestHeader:function(t,e){return null==u&&(t=w[t.toLowerCase()]=w[t.toLowerCase()]||t,_[t]=e),this},overrideMimeType:function(t){return null==u&&(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(u)S.always(t[S.status]);else for(e in t)b[e]=[b[e],t[e]];return this},abort:function(t){var e=t||x;return i&&i.abort(e),E(0,e),this}};if(m.promise(S),h.url=((t||h.url||we.href)+"").replace(Ie,we.protocol+"//"),h.type=e.method||e.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(z)||[""],null==h.crossDomain){l=a.createElement("a");try{l.href=h.url,l.href=l.href,h.crossDomain=ze.protocol+"//"+ze.host!=l.protocol+"//"+l.host}catch(t){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=O.param(h.data,h.traditional)),Ne(De,h,e,S),u)return S;for(p in(d=O.event&&h.global)&&0==O.active++&&O.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Le.test(h.type),r=h.url.replace(Te,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(je,"+")):(f=h.url.slice(r.length),h.data&&(h.processData||"string"==typeof h.data)&&(r+=(Oe.test(r)?"&":"?")+h.data,delete h.data),!1===h.cache&&(r=r.replace(Me,"$1"),f=(Oe.test(r)?"&":"?")+"_="+xe+++f),h.url=r+f),h.ifModified&&(O.lastModified[r]&&S.setRequestHeader("If-Modified-Since",O.lastModified[r]),O.etag[r]&&S.setRequestHeader("If-None-Match",O.etag[r])),(h.data&&h.hasContent&&!1!==h.contentType||e.contentType)&&S.setRequestHeader("Content-Type",h.contentType),S.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Re+"; q=0.01":""):h.accepts["*"]),h.headers)S.setRequestHeader(p,h.headers[p]);if(h.beforeSend&&(!1===h.beforeSend.call(v,S,h)||u))return S.abort();if(x="abort",y.add(h.complete),S.done(h.success),S.fail(h.error),i=Ne(Fe,h,e,S)){if(S.readyState=1,d&&g.trigger("ajaxSend",[S,h]),u)return S;h.async&&h.timeout>0&&(c=n.setTimeout(function(){S.abort("timeout")},h.timeout));try{u=!1,i.send(_,E)}catch(t){if(u)throw t;E(-1,t)}}else E(-1,"No Transport");function E(t,e,a,s){var l,p,f,_,w,x=e;u||(u=!0,c&&n.clearTimeout(c),i=void 0,o=s||"",S.readyState=t>0?4:0,l=t>=200&&t<300||304===t,a&&(_=function(t,e,n){for(var i,r,o,a,s=t.contents,c=t.dataTypes;"*"===c[0];)c.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){c.unshift(r);break}if(c[0]in n)o=c[0];else{for(r in n){if(!c[0]||t.converters[r+" "+c[0]]){o=r;break}a||(a=r)}o=o||a}if(o)return o!==c[0]&&c.unshift(o),n[o]}(h,S,a)),_=function(t,e,n,i){var r,o,a,s,c,l={},u=t.dataTypes.slice();if(u[1])for(a in t.converters)l[a.toLowerCase()]=t.converters[a];for(o=u.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!c&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),c=o,o=u.shift())if("*"===o)o=c;else if("*"!==c&&c!==o){if(!(a=l[c+" "+o]||l["* "+o]))for(r in l)if((s=r.split(" "))[1]===o&&(a=l[c+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[r]:!0!==l[r]&&(o=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+c+" to "+o}}}return{state:"success",data:e}}(h,_,S,l),l?(h.ifModified&&((w=S.getResponseHeader("Last-Modified"))&&(O.lastModified[r]=w),(w=S.getResponseHeader("etag"))&&(O.etag[r]=w)),204===t||"HEAD"===h.type?x="nocontent":304===t?x="notmodified":(x=_.state,p=_.data,l=!(f=_.error))):(f=x,!t&&x||(x="error",t<0&&(t=0))),S.status=t,S.statusText=(e||x)+"",l?m.resolveWith(v,[p,x,S]):m.rejectWith(v,[S,x,f]),S.statusCode(b),b=void 0,d&&g.trigger(l?"ajaxSuccess":"ajaxError",[S,h,l?p:f]),y.fireWith(v,[S,x]),d&&(g.trigger("ajaxComplete",[S,h]),--O.active||O.event.trigger("ajaxStop")))}return S},getJSON:function(t,e,n){return O.get(t,e,n,"json")},getScript:function(t,e){return O.get(t,void 0,e,"script")}}),O.each(["get","post"],function(t,e){O[e]=function(t,n,i,r){return y(n)&&(r=r||i,i=n,n=void 0),O.ajax(O.extend({url:t,type:e,dataType:r,data:n,success:i},O.isPlainObject(t)&&t))}}),O._evalUrl=function(t){return O.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},O.fn.extend({wrapAll:function(t){var e;return this[0]&&(y(t)&&(t=t.call(this[0])),e=O(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return y(t)?this.each(function(e){O(this).wrapInner(t.call(this,e))}):this.each(function(){var e=O(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=y(t);return this.each(function(n){O(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){O(this).replaceWith(this.childNodes)}),this}}),O.expr.pseudos.hidden=function(t){return!O.expr.pseudos.visible(t)},O.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},O.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var He={0:200,1223:204},Ve=O.ajaxSettings.xhr();m.cors=!!Ve&&"withCredentials"in Ve,m.ajax=Ve=!!Ve,O.ajaxTransport(function(t){var e,i;if(m.cors||Ve&&!t.crossDomain)return{send:function(r,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];for(a in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)s.setRequestHeader(a,r[a]);e=function(t){return function(){e&&(e=i=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(He[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=e(),i=s.onerror=s.ontimeout=e("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout(function(){e&&i()})},e=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),O.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),O.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return O.globalEval(t),t}}}),O.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),O.ajaxTransport("script",function(t){var e,n;if(t.crossDomain)return{send:function(i,r){e=O("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),a.head.appendChild(e[0])},abort:function(){n&&n()}}});var We,qe=[],Ge=/(=)\?(?=&|$)|\?\?/;O.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=qe.pop()||O.expando+"_"+xe++;return this[t]=!0,t}}),O.ajaxPrefilter("json jsonp",function(t,e,i){var r,o,a,s=!1!==t.jsonp&&(Ge.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ge.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=y(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Ge,"$1"+r):!1!==t.jsonp&&(t.url+=(Oe.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||O.error(r+" was not called"),a[0]},t.dataTypes[0]="json",o=n[r],n[r]=function(){a=arguments},i.always(function(){void 0===o?O(n).removeProp(r):n[r]=o,t[r]&&(t.jsonpCallback=e.jsonpCallback,qe.push(r)),a&&y(o)&&o(a[0]),a=o=void 0}),"script"}),m.createHTMLDocument=((We=a.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===We.childNodes.length),O.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(m.createHTMLDocument?((i=(e=a.implementation.createHTMLDocument("")).createElement("base")).href=a.location.href,e.head.appendChild(i)):e=a),r=M.exec(t),o=!n&&[],r?[e.createElement(r[1])]:(r=wt([t],e,o),o&&o.length&&O(o).remove(),O.merge([],r.childNodes)));var i,r,o},O.fn.load=function(t,e,n){var i,r,o,a=this,s=t.indexOf(" ");return s>-1&&(i=ve(t.slice(s)),t=t.slice(0,s)),y(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),a.length>0&&O.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,a.html(i?O("<div>").append(O.parseHTML(t)).find(i):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},O.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){O.fn[e]=function(t){return this.on(e,t)}}),O.expr.pseudos.animated=function(t){return O.grep(O.timers,function(e){return t===e.elem}).length},O.offset={setOffset:function(t,e,n){var i,r,o,a,s,c,l=O.css(t,"position"),u=O(t),d={};"static"===l&&(t.style.position="relative"),s=u.offset(),o=O.css(t,"top"),c=O.css(t,"left"),("absolute"===l||"fixed"===l)&&(o+c).indexOf("auto")>-1?(a=(i=u.position()).top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(c)||0),y(e)&&(e=e.call(t,n,O.extend({},s))),null!=e.top&&(d.top=e.top-s.top+a),null!=e.left&&(d.left=e.left-s.left+r),"using"in e?e.using.call(t,d):u.css(d)}},O.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){O.offset.setOffset(this,t,e)});var e,n,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],r={top:0,left:0};if("fixed"===O.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===O.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((r=O(t).offset()).top+=O.css(t,"borderTopWidth",!0),r.left+=O.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-O.css(i,"marginTop",!0),left:e.left-r.left-O.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===O.css(t,"position");)t=t.offsetParent;return t||xt})}}),O.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;O.fn[t]=function(i){return q(this,function(t,i,r){var o;if(b(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===r)return o?o[e]:t[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r},t,i,arguments.length)}}),O.each(["top","left"],function(t,e){O.cssHooks[e]=Wt(m.pixelPosition,function(t,n){if(n)return n=Vt(t,e),Nt.test(n)?O(t).position()[e]+"px":n})}),O.each({Height:"height",Width:"width"},function(t,e){O.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){O.fn[i]=function(r,o){var a=arguments.length&&(n||"boolean"!=typeof r),s=n||(!0===r||!0===o?"margin":"border");return q(this,function(e,n,r){var o;return b(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?O.css(e,n,s):O.style(e,n,r,s)},e,a?r:void 0,a)}})}),O.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){O.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),O.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),O.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),O.proxy=function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),y(t))return i=c.call(arguments,2),(r=function(){return t.apply(e||this,i.concat(c.call(arguments)))}).guid=t.guid=t.guid||O.guid++,r},O.holdReady=function(t){t?O.readyWait++:O.ready(!0)},O.isArray=Array.isArray,O.parseJSON=JSON.parse,O.nodeName=T,O.isFunction=y,O.isWindow=b,O.camelCase=Z,O.type=x,O.now=Date.now,O.isNumeric=function(t){var e=O.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},void 0===(i=function(){return O}.apply(e,[]))||(t.exports=i);var Ye=n.jQuery,Xe=n.$;return O.noConflict=function(t){return n.$===O&&(n.$=Xe),t&&n.jQuery===O&&(n.jQuery=Ye),O},r||(n.jQuery=n.$=O),O})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lazyloadCss=void 0,e.lazyloadCss=function(t,e){void 0===e&&(e={});for(var n=document.getElementsByTagName("link"),i=n.length;i--;)if(n[i].hasAttribute("href")&&n[i].href.match(t))return!0;var r=document.createElement("link");for(var o in r.rel="stylesheet",r.href=t,e)if(e.hasOwnProperty(o)){var a=e[o];r.setAttribute(o,a)}var s=document.getElementsByTagName("link")[0];return s.parentNode.insertBefore(r,s),!0}},function(t,e,n){"use strict";(function(t){var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractAuthState=void 0;var o=n(59),a=n(18),s=n(100),c=n(7),l=n(17),u=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.abstractAuthInited=!1,n.INITIAL_SCREEN="register",n.ELEMENTS_TO_HIDE_IN_TEMPLATE=[".form__title",".brand"],n.setUserTimeZoneInCookie=function(){var t=l.Tools.getBrowserTimezone();"UTC"!==t&&window.Cookies.set("auth_tz",t)},n._onSocialAuthSuccess=function(t){!0===t.detail.socialAuth_isNewUser?n._abstractOnRegisterSuccess({from_auth_social_login:!0}):n._abstractOnLoginSuccess({from_auth_social_login:!0})},n.setSocialAuthLinkContextPlacement=function(){var t=n.domRoot.querySelectorAll(".auth-link"),e="dialog"===n.ctx.getContextPlacement()?"popup":"auth",i=s.SocialAuthPopup.runningFromAttr;t.forEach(function(t){t.setAttribute(i,e),t.removeAttribute("onclick"),t.removeAttribute("href");var r=t.getAttribute("data-provider"),o=n.t("social_provider_"+r),a="login"===t.getAttribute("data-auth-action")?"backdrop_social_signin_title":"backdrop_social_signup_title",c=n.t(a,{social_provider:o}),l=n.t("backdrop_social_subtitle");t.addEventListener("click",function(){var e=n.domStateRoot.querySelector(".auth-screens__backdrop--social"),i=document.createElement("div");i.innerHTML=e.innerHTML,n.showBackdrop(i,c,l),n.setBackdropCallback(function(){s.SocialAuthPopup.focusWindow()},function(){s.SocialAuthPopup.closeWindow(),n.clearBackdrop()}),s.SocialAuthPopup.open(r,{},t).then(n.clearBackdrop,function(t){n.clearBackdrop(),t.errors&&n.showFlashMessage(t.errors[0])})})})},n.clearInputs=function(){n.domStateRoot.querySelectorAll("input").forEach(function(t){return t.value=""})},n._abstractOnResetSubmit=function(e){var i=n.domRoot.querySelector('[data-screen="reset"] form'),r=t(i).serializeArray();n.showLoadingScreen(),n.userAuth.sendResetPasswordEmail(r).then(function(t){var e=n.domStateRoot.querySelector(".reset-password-success-msg");if(!e)throw"'Reset password success' element not found";e.innerHTML=t.data.status_msg,n.changeScreen("reset-success"),n.clearLoadingScreen()},function(t){var e,i,r,o,a;n.clearLoadingScreen();var s=null===(e=null===t||void 0===t?void 0:t.responseJSON)||void 0===e?void 0:e.data;throw(null===(i=null===s||void 0===s?void 0:s.errors)||void 0===i?void 0:i.email)?n.resetPasswordErrorDom.innerHTML=s.errors.email.join(","):n.resetPasswordErrorDom.innerHTML=null!==(a=null===(o=null===(r=null===t||void 0===t?void 0:t.responseJSON)||void 0===r?void 0:r.data)||void 0===o?void 0:o.status_msg)&&void 0!==a?a:"",t})},n._abstractOnLoginSubmit=function(e){var i=n.domRoot.querySelector('[data-screen="login"] form'),r=t(i).serializeArray();n.userAuth.extraLoginParams&&n.userAuth.extraLoginParams.forEach(function(t){r.push(t)}),n.showLoadingScreen(),n.userAuth.login(r)},n._abstractOnRegisterSubmit=function(e){var i=n.domRoot.querySelector('[data-screen="register"] form'),r=t(i).serializeArray();n.showLoadingScreen(),n.userAuth.register(r)},n._abstractOnLoginSuccess=function(t){n.clearLoadingScreen(),!0===(null===t||void 0===t?void 0:t.from_auth_social_login)||o.UserAuth.sendEventUserAuth(),n._onLoginSuccess(t),n.dispatchEvent(new c.IloveEvent("login:success"))},n._abstractOnRegisterSuccess=function(t){n.clearLoadingScreen(),!0===(null===t||void 0===t?void 0:t.from_auth_social_login)||o.UserAuth.sendEventUserAuth(),n._onRegisterSuccess(t),n.dispatchEvent(new c.IloveEvent("register:success"))},n._abstractOnLoginError=function(t){n.genericAuthErrorHandler(t)},n._abstractOnRegisterError=function(t){n.genericAuthErrorHandler(t)},n.genericAuthErrorHandler=function(t){n.clearLoadingScreen(),n.clearFlashMessage();var e=t.responseJSON;if(e||"object"!=typeof t||(e=t),e){var i=Object.keys(e)[0],r=e[i][0];n.showFlashMessage(r),n.check2FactorError(i)}},n}return r(n,e),n.prototype.initAbstractAuth=function(){var t=this;if(!this.abstractAuthInited){var e=this.domStateRoot;this.ELEMENTS_TO_HIDE_IN_TEMPLATE.forEach(function(n){return t.hideHtmlElement(e,n)}),this.setSocialAuthLinkContextPlacement(),s.SocialAuthPopup.addEventListener("auth:success",this._onSocialAuthSuccess),this.userAuth=new o.UserAuth({onLoginSucess:this._abstractOnLoginSuccess,onRegisterSuccess:this._abstractOnRegisterSuccess,onLoginError:this._abstractOnLoginError,onRegisterError:this._abstractOnRegisterError,runningFrom:"dialog"===this.ctx.getContextPlacement()?"popup":"auth"}),this.setUserTimeZoneInCookie(),this.initOverrideFormActions(),this.init2FactorAuth(),this.abstractAuthInited=!0}},n.prototype.showFlashMessage=function(t){var e=document.createElement("div");e.classList.add("flash"),e.innerText=t,this.currentScreen.querySelector(".social-auth").appendChild(e)},n.prototype.clearFlashMessage=function(){this.domStateRoot.querySelectorAll(".flash").forEach(function(t){return t.remove()})},Object.defineProperty(n.prototype,"extraLoginParams",{set:function(t){this._extraLoginParams=t,t||(this.userAuth.extraLoginParams=null);var e=[];for(var n in t)e.push({name:n,value:t[n]});this.userAuth.extraLoginParams=e},enumerable:!1,configurable:!0}),n.prototype.initOverrideFormActions=function(){var t=this,e=this.domRoot;e.querySelectorAll("form").forEach(function(e){e.addEventListener("submit",function(e){e.preventDefault(),t.clearFlashMessage()})}),e.querySelectorAll("a").forEach(function(t){t.getAttribute("href").startsWith("javascript")||(t.setAttribute("data-a-href",t.href),t.href="javascript:;")}),this.goRegisterScreenBtn.addEventListener("click",function(e){return t.changeScreen("register")}),this.goLoginScreenBtn.addEventListener("click",function(e){return t.changeScreen("login")}),this.goForgetPasswordBtn.addEventListener("click",function(e){return t.changeScreen("reset")}),this.goBackFromResetScreenBtn.addEventListener("click",function(e){return t.changeScreen("login")}),this.okResetSuccessBtn.addEventListener("click",function(e){return t.dispatchEvent(new c.IloveEvent("end"))}),this.redefineActionsForLoginScreen(),this.redefineActionsForRegisterScreen(),this.redefineActionsForResetScreen()},Object.defineProperty(n.prototype,"goBackFromResetScreenBtn",{get:function(){var t=this.domRoot.querySelector("#goBackReset");if(!t)throw"'Go back from reset screen' button not found";return t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"okResetSuccessBtn",{get:function(){var t=this.domRoot.querySelector("#resetSuccessBtn");if(!t)throw"'OkResetSuccessBtn' button not found";return t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"goRegisterScreenBtn",{get:function(){var t=this.domRoot.querySelector("#goRegister");if(!t)throw"'Go register screen' button not found";return t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"goLoginScreenBtn",{get:function(){var t=this.domRoot.querySelector("#goLogin");if(!t)throw"'Go login screen' button not found";return t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"goForgetPasswordBtn",{get:function(){var t=this.domRoot.querySelector("#forget-password");if(!t)throw"'Go forget password screen' button not found";return t},enumerable:!1,configurable:!0}),n.prototype.redefineActionsForLoginScreen=function(){this.domRoot.querySelector('[data-screen="login"]').querySelector("form").addEventListener("submit",this._abstractOnLoginSubmit)},n.prototype.redefineActionsForResetScreen=function(){var t=this,e=this.domRoot.querySelector('[data-screen="reset"]');e.querySelector("form").addEventListener("submit",this._abstractOnResetSubmit);var n=e.querySelector("form #userpasswordresetform-email");if(!n)throw"Reset password email input not found";n.addEventListener("input",function(){return t.resetPasswordErrorDom.innerHTML=""})},Object.defineProperty(n.prototype,"resetPasswordErrorDom",{get:function(){var t=this.domStateRoot.querySelector("[data-screen='reset'] span.error");if(!t)throw"Error div not found";return t},enumerable:!1,configurable:!0}),n.prototype.redefineActionsForRegisterScreen=function(){var t=this.domRoot.querySelector('[data-screen="register"]').querySelector("form"),e=t.querySelector("#signupform-timezone"),n=l.Tools.getBrowserTimezone();"UTC"!==n&&(e.value=n),t.addEventListener("submit",this._abstractOnRegisterSubmit)},n.prototype.hideHtmlElement=function(t,e){t.querySelectorAll(e).forEach(function(t){t.style.display="none"})},n.prototype.dispatchEvent=function(t){return this.eventEmitter.dispatchEvent(t)},n.prototype.addEventListener=function(t,e){return this.eventEmitter.addEventListener(t,e)},n.prototype.init2FactorAuth=function(){this.domRoot.querySelector(".field-loginform-google_authenticator_code").style.display="none"},n.prototype.check2FactorError=function(t){"gacIsEmpty"==t&&(this.domRoot.querySelector(".field-loginform-google_authenticator_code").style.display="block",this.domRoot.querySelector(".field-loginEmail").style.display="none",this.domRoot.querySelector(".field-inputPasswordAuth").style.display="none")},n}(a.StateBase);e.AbstractAuthState=u}).call(this,n(1))},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.Tools=void 0;var i=n(120),r=function(){function e(){}return e.bytesToSize=function(t){if(0==t)return"0 Byte";var e=Math.floor(Math.log(t)/Math.log(1024));return(t/Math.pow(1024,e)).toFixed(2)+" "+["Bytes","KB","MB","GB","TB"][e]},e.mbytesToSize=function(t){return e.bytesToSize(1e6*t)},e.convertPointsToPixels=function(t){return t*(1+1/3)},e.strCapitalize=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},e.isRTL=function(){return t("body").hasClass("rtl")},Object.defineProperty(e,"textDirection",{get:function(){return e.isRTL()?"right":"left"},enumerable:!1,configurable:!0}),e.getClosestNumber=function(t,e){for(var n=Math.abs(e[0]-t),i=0,r=1;r<e.length;r++){var o=Math.abs(e[r]-t);o<n&&(i=r,n=o)}return e[i]},e.createHTMLFromText=function(t){var e=document.createElement("div");return e.innerHTML=t.trim(),e.firstChild},e.modalView=function(t){var n='<div class="modal fade" id="'+t.id+'" aria-labelledby="'+t.id+'Modal" tabindex="-1" role="dialog" aria-hidden="true"><div class="modal-dialog" role="document"><div class="modal-content">';return n="title"in t?n+'<div class="modal-header"><h4 class="modal-title">'+t.title+'</h4><button type="button" class="close" data-dismiss="modal">'+e.svgClose()+"</button></div>":n+'<div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close">'+e.svgClose()+"</button></div>","content"in t?n=n+'<div class="modal-body">'+t.content+"</div>":n+='<div class="modal-body"></div>',"btn"in t&&(n=n+'<div class="modal-footer"><button type="button" class="btn btn-link" data-dismiss="modal">'+t.btn+"</button></div>"),n+="</div></div></div>"},e.feedbackModalView=function(t){var e=t.id,n=t.title,i=void 0===n?"":n,r=t.content,o=void 0===r?"":r,a=t.img,s=void 0===a?"":a,c=t.primaryBtn,l=void 0===c?"Yes":c,u=t.secondaryBtn,d="";if(i){var p="";s&&(p='<img id="'+e+'-img" src='+s+' alt="Visual feedback" />'),d=p+'<span id="'+e+'-title" class="modal-title">'+i+"</span>"}var f="";return o&&(f='<div id="'+e+'-content" class="modal-body">'+o+"</div>"),('\n            <div class="modal modal--alert fade" id="'+e+'" aria-labelledby="'+e+'Modal" tabindex="-1" role="dialog"\n            aria-hidden="true">\n                <div class="modal-dialog modal-dialog-centered" role="document">\n                    <div class="modal-content modal-content--alert">\n                        <div class="modal-header">\n                            '+d+'\n                            <button id="'+e+'-close-btn" type="button" class="close" data-dismiss="modal">\n                                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12"><polygon fill="$grey-10" fill-rule="evenodd" points="12 1.208 10.79 0 6 4.792 1.21 0 0 1.208 4.79 6 0 10.792 1.21 12 6 7.208 10.79 12 12 10.792 7.21 6"/></svg>\n                            </button>\n                        </div>\n                        '+f+'\n                        <div class="modal-actions">\n                            <button id="'+e+'-secondary-btn" type="button" class="btn btn--secondary" data-dismiss="modal">'+(void 0===u?"No":u)+'</button>\n                            <button id="'+e+'-primary-btn" type="button" class="btn" data-dismiss="modal">'+l+"</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ").trim()},e.codeModalView=function(t){return('\n        <div class="modal fade" id="'+t.id+'" aria-labelledby="'+t.id+'Modal" tabindex="-1" role="dialog"\n        aria-hidden="true">\n            <div class="modal-dialog modal-dialog-centered" role="document">\n                <div class="modal-content modal-content--code">\n                    <div class="code-editor code-editor--light">\n                        <div class="code-editor__libraries">\n                            <div class="code-editor__libraries__title black-3">\n                                <span>'+t.title+'</span>\n                            </div>\n                        </div>\n                        <div class="code-editor__content">\n                            <textarea class="code-editor__content__textarea" data-mode="javascript" readonly>\n'+t.code+"\n                            </textarea>\n                        </div>\n                    </div>\n\n                </div>\n            </div>\n        </div>\n        ").trim()},e.modalViewOk=function(t){return t.btn=i.Lang.t("Ok"),e.modalView(t)},e.setInputCursorAtTheEnd=function(t){var e=t.val().length;t.focus(),t[0].setSelectionRange(e,e)},e.svgClose=function(){return e.svgRemove(12,12)},e.svgRotate=function(t,e){return void 0===t&&(t=14),void 0===e&&(e=16),'<svg xmlns="http://www.w3.org/2000/svg" width="'+t+'" height="'+e+'" viewBox="0 0 14 16"><path d="M11.328 6.364l1.24-1.2c.79.98 1.283 2.113 1.433 3.288h-1.775c-.123-.735-.43-1.454-.896-2.088zm.896 3.778H14c-.15 1.175-.633 2.308-1.424 3.288l-1.24-1.2c.457-.634.765-1.344.888-2.088zm-.888 4.497C10.318 15.4 9.13 15.856 7.9 16v-1.716a5.31 5.31 0 0 0 2.162-.871l1.266 1.226zM6.152 2.595V0l4 3.846-4 3.76V4.302c-2.496.406-4.394 2.485-4.394 4.995s1.898 4.59 4.394 4.995V16C2.68 15.586 0 12.746 0 9.297s2.68-6.29 6.152-6.703z" fill="#47474F" fill-rule="evenodd"/></svg>'},e.svgRemove=function(t,e){return void 0===t&&(t=12),void 0===e&&(e=12),'<svg xmlns="http://www.w3.org/2000/svg" width="'+t+'" height="'+e+'" viewBox="0 0 12 12"><polygon fill="#47474F" fill-rule="evenodd" points="12 1.208 10.79 0 6 4.792 1.21 0 0 1.208 4.79 6 0 10.792 1.21 12 6 7.208 10.79 12 12 10.792 7.21 6"/></svg>'},e.svgArrowRight=function(t,e){return void 0===t&&(t=12),void 0===e&&(e=12),'<svg xmlns="http://www.w3.org/2000/svg" width="'+t+'" height="'+e+'" viewBox="0 0 448 512"><path d="M313.94 216H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h301.94v46.06c0 21.382 25.85 32.1 40.97 16.97l86.06-86.06c9.373-9.373 9.373-24.57 0-33.94l-86.06-86.06c-15.12-15.12-40.97-4.41-40.97 16.97V216z"/></svg>'},e.svgHome=function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="26" height="21"><path d="M22.028 12.67v6.468a1.08 1.08 0 0 1-1.083 1.083h-5.236c-.298 0-.542-.244-.542-.542v-5.056c0-.298-.244-.542-.542-.542h-3.25c-.298 0-.542.244-.542.542v5.056c0 .298-.244.542-.542.542H5.056a1.08 1.08 0 0 1-1.083-1.083V12.67a.54.54 0 0 1 .199-.42l8.486-6.987a.55.55 0 0 1 .691 0l8.486 6.987c.122.104.194.257.194.42zm3.774-2.75l-3.774-3.1V.56c0-.298-.244-.542-.542-.542h-2.528c-.298 0-.542.244-.542.542v3.277L14.377.5c-.8-.66-1.955-.66-2.753 0L.2 9.922c-.23.2-.262.533-.072.763l1.15 1.4c.2.23.533.262.763.072l10.617-8.743a.55.55 0 0 1 .691 0l10.617 8.743c.23.2.573.158.763-.072l1.15-1.4c.2-.235.153-.573-.077-.763z"/></svg>'},e.randomId=function(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(2,10)},e.colorpicker=function(e){var n=null;n=1==t(e).data("limit")?{preferredFormat:"hex",showPaletteOnly:!0,color:"blanchedalmond",palette:[["#000","#444","#666","#999","#ccc","#eee","#f3f3f3","#fff"],["#f00","#f90","#ff0","#0f0","#0ff","#00f","#90f","#f0f"],["#f4cccc","#fce5cd","#fff2cc","#d9ead3","#d0e0e3","#cfe2f3","#d9d2e9","#ead1dc"],["#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#9fc5e8","#b4a7d6","#d5a6bd"],["#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6fa8dc","#8e7cc3","#c27ba0"],["#c00","#e69138","#f1c232","#6aa84f","#45818e","#3d85c6","#674ea7","#a64d79"],["#900","#b45f06","#bf9000","#38761d","#134f5c","#0b5394","#351c75","#741b47"],["#600","#783f04","#7f6000","#274e13","#0c343d","#073763","#20124d","#4c1130"]]}:{allowEmpty:!0,showInitial:!0,preferredFormat:"hex"},1==t(e).data("input")&&(n.showInput=!0),1==t(e).data("empty")&&(n.allowEmpty=!0,1==t(e).data("limit")&&n.palette.push(["transparent"]),n.change=function(n){n=0===n._a?"transparent":n.toHexString(),t(e).val(n)}),1==t(e).data("inline")&&(n.flat=!0),1==t(e).data("aplha")&&(n.showAlpha=!0),n.clickoutFiresChange=!0;try{t(e).spectrum(n)}catch(e){}},e.isElementInView=function(e,n){return void 0===n&&(n=!1),0!=e.length&&(0==n?e.offset().top<t(window).height()&&e.offset().top+e.height()>60:e.offset().top+e.height()<t(window).height()&&e.offset().top>60)},e.keepInNumericBounds=function(t,e,n){return null!==t&&n<t&&(n=t),null!==e&&n>e&&(n=e),n},e.scrollControl=function(t,e,n){var i=0;t.scroll(function(){var r=t.scrollTop();r>i&&"function"==typeof n&&n(),i>r&&"function"==typeof e&&e(),i=r})},e.loadingFromPreviousStart=function(){var e=t(".fromPrevious");e.length>=0?e.css("display","flex"):(e=t('<div class="wait fromPrevious">'+i.Lang.t("previousTaskLoading")+"</div>"),t(".main").append(e),e.css("display","flex"))},e.loadingFromPreviousFail=function(){var e="<div><p>"+i.Lang.t("previousFail")+'</p><p></p><p><button class="btn" onclick="window.history.go(-1); return false;">'+i.Lang.t("previousFailBack")+'</button> <button class="btn btn--red" id="closePrevious">'+i.Lang.t("previousFailContinue")+"</button></p></div>";t(".fromPrevious").html(e).css("background-image","none")},e.loadingFromPreviousEnd=function(){t(".fromPrevious").remove()},e.serializeFormData=function(t){var e={};try{for(var n=0,i=t.entries();n<i.length;n++){var r=i[n],o=r[0],a=r[1];e[o]=a}}catch(t){}return e={info:"form data serialize failed"}},e.parseTemplate=function(e,n,i){return void 0===n&&(n=null),void 0===i&&(i="simple"),null!=n&&("simple"==i&&t.each(n,function(t,n){e=e.replace("{"+t+"}",n)}),"dollar"==i&&t.each(n,function(t,n){e=e.replace("${"+t+"}",n)})),e},e.isEmail=function(t){return!!/^\w+([\+\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(t)},e}();e.Tools=r}).call(this,n(1))},function(t,e,n){var i,r,o;!function(a){"use strict";r=[n(27)],void 0===(o="function"==typeof(i=function(t){var e=t.transform;t.transform=function(n,i,r,o,a){e.call(t,t.scale(n,i,a),i,r,o,a)},t.transformCoordinates=function(){},t.getTransformedOptions=function(t,e){var n,i,r,o,a=e.aspectRatio;if(!a)return e;for(i in n={},e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n.crop=!0,r=t.naturalWidth||t.width,o=t.naturalHeight||t.height,r/o>a?(n.maxWidth=o*a,n.maxHeight=o):(n.maxWidth=r,n.maxHeight=r/a),n},t.renderImageToCanvas=function(t,e,n,i,r,o,a,s,c,l,u){var d=t.getContext("2d");return!1===u.imageSmoothingEnabled?d.imageSmoothingEnabled=!1:u.imageSmoothingQuality&&(d.imageSmoothingQuality=u.imageSmoothingQuality),d.drawImage(e,n,i,r,o,a,s,c,l),t},t.hasCanvasOption=function(t){return t.canvas||t.crop||!!t.aspectRatio},t.scale=function(e,n,i){n=n||{};var r,o,a,s,c,l,u,d,p,f,h,v=document.createElement("canvas"),g=e.getContext||t.hasCanvasOption(n)&&v.getContext,m=e.naturalWidth||e.width,y=e.naturalHeight||e.height,b=m,_=y;function w(){var t=Math.max((a||b)/b,(s||_)/_);t>1&&(b*=t,_*=t)}function x(){var t=Math.min((r||b)/b,(o||_)/_);t<1&&(b*=t,_*=t)}if(g&&(n=t.getTransformedOptions(e,n,i),u=n.left||0,d=n.top||0,n.sourceWidth?(c=n.sourceWidth,void 0!==n.right&&void 0===n.left&&(u=m-c-n.right)):c=m-u-(n.right||0),n.sourceHeight?(l=n.sourceHeight,void 0!==n.bottom&&void 0===n.top&&(d=y-l-n.bottom)):l=y-d-(n.bottom||0),b=c,_=l),r=n.maxWidth,o=n.maxHeight,a=n.minWidth,s=n.minHeight,g&&r&&o&&n.crop?(b=r,_=o,(h=c/l-r/o)<0?(l=o*c/r,void 0===n.top&&void 0===n.bottom&&(d=(y-l)/2)):h>0&&(c=r*l/o,void 0===n.left&&void 0===n.right&&(u=(m-c)/2))):((n.contain||n.cover)&&(a=r=r||a,s=o=o||s),n.cover?(x(),w()):(w(),x())),g){if((p=n.pixelRatio)>1&&(v.style.width=b+"px",v.style.height=_+"px",b*=p,_*=p,v.getContext("2d").scale(p,p)),(f=n.downsamplingRatio)>0&&f<1&&b<c&&_<l)for(;c*f>b;)v.width=c*f,v.height=l*f,t.renderImageToCanvas(v,e,u,d,c,l,0,0,v.width,v.height,n),u=0,d=0,c=v.width,l=v.height,(e=document.createElement("canvas")).width=c,e.height=l,t.renderImageToCanvas(e,v,0,0,c,l,0,0,c,l,n);return v.width=b,v.height=_,t.transformCoordinates(v,n),t.renderImageToCanvas(v,e,u,d,c,l,0,0,b,_,n)}return e.width=b,e.height=_,e}})?i.apply(e,r):i)||(t.exports=o)}()},function(t,e,n){var i,r,o;!function(a){"use strict";r=[n(27),n(46)],void 0===(o="function"==typeof(i=function(t){t.ExifMap=function(){return this},t.ExifMap.prototype.map={Orientation:274},t.ExifMap.prototype.get=function(t){return this[t]||this[this.map[t]]},t.getExifThumbnail=function(e,n,i){if(i&&!(n+i>e.byteLength))return t.createObjectURL(new Blob([e.buffer.slice(n,n+i)]))},t.exifTagTypes={1:{getValue:function(t,e){return t.getUint8(e)},size:1},2:{getValue:function(t,e){return String.fromCharCode(t.getUint8(e))},size:1,ascii:!0},3:{getValue:function(t,e,n){return t.getUint16(e,n)},size:2},4:{getValue:function(t,e,n){return t.getUint32(e,n)},size:4},5:{getValue:function(t,e,n){return t.getUint32(e,n)/t.getUint32(e+4,n)},size:8},9:{getValue:function(t,e,n){return t.getInt32(e,n)},size:4},10:{getValue:function(t,e,n){return t.getInt32(e,n)/t.getInt32(e+4,n)},size:8}},t.exifTagTypes[7]=t.exifTagTypes[1],t.getExifValue=function(e,n,i,r,o,a){var s,c,l,u,d,p,f=t.exifTagTypes[r];if(f&&(s=f.size*o,!((c=s>4?n+e.getUint32(i+8,a):i+8)+s>e.byteLength))){if(1===o)return f.getValue(e,c,a);for(l=[],u=0;u<o;u+=1)l[u]=f.getValue(e,c+u*f.size,a);if(f.ascii){for(d="",u=0;u<l.length&&"\0"!==(p=l[u]);u+=1)d+=p;return d}return l}},t.parseExifTag=function(e,n,i,r){return{number:e.getUint16(i,r),value:t.getExifValue(e,n,i,e.getUint16(i+2,r),e.getUint32(i+4,r),r)}},t.parseExifTags=function(t,e,n,i,r){var o,a,s,c,l;if(!(n+6>t.byteLength||(o=t.getUint16(n,i),(a=n+2+12*o)+4>t.byteLength))){for(s=0;s<o;s+=1)c=n+2+12*s,l=this.parseExifTag(t,e,c,i,r),r.exif[l.number]=l.value,r.exifOffsets&&(r.exifOffsets[l.number]=c);return t.getUint32(a,i)}},t.parseExifData=function(e,n,i,r,o){if(!o.disableExif){var a,s,c,l=n+10;if(1165519206===e.getUint32(n+4)&&!(l+8>e.byteLength)&&0===e.getUint16(n+8)){switch(e.getUint16(l)){case 18761:a=!0;break;case 19789:a=!1;break;default:return}42===e.getUint16(l+2,a)&&(s=e.getUint32(l+4,a),r.exif=new t.ExifMap,o.disableExifOffsets||(r.exifOffsets=new t.ExifMap,r.exifTiffOffset=l,r.exifLittleEndian=a),(s=t.parseExifTags(e,l,l+s,a,r))&&!o.disableExifThumbnail&&(c={exif:{}},s=t.parseExifTags(e,l,l+s,a,c),c.exif[513]&&(r.exif.Thumbnail=t.getExifThumbnail(e,l+c.exif[513],c.exif[514]))),r.exif[34665]&&!o.disableExifSub&&t.parseExifTags(e,l,l+r.exif[34665],a,r),r.exif[34853]&&!o.disableExifGps&&t.parseExifTags(e,l,l+r.exif[34853],a,r))}}},t.metaDataParsers.jpeg[65505].push(t.parseExifData),t.exifWriters={274:function(t,e,n){var i=new DataView(t,e.exifOffsets[274]+8,2);return i.setUint16(0,n,e.exifLittleEndian),t}},t.writeExifData=function(e,n,i,r){t.exifWriters[n.exif.map[i]](e,n,r)}})?i.apply(e,r):i)||(t.exports=o)}()},function(t,e,n){var i,r,o;!function(a){"use strict";r=[n(27),n(46)],void 0===(o="function"==typeof(i=function(t){t.IptcMap=function(){return this},t.IptcMap.prototype.map={ObjectName:5},t.IptcMap.prototype.get=function(t){return this[t]||this[this.map[t]]},t.parseIptcTags=function(t,e,n,i){function r(t,e,n){for(var i="",r=e;r<e+n;r++)i+=String.fromCharCode(t.getUint8(r));return i}for(var o,a,s,c=e;c<e+n;)28===t.getUint8(c)&&2===t.getUint8(c+1)&&(s=t.getUint8(c+2))in i.iptc.tags&&(a=t.getInt16(c+3),o=r(t,c+5,a),Object.prototype.hasOwnProperty.call(i.iptc,s)?i.iptc[s]instanceof Array?i.iptc[s].push(o):i.iptc[s]=[i.iptc[s],o]:i.iptc[s]=o),c++},t.parseIptcData=function(e,n,i,r,o){if(!o.disableIptc)for(var a=n+i,s=function(t,e){return 943868237===t.getUint32(e)&&1028===t.getUint16(e+4)};n+8<a;){if(s(e,n)){var c=e.getUint8(n+7);c%2!=0&&(c+=1),0===c&&(c=4);var l=n+8+c;if(l>a)break;var u=e.getUint16(n+6+c);if(n+u>a)break;return r.iptc=new t.IptcMap,t.parseIptcTags(e,l,u,r)}n++}},t.metaDataParsers.jpeg[65517].push(t.parseIptcData)})?i.apply(e,r):i)||(t.exports=o)}()},function(t,e,n){"use strict";t.exports=function(t,e,n,i){for(var r=65535&t|0,o=t>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(r=r+e[i++]|0)|0}while(--a);r%=65521,o%=65521}return r|o<<16|0}},function(t,e,n){"use strict";var i=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();t.exports=function(t,e,n,r){var o=i,a=r+n;t^=-1;for(var s=r;s<a;s++)t=t>>>8^o[255&(t^e[s])];return-1^t}},function(t,e,n){"use strict";var i=n(34),r=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(t){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){o=!1}for(var a=new i.Buf8(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function c(t,e){if(e<65534&&(t.subarray&&o||!t.subarray&&r))return String.fromCharCode.apply(null,i.shrinkBuf(t,e));for(var n="",a=0;a<e;a++)n+=String.fromCharCode(t[a]);return n}a[254]=a[254]=1,e.string2buf=function(t){var e,n,r,o,a,s=t.length,c=0;for(o=0;o<s;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),c+=n<128?1:n<2048?2:n<65536?3:4;for(e=new i.Buf8(c),a=0,o=0;a<c;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|63&n):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|63&n):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|63&n);return e},e.buf2binstring=function(t){return c(t,t.length)},e.binstring2buf=function(t){for(var e=new i.Buf8(t.length),n=0,r=e.length;n<r;n++)e[n]=t.charCodeAt(n);return e},e.buf2string=function(t,e){var n,i,r,o,s=e||t.length,l=new Array(2*s);for(i=0,n=0;n<s;)if((r=t[n++])<128)l[i++]=r;else if((o=a[r])>4)l[i++]=65533,n+=o-1;else{for(r&=2===o?31:3===o?15:7;o>1&&n<s;)r=r<<6|63&t[n++],o--;o>1?l[i++]=65533:r<65536?l[i++]=r:(r-=65536,l[i++]=55296|r>>10&1023,l[i++]=56320|1023&r)}return c(l,i)},e.utf8border=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0?e:0===n?e:n+a[t[n]]>e?n:e}},function(t,e,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(t,e,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,e,n){"use strict";(function(t){var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.IloveError=void 0;var a=n(8),s=o(n(16)),c=n(13),l=n(50),u=function(){function e(){}return e.getError=function(t){if("string"==typeof t)return t;if("error"in t&&"string"==typeof t.error)return t.error;if("response"in t){var e=this.getJson(t.response);if(null!=e)return"error"in e&&"param"in e.error&&e.error.param&&e.error.param&&"type"in e.error.param&&e.error.param.type instanceof Array?e.error.param.type[0]:"error"in e&&"type"in e.error&&e.error.type&&"string"==typeof e.error.type?e.error.type:"ServerError"}return"param"in t&&"type"in t.param?t.param.type:"UnknownError"},e.isJson=function(t){try{JSON.parse(t)}catch(t){return!1}return!0},e.getJson=function(t){var e=null;try{e=JSON.parse(t)}catch(t){return null}return e},e.fatalError=function(n,i,r,o,u){void 0===n&&(n=null),void 0===i&&(i=null),void 0===r&&(r=null),void 0===o&&(o=null),void 0===u&&(u=null),null==n&&(n="UnknownError"),"UnknownError"==(n=e.getError(n))&&(s.configureScope(function(t){t.setExtra("unknownError",n),t.setExtra("tool",i),t.setExtra("fileName",o),t.setExtra("workerServer",r),t.setExtra("extra",u)}),s.addBreadcrumb({category:"upload",level:c.Severity.Error,message:"Unknown Error"})),l.Analytics.send("upload-fatal",i,n),window.ga("send","event","upload-fatal",i,n),t(".tool").hide(),t("#uploading").hide(),t("#process").hide(),t("body").addClass("process-run");var d="";d="FileRemoved"==n||"FileTooLarge"==n?n:"errorRetry";var p='\n        <div class="tool-error">\n            <h2 class="title2">'+a.Lang.t("Upload error")+'</h2>\n            <div class="tool-error__content">'+a.Lang.t(d);null!=o&&"FileRemoved"!=n&&(p=p+"<p>"+o+"</p>"),p=p+'</div><div class="tool-error__action"><a class="btn btn-sm" href="javascript:location.reload()">'+a.Lang.t("Retry")+"</a></div>",t("#uploading").html(p).show()},e.error=function(t,e,n,i){void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=null)},e}();e.IloveError=u}).call(this,n(1))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Config=void 0;var i=function(){function t(t){this.tool=null,this.subtool=null,this.config=null,Object.assign(this,t)}return t.prototype.getConfig=function(t){return this.subtool in this.config&&t in this.config[this.subtool]?this.config[this.subtool][t]:this.tool in this.config&&t in this.config[this.tool]?this.config[this.tool][t]:this.config.default[t]},t}();e.Config=i},function(t,e,n){(function(t,e){e.fn.preventDoubleSubmission=function(e){return t(this).on("submit",function(n){var i=t(this);!0===i.data("submitted")?(n.preventDefault(),i.find('[type="submit"]').attr("disabled",!0)):(i.data("submitted",!0),e>1&&(i.find('[type="submit"]').attr("disabled",!0),window.setTimeout(function(){i.data("submitted",!1),i.find('[type="submit"]').attr("disabled",null)},e)))}),this}}).call(this,n(1),n(1))},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.SocialAuthPopup=void 0;var i=n(7),r=n(25),o=n(59),a=function(){function e(){var t=this;this.eventEmitter=new r.ILoveEventEmitter,this.dispatchEvent=function(e){return t.eventEmitter.dispatchEvent(e)}}return e.open=function(t,n,i){void 0===n&&(n={});var r=e.instance;r.popup&&(clearInterval(r.popupInterval),r.popupInterval=null,r.popup.close(),r.popup=null);var o=r.mergeWindowFeatureProps(n,!0),a="/auth/auth?authclient="+String(t);r.popup=window.open(a,"social_auth_popup",o);var s=r.popup;window.ilove_socialAuthPopupStatus=void 0,window.ilove_socialAuthPopupOpened=!0;var c=function(){window.ilove_socialAuthPopupStatus;var t=window.ilove_socialAuthPopupNewUser;window.ilove_socialAuthPopupOpened=!1,window.ilove_socialAuthPopupStatus=void 0,window.ilove_socialAuthPopupNewUser=void 0,r.popupInterval=null,r.onPopupClosed(t,i),r.popup=null};return new Promise(function(t,e){r.popupInterval=setInterval(function(){var n=r.popup&&!r.popup.closed,i=!1;try{var o=r.popup.location.hostname,a=null!==r.popup.location.href.match("social-login-redirect");i=o===window.location.hostname&&!a}catch(t){}if(!n||s!==r.popup||i)if(clearInterval(r.popupInterval),i)var l=setInterval(function(){r.popup.addEventListener&&(clearInterval(l),r.popup.addEventListener("DOMContentLoaded",function(){var t,n,i=null===(n=null===(t=r.popup)||void 0===t?void 0:t.document)||void 0===n?void 0:n.body;i.style.display="none";var o=Array.from(i.querySelectorAll(".flash")).map(function(t){return t.innerText});r.popup.close(),c(),e({errors:o})}))});else c(),t({})})})},e.focusWindow=function(){var t;null===(t=e.instance.popup)||void 0===t||t.focus()},e.closeWindow=function(){var t;null===(t=e.instance.popup)||void 0===t||t.close()},e.prototype.onPopupClosed=function(n,r){var a,s=this,c=null!==(a=null===r||void 0===r?void 0:r.getAttribute(e.runningFromAttr))&&void 0!==a?a:"auth";n&&o.UserAuth.sendGA_registered(c),t.get("/login").done(function(t){s.userAuth=new o.UserAuth({runningFrom:c}),s.userAuth.loginSuccess(t);var e={socialAuth_isNewUser:n},r=new CustomEvent("userAuth",{detail:e});window.dispatchEvent(r),s.dispatchEvent(new i.IloveEvent("auth:success",e))}).fail(function(t,e,n){})},Object.defineProperty(e,"instance",{get:function(){return window.ilove_socialAuthPopupInstance||(window.ilove_socialAuthPopupInstance=new e),window.ilove_socialAuthPopupInstance},enumerable:!1,configurable:!0}),e.prototype.mergeWindowFeatureProps=function(t,e){void 0===e&&(e=!1);var n=Object.assign({resizable:"yes",scrollbars:"no",toolbar:"no",menubar:"no",location:"no",directories:"no",status:"yes",width:450,height:380,left:null,top:null},t);if(n.left=(window.innerWidth-n.width)/2,n.top=(window.innerHeight-n.height)/2,e){var i=[];for(var r in n)n.hasOwnProperty(r)&&i.push(r+"="+n[r]);return i.join(",")}return n},e.runningFromAttr="data-running-from",e.addEventListener=function(t,n){return e.instance.eventEmitter.addEventListener(t,n)},e}();e.SocialAuthPopup=a}).call(this,n(1))},function(t,e){!function(){if("function"==typeof window.CustomEvent)return!1;function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}t.prototype=window.Event.prototype,window.CustomEvent=t}()},function(t,e,n){(function(t){var e;String.prototype.ucFirst=function(){return this.charAt(0).toUpperCase()+this.slice(1)},String.prototype.camelCase=function(){return this.replace(/-([a-z])/gi,function(t,e){return e.toUpperCase()})},t.fn.exchangePositionWith=function(e){var n=t(e),i=t("<span>").hide();this.before(i),n.before(this),i.replaceWith(n)},Array.prototype.move=function(t,e){if(e>=this.length)for(var n=e-this.length;1+n--;)this.push(void 0);return this.splice(e,0,this.splice(t,1)[0]),this},String.prototype.trunc=function(t){return this.substr(0,t-1)+(this.length>t?"&hellip;":"")},String.prototype.trim||(e=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,String.prototype.trim=function(){return this.replace(e,"")}),String.prototype.ltrim||(String.prototype.ltrim=function(){return this.replace(/^\s+/g,"")})}).call(this,n(1))},function(t,e){var n,i,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var c,l=[],u=!1,d=-1;function p(){u&&c&&(u=!1,c.length?l=c.concat(l):d=-1,l.length&&f())}function f(){if(!u){var t=s(p);u=!0;for(var e=l.length;e;){for(c=l,l=[];++d<e;)c&&c[d].run();d=-1,e=l.length}c=null,u=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function v(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new h(t,e)),1!==l.length||u||s(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=v,r.addListener=v,r.once=v,r.off=v,r.removeListener=v,r.removeAllListeners=v,r.emit=v,r.prependListener=v,r.prependOnceListener=v,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t){t.exports=JSON.parse('{"development":{"service":"https://servicedev.ilovepdf.com","service_subdomain":"servicedev","web_prefix":"dev","api_sufix":"dev","stripe_key":"pk_test_3QB411Rie7QKjMhfSA0oiEOx","paypal_env":"sandbox","paypal_sandbox_key":"AZ1YHzR1wxJRRmfpqDHyoTwxfOwxB3UTlewVDk-1o6iZQX9SOCVHUpurugviVCowIPGCQ-SsTfbN8ubr","paypal_production_key":"AZRtaJu6iBHsygDFp5OMdCQabjEStco4pfXUdP1SnMGLnpLQdl84xBjXYIMyqY-6pyVKAj-muy5ZeMpv"},"staging":{"service":"https://servicestaging.ilovepdf.com","service_subdomain":"servicestaging","web_prefix":"staging","api_sufix":"dev","stripe_key":"pk_test_3QB411Rie7QKjMhfSA0oiEOx","stripe_key_api":"pk_test_mDCbsVuNmGS4QIePyxrnLexu","paypal_env":"sandbox","paypal_sandbox_key":"AZ1YHzR1wxJRRmfpqDHyoTwxfOwxB3UTlewVDk-1o6iZQX9SOCVHUpurugviVCowIPGCQ-SsTfbN8ubr","paypal_production_key":"AZRtaJu6iBHsygDFp5OMdCQabjEStco4pfXUdP1SnMGLnpLQdl84xBjXYIMyqY-6pyVKAj-muy5ZeMpv"},"production":{"service":"https://service.ilovepdf.com","service_subdomain":"service","web_prefix":"www","api_sufix":"","stripe_key":"pk_live_515AzAgBqa3pLeb3yKIZljNwrbjfrFpMsuvoEEZncp68ao0mQUKZgEY3Ddfh3JUMH4tIKBuFDsLt9Ot29l3d3KIey00O1gzlSiu","stripe_key_api":"pk_live_epWBEsOopGb3Oo75Y6YzAbTP","paypal_env":"production","paypal_sandbox_key":"AZ1YHzR1wxJRRmfpqDHyoTwxfOwxB3UTlewVDk-1o6iZQX9SOCVHUpurugviVCowIPGCQ-SsTfbN8ubr","paypal_production_key":"AZRtaJu6iBHsygDFp5OMdCQabjEStco4pfXUdP1SnMGLnpLQdl84xBjXYIMyqY-6pyVKAj-muy5ZeMpv"}}')},function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return c});var i=n(3),r=n(39),o={nowSeconds:function(){return Date.now()/1e3}};var a=Object(r.b)()?function(){try{return Object(r.a)(t,"perf_hooks").performance}catch(t){return}}():function(){var t=Object(i.e)().performance;if(t&&t.now)return{now:function(){return t.now()},timeOrigin:Date.now()-t.now()}}(),s=void 0===a?o:{nowSeconds:function(){return(a.timeOrigin+a.now())/1e3}},c=o.nowSeconds.bind(o);s.nowSeconds.bind(s),function(){var t=Object(i.e)().performance;if(t)t.timeOrigin?t.timeOrigin:t.timing&&t.timing.navigationStart||Date.now()}()}).call(this,n(67)(t))},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),r=n(21),o=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,a=function(){function t(t){"string"==typeof t?this._fromString(t):this._fromComponents(t),this._validate()}return t.prototype.toString=function(t){void 0===t&&(t=!1);var e=this,n=e.host,i=e.path,r=e.pass,o=e.port,a=e.projectId;return e.protocol+"://"+e.user+(t&&r?":"+r:"")+"@"+n+(o?":"+o:"")+"/"+(i?i+"/":i)+a},t.prototype._fromString=function(t){var e=o.exec(t);if(!e)throw new r.a("Invalid Dsn");var n=Object(i.c)(e.slice(1),6),a=n[0],s=n[1],c=n[2],l=void 0===c?"":c,u=n[3],d=n[4],p=void 0===d?"":d,f="",h=n[5],v=h.split("/");if(v.length>1&&(f=v.slice(0,-1).join("/"),h=v.pop()),h){var g=h.match(/^\d+/);g&&(h=g[0])}this._fromComponents({host:u,pass:l,path:f,projectId:h,port:p,protocol:a,user:s})},t.prototype._fromComponents=function(t){this.protocol=t.protocol,this.user=t.user,this.pass=t.pass||"",this.host=t.host,this.port=t.port||"",this.path=t.path||"",this.projectId=t.projectId},t.prototype._validate=function(){var t=this;if(["protocol","user","host","projectId"].forEach(function(e){if(!t[e])throw new r.a("Invalid Dsn: "+e+" missing")}),!this.projectId.match(/^\d+$/))throw new r.a("Invalid Dsn: Invalid projectId "+this.projectId);if("http"!==this.protocol&&"https"!==this.protocol)throw new r.a("Invalid Dsn: Invalid protocol "+this.protocol);if(this.port&&isNaN(parseInt(this.port,10)))throw new r.a("Invalid Dsn: Invalid port "+this.port)},t}()},function(t,e,n){"use strict";(function(t){var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},a=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((i=i.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.PluploadUpload=void 0;var c=o(n(26)),l=n(8),u=o(n(16)),d=n(13),p=n(47),f=n(108),h=n(50),v=function(){function e(t){this.SLOW_CONNECTION_LIMIT=200,this.BPS_CONNECTION_LIMIT=2e4,this.RETRY_NUM=4,this.optionsManager=null,this.processManager=null,this.config=null,this.files=null,this.workerServer=null,this.startServer=null,this.token=null,this.tool=null,this.taskId=null,this.id="pickfiles",this.container="uploader",this.servers=null,this.haveDrop=!0,this.dropElement="workArea",this.ignoreFiles=!1,this.chunkSize="2Mb",Object.assign(this,t),this.appVersion=p.APP_VERSION,this.apiVersion=p.API_VERSION,this.slowConnectionCounter=0,this.dnsFallback=!1,this.dnsFallbackActive=!1,this.servers=this.shuffle(this.servers),this.notCheckedServers=this.servers,this.retryCount=this.RETRY_NUM,this.settimer0=null,this.settimer1=null;var e=this.notCheckedServers.indexOf(this.workerServer);e>-1&&this.notCheckedServers.splice(e,1),this.uploader=null,this.timeout=null,this.timeLimit=684e4,this.timeCheck=3e5,this.checkServerStatusOnStart=this.optionsManager.checkServerStatusOnStart,this.init()}return e.prototype.shuffle=function(t){for(var e,n=t.length-1;n>0;n--){var i=Math.floor(Math.random()*(n+1));e=[t[i],t[n]],t[n]=e[0],t[i]=e[1]}return t},e.prototype.init=function(){var e=this;this.initPlupload().then(function(){t("#"+e.id).addClass("active"),e.configPlupload(),e.dragDrop(),e.checkTimeoutInterval(),e.listenEventTaskIdChanged(),e.listenEventLimitsChanged()},function(){})},e.prototype.initPlupload=function(){return new Promise(function(t){if(null===window.plupload||void 0!==window.plupload)return t(!0);c.lazyload("/js/plupload/plupload.full.min.js");var e=window.setInterval(function(){if(null!==window.plupload&&"object"==typeof window.plupload)return clearInterval(e),t(!0)},100)})},e.prototype.listenEventTaskIdChanged=function(){var t=this;window.addEventListener("taskIdChanged",function(e){var n=e.detail.taskId;n&&t.changeTaskId(n)})},e.prototype.listenEventLimitsChanged=function(){var t=this;window.addEventListener("limitsChanged",function(e){t.checkLimits([],t.id),t.uploadPendingFiles()})},e.prototype.changeDNSServer=function(t){return this.workerServer=this.workerServer.replace(".","-cf."),this.optionsManager.changeServer(this.workerServer),this.uploader.setOption("url",this.workerServer+"/"+this.apiVersion+"/upload"),this.dnsFallbackActive=!0,h.Analytics.send("upload-info","upload-change","dns - "+t),window.ga("send","event","upload-info","upload-change","dns - "+t),u.addBreadcrumb({category:"upload",level:d.Severity.Info,message:"change dns: "+t}),!0},e.prototype.checkServerStatus=function(){var t=this;return new Promise(function(e,n){1==t.optionsManager.checkServerStatusOnStart?(t.optionsManager.checkServerStatusOnStart=!1,t.optionsManager.processManager.api.getStatus(t.workerServer).then(function(n){n&&"down"==n.status&&t.changeServer(),e()},function(n){t.changeServer(),e()})):e()})},e.prototype.changeServer=function(){var t=this;if(this.notCheckedServers=this.notCheckedServers.filter(function(e){return e!=t.workerServer.replace("-cf.",".")}),this.notCheckedServers.length>0){var e=this.workerServer,n=this.notCheckedServers[0];return this.workerServer=n,this.uploader.stop(),this.uploader.setOption("url",n+"/"+this.apiVersion+"/upload"),h.Analytics.send("upload-info","upload-change","server-"+e),window.ga("send","event","upload-info","upload-change","server-"+e),this.optionsManager.changeServer(n),this.optionsManager.checkServerStatusOnStart=this.checkServerStatusOnStart,this.uploader.start(),u.addBreadcrumb({category:"upload",level:d.Severity.Info,message:"change server: "+e+" - "+this.workerServer}),!0}return!1},e.prototype.configPlupload=function(){var e=this,n=this,i={file:null,offset:0,chunk:0};this.uploader=new window.plupload.Uploader({browse_button:n.id,chunk_size:this.chunkSize,max_retries:0,runtimes:"html5",container:n.container,drop_element:n.dropElement,dragdrop:n.haveDrop,multi_selection:n.config.getConfig("multiSelection"),url:n.getUrl(),filters:{mime_types:n.config.getConfig("mimeTypes")},headers:n.getHeaders(),multipart_params:n.getUploadParams(),init:{Init:function(t,e){},PostInit:function(){},QueueChanged:function(t){},FilesAdded:function(e,i){return a(this,void 0,void 0,function(){return s(this,function(r){switch(r.label){case 0:return f.Banner.preventClick(),[4,n.checkServerStatus()];case 1:return r.sent(),0,i.length,t.each(i,function(t,e){e.upBy=n.id,1==n.ignoreFiles&&(e.ignored=!0,n.optionsManager.limits.addIgnoredFile(e.id)),n.files.addFile(e)}),0==n.ignoreFiles&&(i=n.checkLimits(i,e)),t.each(n.files.removed,function(t,n){try{e.removeFile(n)}catch(t){}}),i.length>0?(t.each(i,function(t,i){"errorData"in i&&delete i.errorData,n.fileAdded(i,e)}),0==n.files.limited.length&&2!=e.state&&e.start(),[2]):[2,!1]}})})},FilesRemoved:function(t,e){},BeforeUpload:function(t,e){if(!e)return t.stop(),!1;i.file=e,i.offset=0,i.chunk=0,u.addBreadcrumb({category:"upload",level:d.Severity.Info,message:"before upload: "+e.name+" w."+e.size})},BeforeChunkUpload:function(e,o,a,s,c){return!1===n.isOnline?(e.stop(),!1):s&&s.size&&0!=s.size?(n.timeout=Date.now(),u.addBreadcrumb({category:"upload",level:d.Severity.Info,message:"before chunk: "+i.chunk}),1==n.dnsFallback&&0==n.dnsFallbackActive?(n.changeDNSServer("slow"),r(),!1):void 0):(o.status=window.plupload.FAILED,n.error({error:"FileRemoved",file:o}),o.errorData="FileRemoved",e.removeFile(o.id),n.uploader.stop(),t("body").hasClass("process-run")||n.uploader.start(),!1)},ChunkUploaded:function(t,e,n){i.offset=n.offset,i.chunk++},UploadProgress:function(e,i){if(!i)return!1;t("#uploadSpeed").html(window.plupload.formatSize(e.total.bytesPerSec).toUpperCase()+"/S");var r=Math.round((e.total.size-e.total.loaded)/e.total.bytesPerSec*1e3);void 0!=o(r)&&t("#timeLeft").html(o(r).toUpperCase()),i.size>3*n.BPS_CONNECTION_LIMIT&&e.total.bytesPerSec<n.BPS_CONNECTION_LIMIT?n.slowConnectionCounter++:n.slowConnectionCounter--,n.slowConnectionCounter==n.SLOW_CONNECTION_LIMIT&&(n.dnsFallback=!0,u.addBreadcrumb({category:"upload",level:d.Severity.Info,message:"Slow Connection: Set to change server"}))},FileUploaded:function(t,e,r){i.file=null;var o=JSON.parse(r.response);n.fileUploaded(e.id,o)},UploadComplete:function(t,e){e.forEach(function(t){return n.fileChanged(t.id)})},Error:function(e,i){-600!=i.code||0!=i.file.origSize?-600==i.code&&i.file.origSize>0?window.Toastr.error(l.Lang.t("FileSizeExceeded")+"<br>"+i.file.name,l.Lang.t("Upload error"),{timeOut:6e3,positionClass:"toast-top-left"}):-601!=i.code?-200==i.code&&"status"in i&&400==i.status?n.error(i):-200==i.code?(u.addBreadcrumb({category:"upload",level:d.Severity.Error,message:"Server Error"}),500==i.status||401==i.status?(u.addBreadcrumb({category:"upload",level:d.Severity.Error,message:"Server Error"}),500==i.status&&(u.configureScope(function(t){t.setExtra("error500",i)}),u.captureMessage("upload500")),401==i.status&&(u.configureScope(function(t){t.setExtra("error401",i),t.setExtra("token",n.token)}),u.captureMessage("upload401")),1==n.changeServer()?n.reUploadAllFiles():(n.timeout=null,n.uploader.stop(),n.fatalError("ServerError"),"file"in i&&(i.file.errorData="ServerError"))):n.retryCount>0?(n.retryCount--,n.uploader.stop(),r(!0)):0==n.dnsFallbackActive?(n.uploader.stop(),n.retryCount=n.RETRY_NUM,n.changeDNSServer("connection"),r(!0)):0==i.status&&"HTTP Error."==i.message?1==n.changeServer()?n.reUploadAllFiles():(n.timeout=null,t("body").hasClass("process-run")?(n.error({error:"ConnectionError"}),n.processManager.status="error",n.uploader.stop()):n.error({error:"ConnectionError"})):n.uploader.stop()):(n.uploader.stop(),e.removeFile(i.file.id),n.error(i)):window.Toastr.error(l.Lang.t("InvalidExtension")+"<br>"+i.file.name,l.Lang.t("Upload error"),{timeOut:6e3,positionClass:"toast-top-left"}):window.Toastr.error(l.Lang.t("EmptyFile")+"<br>"+i.file.name,l.Lang.t("Upload error"),{timeOut:6e3,positionClass:"toast-top-left"})}}});var r=function(t){void 0===t&&(t=!1),i.file.loaded=i.offset,clearTimeout(n.settimer1),n.settimer1=setTimeout(function(){if(u.addBreadcrumb({category:"upload",level:d.Severity.Info,message:"retry upload "}),i.file){i.file.status=window.plupload.UPLOADING,n.uploader.state=window.plupload.STARTED;try{n.uploader.trigger("UploadFile",i.file)}catch(t){n.uploader.stop(),n.uploader.start()}}},1500)};function o(t){l.Lang.t("Time left");var e,n=l.Lang.t("minute"),i=l.Lang.t("hour"),r=l.Lang.t("less than"),o=l.Lang.t("minutes"),a=l.Lang.t("hours"),s=l.Lang.t("seconds"),c=Math.floor(t/1e3);t%=1e3;var u=Math.floor(c/60);c%=60;var d=Math.floor(u/60);u%=60;Math.floor(d/60);return 0==(d%=60)?0==u?e=c+" "+s:1==u?e="1 "+n:u>1&&(e=" "+u+" "+o):1==d?e=r+" "+(d+1)+" "+a:d>1&&(e=r+" "+d+" "+i),e}window.addEventListener("goProcess",function(){var t={task:n.taskId,preview:0,v:n.appVersion};n.uploader.setOption("multipart_params",t)},!1),window.addEventListener("offline",function(){n.isOnline=!1,n.uploader.stop(),u.addBreadcrumb({category:"upload",level:d.Severity.Info,message:"go offline "})},!1),window.addEventListener("online",function(){if(n.isOnline=!0,null===i.file)return!1;u.addBreadcrumb({category:"upload",level:d.Severity.Info,message:"go online"}),r()},!1),window.addEventListener("fileRemoved",function(t){e.uploader.removeFile(t.detail.fileId),e.optionsManager.limits&&e.optionsManager.limits.setFileLimits(),e.uploadPendingFiles()}),this.uploader.init()},e.prototype.uploadPendingFiles=function(){this.uploader.start()},e.prototype.reUploadAllFiles=function(){var t=this.uploader;u.addBreadcrumb({category:"upload",level:d.Severity.Info,message:"Reuploading all files "+this.id}),t.stop(),clearTimeout(this.settimer0),t.files.forEach(function(t,e){t.status=window.plupload.QUEUED,t.percent=0,t.loaded=0,t.error=!1,t.retry=!0,t.server_filename&&(delete t.server_filename,t.reUploaded=!0)}),this.settimer0=setTimeout(function(){t.refresh(),t.start()},500)},e.prototype.getHeaders=function(){return this.token||u.captureMessage("no token on upload!"),{Authorization:"Bearer "+this.token,Accept:"application/json"}},e.prototype.getUrl=function(){return this.workerServer+"/"+this.apiVersion+"/upload"},e.prototype.getUploadParams=function(){return{task:this.taskId,preview:1==window.processStart?0:1,pdfinfo:1==window.pdfinfo?1:0,pdfforms:1==window.pdfforms?1:0,pdfresetforms:1==window.pdfresetforms?1:0,v:this.appVersion}},e.prototype.checkLimits=function(t,e){return this.optionsManager.checkLimits(t,this.id)},e.prototype.getOnlyNoLimitedFiles=function(t){return t.filter(function(t){return!0!==t.limited})},e.prototype.getOnlyLimitedFiles=function(t){return t.filter(function(t){return!0===t.limited})},e.prototype.fileAdded=function(t,e){t.runtime=e.runtime,t.canvasId=t.id,this.optionsManager.fileAdded(t,this.id,this.ignoreFiles).then(function(){},function(){})},e.prototype.fileUploaded=function(t,e){this.optionsManager.fileUploaded(t,e)},e.prototype.fileChanged=function(t){this.optionsManager.fileChanged&&this.optionsManager.fileChanged(t)},e.prototype.error=function(t){this.optionsManager.invalidUpload(t)},e.prototype.fatalError=function(t){this.optionsManager.fatalError(t)},e.prototype.dragDrop=function(){"function"!=typeof t.fn.dndhover&&0!=this.haveDrop&&(t.fn.dndhover=function(e){return this.each(function(){var e=t(this),n=t();e.on("dragenter",function(t){if(0===n.length){var i=t.originalEvent.dataTransfer;i.types&&(i.types.indexOf?-1!=i.types.indexOf("Files"):i.types.contains("Files"))&&e.trigger("dndHoverStart")}n=n.add(t.target)}),e.on("dragleave",function(t){setTimeout(function(){0===(n=n.not(t.target)).length&&e.trigger("dndHoverEnd")},1)}),e.on("drop",function(t){setTimeout(function(){0===(n=n.not(t.target)).length&&e.trigger("dndHoverEnd")},1)})})},t(".tool__workarea").dndhover().on({dndHoverStart:function(e){return t("#dropArea").text(l.Lang.t("dropIt")),t("#dropArea").show(),e.stopPropagation(),e.preventDefault(),!1},dndHoverEnd:function(e){return t("#dropArea").hide(),e.stopPropagation(),e.preventDefault(),!1}}))},e.prototype.timeIsOk=function(){if(null==this.timeout)return!0;var t=Date.now()-this.timeLimit;return this.timeout>t},e.prototype.checkTimeoutInterval=function(){var t=this;window.setInterval(function(){t.checkTimeout()},t.timeCheck)},e.prototype.checkTimeout=function(){null!=this.timeout&&(this.timeIsOk()||(this.uploader.stop(),this.optionsManager.timeout&&this.optionsManager.timeout(),this.timeout=null))},e.prototype.changeTaskId=function(t){if(this.taskId=t,this.uploader){var e=this.getUploadParams();this.uploader.setOption("multipart_params",e)}},e}();e.PluploadUpload=v}).call(this,n(1))},function(t,e,n){"use strict";(function(t){var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.Banner=void 0;var a=o(n(16)),s=function(){function e(){}return e.preventClickAds=function(){e.preventClick("ad"),e.preventClick("adsq")},e.sendEvent=function(t){return function(){return a.captureMessage(t)}},e.preventClick=function(n){void 0===n&&(n="ad");var i=document.getElementById(n),r=(t(window).width(),"prvnt"+n),o=1100,a="ac";if(document.body.classList.contains("download")&&(o=500),"adsq"==n&&(a="acsq"),null==document.getElementById(r)&&i&&0!=i.getBoundingClientRect().height){i.style.position="relative";var s=document.createElement("div");s.setAttribute("id",r),s.style.position="absolute",s.style.top="0px",s.style.left="0px",s.style.width=i.getBoundingClientRect().width+"px",s.style.height=i.getBoundingClientRect().height+"px",s.style.zIndex="9",s.addEventListener("click",e.sendEvent(a));try{i.prepend(s)}catch(t){i.appendChild(s)}window.setTimeout(function(){s.removeEventListener("click",e.sendEvent(a)),s.remove()},o)}},e}();e.Banner=s}).call(this,n(1))},function(t,e,n){"use strict";(function(t,i){var r=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((i=i.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.ImageView=void 0;var a=n(64),s=n(129);t.loadImage=s;var c=n(134);t.canvasToBlob=c;var l=function(){function t(t){void 0===t&&(t={}),this.files=null,this.coversShow=!0,this.screenSize=[],this.imageIsLoaded=!1,this.URL=window.URL||window.webkitURL,this.URLObj={},this.imageSrc={},this.utif=n(135),this.useLoadImageLib=!1,Object.assign(this,t),this.init()}return t.prototype.init=function(){},t.prototype.renderUrl=function(t,e,n){return void 0===n&&(n=!1),new Promise(function(r,o){var a=document.getElementById(e);1==n?i(a).attr("src",t):i(a).attr("style","background-image: url("+t+");background-size:contain");var s=new Image;s.src=t,s.onload=function(){var e=new XMLHttpRequest;e.open("HEAD",t,!0),e.onreadystatechange=function(){if(4==e.readyState){var t=e.getResponseHeader("Content-Length");200==e.status&&t?r({size:e.getResponseHeader("Content-Length")}):r({})}},e.send(null)}})},t.prototype.renderImage=function(t,e,n){return void 0===n&&(n=!1),1==this.useLoadImageLib?this.renderImageOrientation(t,e,n):this.renderImageBasic(t,e,n)},t.prototype.hasBrowserAppliedImageOrientation=function(t){return"from-image"===i(t).css("image-orientation")},t.prototype.renderImageBasic=function(t,e,n,r){void 0===n&&(n=!1),void 0===r&&(r=!1);var o=this;a.isIE11(),t.type;return new Promise(function(r,a){var s=document.getElementById(e);try{var c=new FileReader;c.onload=function(t){var l=0;l=o.getExifOrientation(t);var u,d=new Uint8Array(c.result),p=null;try{u=new Blob([d]),p=(window.URL||window.webkitURL).createObjectURL(u)}catch(t){return void a(t)}o.imageSrc[e]=p,o.imageIsLoaded=!0;var f=new Image;f.onload=function(){var t=f.height,e=f.width;o.hasBrowserAppliedImageOrientation(s)&&(l=0),l>4&&l<9&&(t+=e,t-=e=t-e),1==n?i(s).attr("src",p):i(s).css("background-image","url("+p+")").css("background-size","contain"),o.transformByOrientation(s,l),r({width:e,height:t})},f.onerror=function(t){i(s).css("background-image",'url("/img/filetype/damaged.svg")').css("background-size","35%;"),a(t)},f.src=p},c.readAsArrayBuffer(t)}catch(t){a()}})},t.prototype.renderHeic=function(t,e){return r(this,void 0,void 0,function(){var t;return o(this,function(n){return(t=document.getElementById(e)).style.backgroundImage="url( '/img/filetype/heic.svg' )",t.style.backgroundSize="contain",[2]})})},t.prototype.transformByOrientation=function(t,e){var n="";if(e>1){switch(e){case 1:break;case 2:n="scaleX(-1)";break;case 3:n="rotate(180deg)";break;case 4:n="rotate(180deg) scale(-1)";break;case 5:n="rotate(90deg) scale(-1)";break;case 6:n="rotate(90deg)";break;case 7:n="rotate(270deg) scale(-1)";break;case 8:n="rotate(270deg)"}i(t).css("transform",n)}},t.prototype.renderImageOrientation=function(t,e,n){void 0===n&&(n=!1);var r=this;return new Promise(function(o,a){var s=document.getElementById(e);try{var c=new FileReader;c.onload=function(t){var l=0,u=new Uint8Array(c.result),d=new Blob([u]);if(r.hasBrowserAppliedImageOrientation(s)||(l=r.getExifOrientation(t)),l>1)window.loadImage(d,function(t){!t||"type"in t&&"error"==t.type?a({error:"damagedImage",message:"cannot render image"}):t.toBlob(function(t){var c,l;try{c=window.URL||window.webkitURL,l=c.createObjectURL(t)}catch(t){return void a(t)}r.imageSrc[e]=l,r.imageIsLoaded=!0;var u=new Image;u.onload=function(){var t=u.height,e=u.width;n?i(s).attr("src",l):i(s).attr("style","background-image: url("+l+");background-size:contain"),window.setTimeout(function(){r.URL.revokeObjectURL(l)},1e3),o({width:e,height:t})},u.onerror=function(t){i(s).attr("style",'background-image: url("/img/filetype/damaged.svg");background-size:35%;'),a(t)},u.src=l})},{canvas:!0,orientation:l});else{var p,f=void 0;try{f=window.URL||window.webkitURL,p=f.createObjectURL(d)}catch(t){return void a(t)}r.imageSrc[e]=p,r.imageIsLoaded=!0;var h=new Image;h.onload=function(){var t=h.height,e=h.width;1==n?i(s).attr("src",p):i(s).css("background-image","url("+p+")").css("background-size","contain"),o({width:e,height:t})},h.onerror=function(t){i(s).css("background-image",'url("/img/filetype/damaged.svg")').css("background-size","35%;"),a(t)},h.src=p}},c.readAsArrayBuffer(t)}catch(t){a()}})},t.prototype.getExifOrientation=function(t){var e=new DataView(t.target.result);if(65496!=e.getUint16(0,!1))return-2;for(var n=e.byteLength,i=2;i<n;){if(e.getUint16(i+2,!1)<=8)return-1;var r=e.getUint16(i,!1);if(i+=2,65505==r){if(1165519206!=e.getUint32(i+=2,!1))return-1;var o=18761==e.getUint16(i+=6,!1);i+=e.getUint32(i+4,o);var a=e.getUint16(i,o);i+=2;for(var s=0;s<a;s++)if(274==e.getUint16(i+12*s,o))return e.getUint16(i+12*s+8,o)}else{if(65280!=(65280&r))break;i+=e.getUint16(i,!1)}}return-1},t.prototype.renderSvg=function(t,e,n){void 0===n&&(n=!1);var r=this;return new Promise(function(o,a){var s=document.getElementById(e),c=new FileReader;c.onload=function(t){r.imageSrc[e]=t.target.result,n?i(s).attr("src",r.imageSrc[e]):i(s).attr("style","background-image: url("+r.imageSrc[e]+");background-size:contain"),r.imageIsLoaded=!0;var c=new Image;c.onload=function(){var t=c.height,e=c.width;o({width:e,height:t})},c.onerror=function(t){i(s).attr("style",'background-image: url("/img/filetype/damaged.svg");background-size:35%;'),a(t)},c.src=r.imageSrc[e]};try{c.readAsDataURL(t)}catch(t){a()}})},t.prototype.renderTif=function(t,e){var n=this,r=document.getElementById(e),o=new FileReader;return new Promise(function(a,s){o.onload=function(t){try{var o=n.utif.decode(t.target.result)[0],c=n.utif.toRGBA8(o),l=o.width,u=o.height,d=void 0,p=0;l>u?p=u*(d=n.screenSize.h)/l:d=l*(p=n.screenSize.h)/u,"canvas"!=r.tagName&&(i("#"+e).append('<canvas class="raw"></canvas>'),r=i("#"+e+" canvas")[0]),r.width=l,r.height=u;for(var f=r.getContext("2d"),h=f.createImageData(l,u),v=0;v<c.length;v++)h.data[v]=c[v];f.putImageData(h,0,0),"canvas"==i("#"+e)[0].tagName?i("#"+e).css("width",d+"px").css("height",p+"px"):i("#"+e+" canvas").css("width",d+"px").css("height",p+"px"),a()}catch(t){s(t)}},o.readAsArrayBuffer(t)})},t.prototype.onFileReady=function(){var t=this;return new Promise(function(e,n){var i=window.setInterval(function(){!0===t.imageIsLoaded&&(clearInterval(i),e())},200)})},t}();e.ImageView=l}).call(this,n(32),n(1))},function(t){t.exports=JSON.parse('{"default":{"mimeTypes":[{"title":"Pdf files","extensions":"pdf"}],"multiSelection":true},"editpdf":{"maxFiles":1,"mimeTypes":[{"title":"Pdf files","extensions":"pdf"}],"multiSelection":false},"sign":{"mimeTypes":[{"title":"Pdf files","extensions":"pdf"}],"multiSelection":true},"organize":{"mimeTypes":[{"title":"Pdf files","extensions":"pdf"}],"multiSelection":true},"split":{"maxFiles":1,"mimeTypes":[{"title":"Pdf files","extensions":"pdf"}],"multiSelection":false},"imagepdf":{"mimeTypes":[{"title":"Image files","extensions":"jpg,jpeg,png,tif,tiff","mime":"image/jpeg,image/jpg,image/png,image/tiff"}]},"watermarkimage":{"mimeTypes":[{"title":"Image files","extensions":"jpg,jpeg,png","mime":"image/jpeg,image/jpg,image/gif,image/png"}]},"officepdf":{"mimeTypes":[{"title":"Word files","extensions":"doc,docx,odt,ott,stw,sdw,sxw"},{"title":"Excel files","extensions":"xls,xlsx,ods,ots,sdc,sxc"},{"title":"Powerpoint files","extensions":"ppt,pptx,odp,pps,ppsx,sxi"}]},"wordpdf":{"mimeTypes":[{"title":"Word files","extensions":"doc,docx,odt,ott,stw,sdw,sxw"}]},"powerpointpdf":{"mimeTypes":[{"title":"Powerpoint files","extensions":"ppt,pptx,odp,pps,ppsx,sxi"}]},"excelpdf":{"mimeTypes":[{"title":"Excel files","extensions":"xls,xlsx,ods,ots,sdc,sxc"}]}}')},function(t,e,n){"use strict";(function(t){var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},a=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((i=i.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.Process=void 0;var c=n(8),l=o(n(16)),u=n(17),d=n(82),p=n(97),f=n(47),h=n(58),v=n(41),g=n(15),m=n(149),y=function(){function e(t){var e=this;this.beforeExecute=function(){return new Promise(function(t,n){if(g.UserModel.isRealPremium())t(!0);else if(!0!==e.limitsConfirmShown){var i=e.limits.checkFileLimits();if(null!==i){try{window.history.pushState({id:"workarea"},"workarea",null)}catch(t){}e.limitsConfirmShown=!0;var r=document.getElementById("process");r.style.display="none";var o=document.createElement("div");o.setAttribute("id","confirmOcr"),r.parentNode.insertBefore(o,r);g.UserModel.isPremium();e.contextConfirmFiles&&(e.contextConfirmFiles=null),e.contextConfirmFiles=new m.ConfirmFilesProcessContext({tool:e.limits.getTool(),limits:e.limits,triggerReason:i}),e.contextConfirmFiles.render(o),e.contextConfirmFiles.addEventListener("end",function(n){if(n.detail)return e.limitsConfirmShown=!1,t(!1),void o.remove();o.style.display="none",r.style.display="flex",g.UserModel.isRealPremium()?(e.files.resetLimitedFiles(),e.limits.sendEventLimitsChanged()):e.files.removeLimitedFiles(),t(!0)})}else t(!0)}else t(!0)})},this.stopGoDownload=!1,this.stopGoProblem=!1,this.taskId=null,this.tool=null,this.subtool=null,this.realTool=null,this.files=null,this.limits=null,this.ignoredFiles=[],this.filesUploaded={},this.options=null,this.optionFiles=[],this.workerServer=null,this.downloadUrl="",this.apiVersion="v1",this.appVersion=null,this.exceptions=null,this.userId=null,this.site=null,this.token=null,this.encrypted=!1,this.encryptKey=null,this.processStarted=!1,this.uploadInterval=null,this.processCheckCount=3,this.processWait=!1,this.outToPage=!1,this.hideProblemForm=!1,this.processForceEnd=!1,this.params=null,this.status="ok",this.toolEvent=null,this.askedPassword=!1,this.afterFilesLoaded=null,this.processCount=0,Object.assign(this,t),null!=this.tool&&(this.toolEvent=this.tool==this.subtool?this.tool:this.tool.replace("image",this.subtool)),this.stopGoDownload="dev"==v.Settings.env()&&this.stopGoDownload,this.stopGoProblem="dev"==v.Settings.env()&&this.stopGoProblem,this.initApi()}return e.prototype.initApi=function(){this.api=new f.Api({tool:this.tool,taskId:this.taskId,workerServer:this.workerServer,downloadUrl:this.downloadUrl,token:this.token,encrypted:this.encrypted,encryptKey:this.encryptKey})},e.prototype.setOptions=function(t){Object.assign(this.options,t)},e.prototype.setUploadedFiles=function(){this.filesUploaded=this.files.getUploadedFiles()},e.prototype.process=function(){return a(this,void 0,void 0,function(){var e,n,i;return s(this,function(r){switch(r.label){case 0:return this.showProcess(),1==(e=this).processForceEnd?[2]:[4,this.beforeExecute()];case 1:if(0==r.sent())return[2];if(1==this.files.checkFilesUploaded())this.showProcess(),n={},t.each(this.files.files,function(t,e){var i=/(?:\.([^.]+))?$/.exec(e.name)[1];void 0==n[i]?n[i]=1:n[i]=n[i]+1}),i=0,"",t.each(n,function(t,e){var n=Math.max(i,e);e>i&&(i=n,t)}),this.execute().then(function(t){e.processExecute=!1,e.actionProcess(t)},function(t){-100!=t.status&&(e.processExecute=!1,500==t.status?e.actionProcessError(t,"500 in process"):504==t.status?e.actionProcessError(t,"504 in process"):400==t.status&&t.error&&t.error.param&&t.error.param[0]&&t.error.param[0].error&&"WrongPassword"==t.error.param[0].error?e.askForPassword(t.error.param).then(function(){e.showProcess(),e.setUploadedFiles(),e.processCount=0,e.process()},function(t){e.options.ignore_errors=!0,e.showProcess(),e.setUploadedFiles(),e.processCount=0,e.process()}):400==t.status&&t.error&&t.error.param&&t.error.param.task&&t.error.param.task[0]&&1==t.error.param.task[0].includes("complete status")?(l.captureMessage("Process error repaired "+e.subtool+e.processCount),window.clearTimeout(e.checkTimeout),e.checkTimeout=window.setTimeout(function(){e.checkTaskProcess()},1e3)):400==t.status?e.actionProcessError(t,{params:e.options}):(window.clearTimeout(e.checkTimeout),e.checkTimeout=window.setTimeout(function(){e.checkTaskProcess()},1e3)))});else{if(1==this.processStarted)return 0==e.checkFatalError()&&window.setTimeout(function(){e.process()},1e3),[2];this.showUpload(),this.processStarted=!0}return[2]}})})},e.prototype.checkTaskProcess=function(){var t=this;this.processCheckCount--,this.api.getTask().then(function(e){"TaskWaiting"==e.status?(t.setUploadedFiles(),t.process()):"TaskProcessing"==e.status?(window.clearTimeout(t.checkTimeout),t.checkTimeout=window.setTimeout(function(){t.checkTaskProcess()},1e3)):"TaskSuccess"==e.status||"TaskSuccessWithWarnings"==e.status?t.actionProcess(e):t.actionProcessError(e,{info:"in check task",params:t.options})},function(e){t.processCheckCount<0?t.actionProcessError(e,{info:"in check task error",params:t.options}):(window.clearTimeout(t.checkTimeout),t.checkTimeout=window.setTimeout(function(){t.checkTaskProcess()},1e3))})},e.prototype.actionProcess=function(t){var e={filesize:t.filesize,server:this.workerServer,status_message:t.status_message,status:t.status,timer:t.timer,tool:this.tool,output_filenumber:t.output_filenumber,output_filesize:t.output_filesize,output_extensions:t.output_extensions,toolUrl:function(t,e){var n=t.split("?");if(n.length>=2){for(var i=encodeURIComponent(e)+"=",r=n[1].split(/[&;]/g),o=r.length;o-- >0;)-1!==r[o].lastIndexOf(i,0)&&r.splice(o,1);return n[0]+(r.length>0?"?"+r.join("&"):"")}return t}(window.location.href,"from"),download_filename:t.download_filename,process_start:(new Date).toUTCString()};1==this.hideProblemForm&&(e.hideProblemForm=!0),"warnings"in t&&(e.warnings=t.warnings),!0!==this.stopGoDownload&&Cookies.set(this.taskId,e,{expires:1/480}),this.goDownload(t)},e.prototype.actionProcessError=function(t,e){void 0===e&&(e=null);var n=this,i={error:t,server:n.api.getSubdomain(n.workerServer),taskId:n.taskId,tool:n.tool,subtool:n.subtool,toolUrl:window.location.href.split("?")[0]};if(!0!==this.stopGoProblem&&Cookies.set("error",i,{expires:1/480}),t&&t.error&&t.error.param&&t.error.param[0]&&t.error.param[0].error&&("NoText"==t.error.param[0].error||"NoImages"==t.error.param[0].error||"noTablesToExtract"==t.error.param[0].error)||(l.configureScope(function(i){i.setExtra("processError",t),i.setExtra("params",n.options),i.setExtra("extra",e)}),l.captureMessage("Process error "+n.subtool)),t.error){if(t.error.param&&t.error.param[0]&&t.error.param[0].error)return void n.goProblem(t.error.param[0].error);if(t.error.type)return void n.goProblem(t.error.type)}n.goProblem("ServerError")},e.prototype.execute=function(){var t=this,e=this;if(!0===this.processExecute)return new Promise(function(t,e){e({status:-100})});if(this.processExecute=!0,e.showProcess(),e.setUploadedFiles(),null!=this.afterFilesLoaded&&(this.options=this.afterFilesLoaded(this.files,this.options)),e.params=h.FormDataHelper.jsonToFormData(this.options),e.params.append("task",this.taskId),e.params.append("tool",this.tool),!e.options.packaged_filename){var n=this.tool.replace("image","")+"ed";"croped"==n&&(n="crop"),"resizeed"==n&&(n="resized"),"splited"==n&&(n="split"),e.params.append("packaged_filename",this.site+"-"+c.Lang.t(n))}var i=g.UserModel.get();i&&(e.params.append("custom_int",i.id),e.params.append("custom_string",i.loginkey));var r=0;for(var o in e.filesUploaded)e.isIgnored(o)||(e.params.append("files["+r+"][server_filename]",this.filesUploaded[o].server_filename),e.params.append("files["+r+"][filename]",this.filesUploaded[o].filename),e.filesUploaded[o].rotate&&e.params.append("files["+r+"][rotate]",this.filesUploaded[o].rotate),e.filesUploaded[o].password&&e.params.append("files["+r+"][password]",this.filesUploaded[o].password),e.filesUploaded[o].pages&&e.params.append("files["+r+"][pages]",this.filesUploaded[o].pages),r++);return this.processCount++,0==e.filesUploaded.length?(l.configureScope(function(n){n.setExtra("files",e.filesUploaded),n.setExtra("tool",e.subtool),n.setExtra("count",t.processCount)}),l.captureMessage("Process without files"),new Promise(function(t,e){e({status:400,error:{type:"DamagedFile"}})})):(this.processCount,this.api.process(e.params))},e.prototype.showProcess=function(){"error"!=this.status&&(t("body").addClass("process-run"),t(".uploading").hide(),t(".process").css("display","flex").show(),setTimeout(function(){t("#waitnotify").html(c.Lang.t("waitnotify")),t("#waitnotify").show()},1e4))},e.prototype.showUpload=function(){if(1!=this.processStarted){if("error"==this.status)return this.stop(),!0;var e=this;t("body").addClass("process-run"),t(".process").hide(),t(".uploading").css("display","flex").hide().fadeIn();var n=c.Lang.t("Uploading...");!0!==this.uploadShowStarted&&(t(".uploading__status__title.drive").hide(),t(".uploading__status__title.dropbox").hide(),t(".uploading__status__title.user").hide(),t(".uploading__bar").hide(),t(".uploading__status__percent").hide(),this.uploadShowStarted=!0),e.uploadInterval=setInterval(function(){var i=0,r=0,o=0,a=0,s=0,l=0,d=0,p=0,f=0,h=!0;if("error"==e.status&&e.stop(),e.checkFatalError(),t.each(e.files.files,function(e,c){!(c.percent<100)&&"server_filename"in c||!0===c.error||(h=!1,"drive"==c.service&&!1,"dropbox"==c.service?!1:!1),100==c.percent&&r++,l++,"drive"==c.service?(p++,100==c.percent&&a++):"dropbox"==c.service?(f++,100==c.percent&&s++):(d++,100==c.percent?o++:c.percent>0&&c.percent<100&&"html5"==c.runtime?(n=c.name+" ("+u.Tools.bytesToSize(c.size)+")",t("#upload_"+c.id).addClass("uploading__files__item--active")):t("#upload_"+c.id).removeClass("uploading__files__item--active"),c.loaded,c.size,i+=c.percent)}),t(".uploading__status__percent__value").html(parseInt((i/d).toString())+"%"),t(".uploading__bar__completed").css("width",i/d+"%"),t(".uploading__status__file").html(n),t(".uploading__status__total").html(d.toString()),d>0?(t(".uploading__status__title.user").show(),t(".uploading__bar").show(),t(".uploading__bar--small").hide(),t(".uploading__status__percent").show()):(t(".uploading__status__file").hide(),t(".uploading__status__info").hide()),p>0&&t(".uploading__status__title.drive").show(),f>0&&t(".uploading__status__title.dropbox").show(),o==d&&(t(".uploading__status__file").html(c.Lang.t("uploadComplete")),t(".uploading__bar").hide(),t(".uploading__status__percent").hide()),a==p&&p>0&&t(".uploading__status__title.drive").addClass("done").html("<strong>Google Drive:</strong> "+c.Lang.t("uploadComplete")),s==f&&p>0&&t(".uploading__status__title.dropbox").addClass("done").html("<strong>Dropbox:</strong> "+c.Lang.t("uploadComplete")),t(".uploading__status__title").removeClass("last"),t(".uploading__status__title:visible:last").addClass("last"),r==l&&h&&"error"!=e.status)clearInterval(e.uploadInterval),window.setTimeout(function(){e.process()},200);else{var v=Math.min(o+1,d);t(".uploading__status__current").html(v.toString())}},100)}},e.prototype.goDownload=function(t){1!=this.stopGoDownload&&(window.location.href=this.downloadUrl+"/"+this.taskId+"/"+this.getWorkerNumber())},e.prototype.getWorkerNumber=function(){return this.workerServer.split(".")[0].replace(/^\D+/g,"")},e.prototype.goProblem=function(t){void 0===t&&(t=null);var e="/problem/"+this.tool+"/"+this.taskId+"/"+this.getWorkerNumber();"en-US"!=window.lang&&(e="/"+window.lang+e),null!==t&&("string"==typeof t?e=e+"/"+t:t.error&&"string"==typeof t.error?e=e+"/"+t.error:e+="/ServerError"),1!=this.stopGoProblem&&(window.location.href=e)},e.prototype.askForPassword=function(e){var n=this,i=[];return t.each(e,function(t,e){"WrongPassword"==e.error&&i.push(n.files.getFileByServerFilename(e.server_filename))}),new Promise(function(e,r){t("#process").hide(),0==t("#passwordAsk").length&&(t(d.OptionsTemplate.askPassword()).insertAfter(t("#process")),n.files.files.length>1?t("#ignorePwdFiles").show():t("#ignorePwdFiles").hide(),"unlock"==n.tool&&t("#useUnlock").hide(),t(".passwords").append(t(d.OptionsTemplate.askPasswordField({id:"all",server_filename:""}))),t("#pwd-all").hide(),t("#allPwd").on("change",function(){1==t("#allPwd").is(":checked")?(t(".password").hide(),t("#pwd-all").show()):(t(".password").show(),t("#pwd-all").hide())})),t("#pwdSend").unbind("click").on("click",function(){var i=null;1==t("#allPwd").is(":checked")&&(i=t("#pwd-all input").val());var r=!0;t.each(n.files.files,function(e,o){var a=null==i?t("#pwd-"+o.id+" input").val():i;if(""==a)return r=!1,t("#pwd-"+o.id+" input").focus(),window.Toastr.error(c.Lang.t("passwordRequiredFor",{filename:o.name}),c.Lang.t("paswordRequired"),{timeOut:5e3,positionClass:"toast-top-left"}),!1;n.files.updateFile(o.id,{password:a})}),!0===r&&(t("#passwordAsk").hide(),e())}),t("#pwdCancel").unbind("click").on("click",function(){t.each(i,function(e,i){n.files.removeFile(i.id),t("#pwd-"+i.id).remove()}),t("#passwordAsk").hide(),r()}),t("#pwdIgnore").unbind("click").on("click",function(){t("#passwordAsk").hide(),r()}),t("#passwordAsk .passwordInput").hide(),t(".password").hide(),t.each(i,function(e,n){0==t("#pwd-"+n.id).length&&(t(".passwords").append(t(d.OptionsTemplate.askPasswordField({id:n.id,server_filename:n.name}))),t("#pwd-"+n.id+" .showPassword").on("click",function(e){e.preventDefault(),t(".password input").attr("type","text"==t(".password input").attr("type")?"password":"text")})),t("#pwd-"+n.id).show()}),i.length<2&&t("#allPwd").parent().parent().hide(),t("#passwordAsk").show(),setTimeout(function(){t("#passwordAsk input:visible:first").focus()},1e3),0==n.askedPassword&&(n.askedPassword=!0,window.ga("send","event","password","ask",n.subtool))})},e.prototype.fatalError=function(t,e,n){void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n=null),"ConnectionError"!=t&&p.IloveError.fatalError(t,this.tool,this.workerServer,e,n)},e.prototype.removeFile=function(t){var e=this.files.getFile(t);if(null==e)return new Promise(function(t,e){t()});var n=e.server_filename,i=e.status;return this.files.removeFile(e.id),5!=i?new Promise(function(t,e){t()}):this.api.removeFile(n)},e.prototype.addIgnoredFile=function(t){this.ignoredFiles.push(t)},e.prototype.getIgnoredFiles=function(){return this.ignoredFiles},e.prototype.isIgnored=function(t){return-1!=this.ignoredFiles.indexOf(t)},e.prototype.deleteIgnored=function(t){var e=this.ignoredFiles.indexOf(t);-1!==e&&this.ignoredFiles.splice(e,1)},e.prototype.stop=function(){clearInterval(this.uploadInterval)},e.prototype.checkFatalError=function(){if("error"==this.status)return this.stop(),!0;var e=this;if(0==this.files.files.length)return this.fatalError({error:"NoFiles"}),this.status="error",this.stop(),!0;try{t.each(e.files.files,function(t,n){if("errorData"in n)throw e.fatalError(n.errorData,n.name,"error data on task"),n.errorData})}catch(t){return e.status="error",e.stop(),!0}if(1==e.files.files.length&&!0===e.files.files[0].error)return e.status="error",e.fatalError(e.files.files[0].errorData,e.files.files[0].name,"error field on task"),e.stop(),!0;try{t.each(e.files.files,function(t,n){if("FileRemoved"==n.errorData)throw e.fatalError(n.errorData,n.name,"file removed on task"),n.errorData})}catch(t){return e.stop(),e.status="error",!0}if("merge"==this.tool)try{t.each(e.files.files,function(t,n){if("errorData"in n)throw e.fatalError(n.errorData,n.name,"error data on task, merge tool"),n.errorData})}catch(t){return e.status="error",e.stop(),!0}return!1},e}();e.Process=y}).call(this,n(1))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Cache=void 0;var i=function(){function t(){this._cache={}}return t.prototype.existsEntry=function(t){return"template_"+t in this._cache},t.prototype.setEntry=function(t,e){return this._cache[t]=e,e},t.prototype.getEntry=function(t){return this._cache[t]},t.prototype.clearEntry=function(t){delete this._cache[t]},t}();e.Cache=i},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.AuthState=void 0;var o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="AuthState",e.LAYOUT_TEMPLATE_NAME="new-premium",e.onDomReady=function(){e.initAbstractAuth(),e.ctx.tool&&(e.extraLoginParams={tool:e.ctx.tool}),e.changeScreen(e.INITIAL_SCREEN),e.clearLoadingScreen()},e._onLoginSuccess=function(){e.executeAfterLoginOrRegisterSuccess()},e._onRegisterSuccess=function(){e.executeAfterLoginOrRegisterSuccess()},e.executeAfterLoginOrRegisterSuccess=function(){var t=e.ctx._getInitialState();e.ctx.changeState(t),t.render(e.domRoot)},e}return r(e,t),e}(n(87).AbstractAuthState);e.AuthState=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CannotTrialState=void 0;var o=n(115),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="CannotTrialState",e.LAYOUT_TEMPLATE_NAME="new-premium",e.INITIAL_SCREEN="default",e.onDomReady=function(){e.changeScreen(e.INITIAL_SCREEN),e.initAbstractPayment({paymentAction:"become_premium",paymentInterval:{type:"gui",gui:"boxes"},currentPaymentMethod:e.ctx.userCurrentPaymentMethod,paymentProviderProps:[{name:"stripe",paymentButtonText:e.t("paymentButtonText")},{name:"paypal"}]}).then(e._onAbstractPaymentInited)},e._onPaymentSuccess=function(t){var n="dialog"===e.ctx.getContextPlacement()?"popup":"auth";window.ga("send","event","user","premium",n);var i=new o.SubscriptionSuccessState;e.ctx.changeState(i),i.render(e.domRoot)},e._onPaymentFailed=function(t){},e._onAbstractPaymentInited=function(){setTimeout(e.clearLoadingScreen,150)},e}return r(e,t),e}(n(65).AbstractPaymentState);e.CannotTrialState=a},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.SubscriptionSuccessState=void 0;var o=n(7),a=n(8),s=n(15),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="SubscriptionSuccessState",e.LAYOUT_TEMPLATE_NAME="new-premium",e.INITIAL_SCREEN="default",e.onDomReady=function(){e.ctx.setEndState(),e.changeScreen(e.INITIAL_SCREEN),e.init(),e.hideHeaderAndFooter(),e.clearLoadingScreen()},e._onDoneButtonClick=function(){e.dispatchEvent(new o.IloveEvent("end"))},e}return r(e,t),e.prototype.init=function(){this.actionBtn.addEventListener("click",this._onDoneButtonClick);var t=this.dialogSubtitle;t.innerHTML=t.innerHTML.replace("${email}","<b>${email}</b>"),t.innerHTML=a.Lang.tr(t.innerHTML,{email:this.authenticatedUserEmail})},e.prototype.hideHeaderAndFooter=function(){var t=this.domRoot.querySelector(".dialog__header");if(!t)throw"Header not found";var e=this.domRoot.querySelector(".dialog__footer");if(!e)throw"Footer not found";t.style.display="none",e.style.display="none"},Object.defineProperty(e.prototype,"dialogSubtitle",{get:function(){var t=this.domStateRoot.querySelector(".dialog__subtitle");if(!t)throw"Description elem not found";return t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"authenticatedUserEmail",{get:function(){var t=s.UserModel.get();if(!t)throw"Authenticated user not found!";return t.email},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"actionBtn",{get:function(){var t=this.domStateRoot.querySelector(".dialog__action [next-from-payment-completed]");if(!t)throw"'Done' button not found";return t},enumerable:!1,configurable:!0}),e}(n(18).StateBase);e.SubscriptionSuccessState=c},function(t,e,n){"use strict";(function(t){var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},a=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((i=i.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},c=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.StripeService=void 0;var l,u=o(n(26)),d=n(41),p=n(117),f=n(25),h=n(7),v=c(n(118));!function(t){t.CONFIRM_3DSECURE_PAYMENT="/stripe/confirm-payment",t.EXECUTE_PAYMENT="/stripe/execute",t.BUY_PACKAGE="/stripe/buy",t.UPDATE_CARD="/stripe/update-card"}(l||(l={}));var g=function(){function e(t){var e=this;void 0===t&&(t={}),this.eventEmitter=new f.ILoveEventEmitter,this.view=new p.StripeView(this,{onActionButtonClicked:function(){e.dispatchEvent(new h.IloveEvent("View:ActionButtonClicked"))}})}return e.prototype.updateCard=function(e){return a(this,void 0,void 0,function(){var n,i,r,o,a,c,u,d;return s(this,function(s){switch(s.label){case 0:return[4,this.getPaymentCardToken(e)];case 1:return n=s.sent(),i=n.id,r=t.post(l.UPDATE_CARD,{token:i}).promise(),c=(a=JSON).parse,[4,r.promise()];case 2:return o=c.apply(a,[s.sent()]),u={type:"update",notifyParams:{token:i}},this.needs3DSecure(o)?[4,this._resolve3DSecure(o,u)]:[3,4];case 3:return d=s.sent(),[3,5];case 4:d=o,s.label=5;case 5:return[2,d]}})})},e.prototype.setPaymentVia=function(t){this._paymentVia=t},e.prototype.paySubscription=function(e){return a(this,void 0,void 0,function(){var n,i,r,o,a,c,u,d;return s(this,function(s){switch(s.label){case 0:return n={interval:e.subscriptionInterval,users:e.numUsers,signatures:e.numDigitalSignatures,token:void 0,dtr:e.disableTrial,verifyCode:""},this.captcha||(this.captcha=new v.default(document.body)),[4,this.captcha.execute()];case 1:return i=s.sent(),n.verifyCode=i,[4,this._setupPaymentVia(n,e.paymentVia)];case 2:return s.sent(),r=t.post(l.EXECUTE_PAYMENT,n),c=(a=JSON).parse,[4,r.promise()];case 3:return o=c.apply(a,[s.sent()]),u={type:"subscription",notifyParams:n},this.needs3DSecure(o)?[4,this._resolve3DSecure(o,u)]:[3,5];case 4:return d=s.sent(),[3,6];case 5:d=o,s.label=6;case 6:return[2,d]}})})},e.prototype.payPackage=function(e){return a(this,void 0,void 0,function(){var n,i,r,o,a,c,u,d;return s(this,function(s){switch(s.label){case 0:return n={package:e.packageName,quantity:e.quantity,token:void 0,dtr:e.disableTrial,verifyCode:""},this.captcha||(this.captcha=new v.default(document.body)),[4,this.captcha.execute()];case 1:return i=s.sent(),n.verifyCode=i,[4,this._setupPaymentVia(n,e.paymentVia)];case 2:return s.sent(),r=t.post(l.BUY_PACKAGE,n),c=(a=JSON).parse,[4,r.promise()];case 3:return o=c.apply(a,[s.sent()]),u={type:"package",notifyParams:n},this.needs3DSecure(o)?[4,this._resolve3DSecure(o,u)]:[3,5];case 4:return d=s.sent(),[3,6];case 5:d=o,s.label=6;case 6:return[2,d]}})})},e.prototype._setupPaymentVia=function(t,e){return a(this,void 0,void 0,function(){var n,i;return s(this,function(r){switch(r.label){case 0:switch(i=e.type,e.type){case"stripeElement":return[3,1];case"stripeElementUpdateCard":return[3,3];case"paymentMethod":return[3,5]}return[3,6];case 1:return[4,this.getPaymentCardToken(e.cardElement)];case 2:return n=r.sent(),t.token=n.id,[3,7];case 3:return[4,this.getPaymentCardToken(e.cardElement)];case 4:return n=r.sent(),t.token=n.id,t.updatecard=!0,[3,7];case 5:return e.info,[3,7];case 6:throw"Unknown paymentVia type '"+i+"'";case 7:return[2]}})})},e.prototype._resolve3DSecure=function(t,e){return a(this,void 0,void 0,function(){var n,i,r;return s(this,function(o){switch(o.label){case 0:return this.needs3DSecure(t)?(n=this.extractIntentInfo(t),[4,this.show3DSecureScreenToUser(n)]):[2,t];case 1:switch(i=o.sent(),n.intentType){case"setup_intent":return[3,2];case"payment_intent":return[3,3]}return[3,5];case 2:return[2,t];case 3:return r=i.paymentIntent.id,[4,this.confirmPayment3DSecure(r,e)];case 4:return[2,t=o.sent()];case 5:throw"Unknown intent type "+n.intentType}})})},e.prototype.needs3DSecure=function(t){return!(!t||!t.user)&&("payment_intent"in t.user||"setup_intent"in t.user)},e.prototype.extractIntentInfo=function(t){var e;if(t.user.payment_intent)e="payment_intent";else{if(!t.user.setup_intent)throw"Unknown IntentType";e="setup_intent"}return{intentType:e,intentSecret:"payment_intent"===e?t.user.payment_intent:t.user.setup_intent}},e.prototype.confirmPayment3DSecure=function(e,n){return a(this,void 0,void 0,function(){var i,r,o,a;return s(this,function(s){switch(s.label){case 0:return i=Object.assign({},{payment_intent_id:e},n,n.notifyParams),r=t.post(l.CONFIRM_3DSECURE_PAYMENT,i),a=(o=JSON).parse,[4,r.promise()];case 1:return[2,a.apply(o,[s.sent()])]}})})},e.prototype.show3DSecureScreenToUser=function(t){return a(this,void 0,void 0,function(){var e,n;return s(this,function(i){switch(i.label){case 0:return[4,this.stripe];case 1:switch(e=i.sent(),t.intentType){case"setup_intent":return[3,2];case"payment_intent":return[3,4]}return[3,6];case 2:return[4,e.confirmCardSetup(t.intentSecret)];case 3:return n=i.sent(),[3,7];case 4:return[4,e.confirmCardPayment(t.intentSecret)];case 5:return n=i.sent(),[3,7];case 6:throw"Unknown secretType "+t.intentType;case 7:if(!("error"in n&&n.error))return[2,n];throw n}})})},e.prototype.getPaymentCardToken=function(t){return a(this,void 0,void 0,function(){var e,n;return s(this,function(i){switch(i.label){case 0:return[4,this.stripe];case 1:e=i.sent(),i.label=2;case 2:return i.trys.push([2,4,,5]),[4,e.createToken(t)];case 3:return n=i.sent(),[3,5];case 4:throw i.sent();case 5:if(n.error)throw this.view.notifyCardErrorMsg(n.error.message),n;return[2,n.token]}})})},Object.defineProperty(e.prototype,"stripe",{get:function(){var t=this;return this._stripe?Promise.resolve(this._stripe):new Promise(function(e,n){t.createStripeInstance().then(function(n){t._stripe=n,e(t._stripe)})})},enumerable:!1,configurable:!0}),e.prototype.loadStripeLibrary=function(){return a(this,void 0,void 0,function(){var t=this;return s(this,function(n){switch(n.label){case 0:return this.isStripeLibLoaded?(this.captcha||(this.captcha=new v.default(document.body)),[2,window.Stripe]):[4,new Promise(function(n,i){u.lazyload(e.stripeLibSrc);var r=window.setInterval(function(){t.isStripeLibLoaded&&(clearInterval(r),t.captcha=new v.default(document.body),n(window.Stripe))},100)})];case 1:return[2,n.sent()]}})})},e.prototype.createStripeInstance=function(){return a(this,void 0,void 0,function(){var t,n,i=this;return s(this,function(r){switch(r.label){case 0:return[4,this.loadStripeLibrary()];case 1:return t=r.sent(),n=t(e.stripeKey,{locale:window.lang}),this.isStripeInstanceReady(n)?[2,n]:[4,new Promise(function(t,e){var r=window.setInterval(function(){i.isStripeInstanceReady(n)&&(window.clearInterval(r),t(n))},100)})];case 2:return[2,r.sent()]}})})},e.prototype.isStripeInstanceReady=function(t){return"object"==typeof t},Object.defineProperty(e.prototype,"isStripeLibLoaded",{get:function(){return null!==window.Stripe&&"function"==typeof window.Stripe},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"paymentVia",{get:function(){return this._paymentVia},enumerable:!1,configurable:!0}),e.prototype.dispatchEvent=function(t){return this.eventEmitter.dispatchEvent(t)},e.prototype.addEventListener=function(t,e){return this.eventEmitter.addEventListener(t,e)},e.stripeKey=d.Settings.get("stripe_key"),e.stripeLibSrc="https://js.stripe.com/v3/",e}();e.StripeService=g}).call(this,n(1))},function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((i=i.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.StripeView=void 0;var o=n(61),a=n(8),s=function(){function t(t,e){var n=this;this._onKeepPaymentMethodBtnClicked=function(t,e){if("stripe"!==e.provider)throw"Payment method is not from provider Stripe";var i=n.currentPaymentMethodView,r=n.newPaymentMethodView;n.stripeService.setPaymentVia({type:"paymentMethod",info:e}),n.payButton.disabled=!1,i.style.display="",r.style.display="none"},this._onChangePaymentMethodBtnClicked=function(t,e){var i=n.currentPaymentMethodView,r=n.newPaymentMethodView;n.stripeService.setPaymentVia({type:"stripeElementUpdateCard",cardElement:e}),n.payButton.disabled=!1,i.style.display="none",r.style.display=""},this._onPayButtonClicked=function(){n.callback_onActionButtonClicked()},this._onStripeNewCardChange=function(t){t.error?(n.notifyCardErrorMsg(t.error.message),n.payButton.disabled=!1):(n.clearCardErrorMsg(),n.payButton.disabled=!1)},this.stripeService=t,this.callback_onActionButtonClicked=e.onActionButtonClicked}return t.prototype.getTranslationText=function(t){var e,n=this.view.querySelector(".stripe__text-translations");if(!n)throw"Stripe text translations not found";if(!(t in(e=JSON.parse(n.textContent))))throw"Stripe translation for key "+t+" not found";return e[t]},t.prototype.disableActionButton=function(){this.view&&(this.payButton.disabled=!1)},t.prototype.enableActionButton=function(){this.view&&(this.payButton.disabled=!1)},t.prototype.mount=function(e,n){var a;return i(this,void 0,void 0,function(){var i,s,c,l,u,d,p;return r(this,function(r){switch(r.label){case 0:return this.view?[2,this.view]:[4,o.AjaxTemplate.load(t.TEMPLATE_NAME)];case 1:if(i=r.sent(),(s=document.createElement("div")).innerHTML=i,this.view=s,e.appendChild(this.view),!(c=this.view.querySelector(t.cardMountPointSelector)))throw"Mount point for Stripe card not found";return l=this.currentPaymentMethodView,u=this.newPaymentMethodView,d=this,[4,this.mountCardOn(c)];case 2:return d.card=r.sent(),(p="currentPaymentMethod"in n&&"stripe"===(null===(a=null===n||void 0===n?void 0:n.currentPaymentMethod)||void 0===a?void 0:a.provider)&&n.currentPaymentMethod.last_card)?u.style.display="none":l.style.display="none",p?(this.setupViewCurrentPaymentMethod(n.currentPaymentMethod,this.card),this.payButton.disabled=!1,this.stripeService.setPaymentVia({type:"paymentMethod",info:n.currentPaymentMethod})):this.stripeService.setPaymentVia({type:"stripeElement",cardElement:this.card}),this.payButton.innerHTML=n.paymentButtonText,this.payButton.addEventListener("click",this._onPayButtonClicked),[2,this.view]}})})},t.prototype.setupViewCurrentPaymentMethod=function(t,e){var n=this;if("stripe"!==t.provider)throw"Payment method is not from provider Stripe";var i=this.currentPaymentMethodView,r=this.newPaymentMethodView,o=i.querySelector(".payment__card-details__text");if(!o)throw"Stripe - Card Details text not found";var s=o.querySelector(".payment__card-details__text__brand"),c=o.querySelector(".payment__card-details__text__expires"),l=s.innerHTML.replace("${cardBrand}","<span class='payment__card-brand'>${cardBrand}</span>");s.innerHTML=a.Lang.tr(l,{cardBrand:t.brand_card?t.brand_card:"",cardLast4Digits:t.last_card}),c.innerHTML=a.Lang.tr(c.innerHTML,{expMonthCard:t.exp_month_card,expYearCard:t.exp_year_card});var u=i.querySelector(".payment__card-details__change-btn");if(!u)throw"Change button for Stripe - CurrentPaymentMethod view not found";u.addEventListener("click",function(t){n._onChangePaymentMethodBtnClicked(t,e)});var d=r.querySelector(".payment__card-details__keep-card-btn");if(d.style.display="",!d)throw"'Keep payment method' button for Stripe not found";d.innerHTML=a.Lang.tr(d.innerHTML,{cardBrand:t.brand_card?t.brand_card:"",cardLast4Digits:t.last_card}),d.addEventListener("click",function(e){n._onKeepPaymentMethodBtnClicked(e,t)})},Object.defineProperty(t.prototype,"currentPaymentMethodView",{get:function(){var t=this.view.querySelector(".payment__stripe-view__current-payment-method-view");if(!t)throw"Stripe - Current Payment Method view not found";return t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newPaymentMethodView",{get:function(){var t=this.view.querySelector(".payment__stripe-view__new-payment-method-view");if(!t)throw"Stripe - New Payment Method view not found";return t},enumerable:!1,configurable:!0}),t.prototype.mountCardOn=function(t){return i(this,void 0,void 0,function(){var e,n,i;return r(this,function(r){switch(r.label){case 0:return[4,this.stripeService.stripe];case 1:return e=r.sent().elements(),n={base:{color:"#32325d",lineHeight:"24px",fontFamily:'"Helvetica Neue", Helvetica, sans-serif',fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#aab7c4"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}},(i=e.create("card",{style:n,hidePostalCode:!0})).mount(t),i.addEventListener("change",this._onStripeNewCardChange),[2,i]}})})},t.prototype.notifyCardErrorMsg=function(t){this.cardErrorMsgDom.forEach(function(e){e.classList.remove("payment__card-error--hidden"),e.textContent=t})},t.prototype.clearCardErrorMsg=function(){this.cardErrorMsgDom.forEach(function(t){t.classList.add("payment__card-error--hidden"),t.innerHTML="&nbsp;"})},Object.defineProperty(t.prototype,"payButton",{get:function(){var t=this.view.querySelector(".payment__pay-btn");if(!t)throw"Submit button not found";return t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cardErrorMsgDom",{get:function(){var t=Array.from(this.view.querySelectorAll(".payment__card-error"));if(0===t.length)throw"Card Error Msg DOM not found";return t},enumerable:!1,configurable:!0}),t.TEMPLATE_NAME="stripe",t.cardMountPointSelector=".payment__stripe-view__card-binding",t}();e.StripeView=s},function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e};Object.defineProperty(e,"__esModule",{value:!0});var a=o(n(26)),s=n(15),c=n(17),l="6LfLe9sbAAAAAO7MEsSovv3Na0tNlRReITiueEu8",u=function(){function t(t,e){var n=this;void 0===e&&(e=null),this.onCaptchaValue=function(t){n.value=t,n.onCaptchaExecuted&&n.onCaptchaExecuted(n.value)},0!=this.captchaNeeded()&&(e&&(this.onCaptchaExecuted=e),this.elementRoot=t,this.appendToElement(),this.loadCaptchaJs())}return t.prototype.loadCaptchaJs=function(){var t=this,e=this;return new Promise(function(n,i){if(window.grecaptcha)return t.grecaptcha=window.grecaptcha,n();a.lazyload("https://www.google.com/recaptcha/api.js?render="+l),t.captchaLoadInterval=window.setInterval(function(){null!==window.grecaptcha&&"object"==typeof window.grecaptcha&&(window.grecaptcha.ready(function(){return t.grecaptcha=window.grecaptcha,n()}),clearInterval(e.captchaLoadInterval))},100)})},t.prototype.appendToElement=function(){if(!document.getElementById("recaptcha")){var t=document.createElement("div");t.setAttribute("id","recaptcha"),t.setAttribute("class","g-recaptcha"),t.setAttribute("data-sitekey",l),t.setAttribute("data-callback","onCaptchaValue"),t.setAttribute("data-size","invisible"),this.elementRoot.appendChild(t),window.onCaptchaValue=this.onCaptchaValue}},t.prototype._execute=function(t){return void 0===t&&(t=null),self.grecaptcha.execute()},t.prototype.execute=function(t){var e=this;return void 0===t&&(t=null),0==this.captchaNeeded()?(this.value=c.Tools.randomId(),Promise.resolve(this.value)):(t&&(this.onCaptchaExecuted=t),new Promise(function(t,n){e.captchaInterval=window.setInterval(function(){e.grecaptcha&&(clearInterval(e.captchaInterval),e._execute().then(function(e){t(e)}))},100)}))},t.prototype.captchaNeeded=function(){var t=s.UserModel.get();return t&&1==t.sus_rbt},t}();e.default=u},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((i=i.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.PaypalService=void 0;var l,u=a(n(26)),d=a(n(79)),p=n(41),f=n(25),h=n(7),v=n(61),g=n(88),m=a(n(16));!function(t){t.CREATE_PAYMENT_SUBSC="/paypal/create",t.EXECUTE_PAYMENT_SUBSC="/paypal/execute",t.CREATE_PAYMENT_PKG="/paypal/createbuy",t.EXECUTE_PAYMENT_PKG="/paypal/executebuy"}(l||(l={}));var y=function(){function t(t){var e=this;if(void 0===t&&(t={}),this._onPaymentInit_package=function(){e._onPaypalButtonClicked();var t=e,n=e.packageParams;return window.paypal.request.post(l.CREATE_PAYMENT_PKG,{package:n.packageName(),quantity:n.quantity(),dtr:n.disableTrial()}).then(function(e){return t.dispatchEvent(new h.IloveEvent("onPaymentInited",{action:"payPackage",params:n,response:e})),e},function(e){m.configureScope(function(t){t.setExtra("error",JSON.parse(e))}),m.captureMessage("Paypal: error on create payment package"),t.dispatchEvent(new h.IloveEvent("onPaymentInited_error",{action:"payPackage",params:n,error:JSON.parse(e)}))})},this._onAuthorize_package=function(t){var n=e,i=e.packageParams;return window.paypal.request.post(l.EXECUTE_PAYMENT_PKG,{token:t.paymentToken,payment_id:t.paymentID,payer_id:t.payerID,package:i.packageName(),quantity:i.quantity(),dtr:i.disableTrial()}).then(function(t){n.dispatchEvent(new h.IloveEvent("onPaymentAuthorized",{action:"payPackage",params:i,response:t}))},function(t){m.configureScope(function(e){e.setExtra("error",JSON.parse(t))}),m.captureMessage("Paypal: error on execute payment package"),n.dispatchEvent(new h.IloveEvent("onPaymentAuthorized_error",{action:"payPackage",params:i,error:JSON.parse(t)}))})},this._onPaymentInit_subsc=function(){e._onPaypalButtonClicked();var t=e,n=window.paypal,i=e.subscriptionParams,r=e.removeUndefinedValuesFromObject({interval:i.subscriptionInterval(),users:i.numUsers(),signatures:i.numDigitalSignatures(),dtr:i.disableTrial()});return n.request.post(l.CREATE_PAYMENT_SUBSC,r).then(function(e){return t.dispatchEvent(new h.IloveEvent("onPaymentInited",{action:"paySubscription",params:i,response:e})),e},function(e){m.configureScope(function(t){t.setExtra("error",JSON.parse(e))}),m.captureMessage("Paypal: error on create payment subscription"),t.dispatchEvent(new h.IloveEvent("onPaymentInited_error",{action:"paySubscription",params:i,error:JSON.parse(e)}))})},this._onPaypalButtonClicked=function(){e.clearErrorMsg()},this._onAuthorize_subsc=function(t){var n=e,r=window.paypal,o=e.subscriptionParams,a=e.removeUndefinedValuesFromObject({interval:o.subscriptionInterval(),users:o.numUsers(),signatures:o.numDigitalSignatures(),dtr:o.disableTrial()});return r.request.post(l.EXECUTE_PAYMENT_SUBSC,i({token:t.paymentToken,payment_id:t.paymentID,payer_id:t.payerID},a)).then(function(t){n.dispatchEvent(new h.IloveEvent("onPaymentAuthorized",{action:"paySubscription",params:o,response:t}))},function(t){m.configureScope(function(e){e.setExtra("error",JSON.parse(t))}),m.captureMessage("Paypal: error on execute payment subscription"),n.dispatchEvent(new h.IloveEvent("onPaymentAuthorized_error",{action:"paySubscription",params:o,error:JSON.parse(t)}))})},this._onCancel=function(t){},this.eventEmitter=new f.ILoveEventEmitter,d.isIEIntranet())throw"Is IE Intranet"}return t.prototype.notifyErrorMsg=function(t){this.errorMsgDom.classList.remove("payment__method-error--hidden"),this.errorMsgDom.innerHTML=t},t.prototype.clearErrorMsg=function(){this.errorMsgDom.classList.add("payment__method-error--hidden"),this.errorMsgDom.innerHTML="&nbsp;"},t.prototype.getTranslationText=function(t){var e,n=this.view.querySelector(".paypal__text-translations");if(!n)throw"Paypal text translations not found";if(!(t in(e=JSON.parse(n.textContent))))throw"Paypal translation for key "+t+" not found";return e[t]},Object.defineProperty(t.prototype,"errorMsgDom",{get:function(){var t=this.view.querySelector(".payment__method-error");if(!t)throw"Missing Paypal Error message DOM not found";return t},enumerable:!1,configurable:!0}),t.prototype.mountView=function(e,n){return s(this,void 0,void 0,function(){var i,r,o;return c(this,function(a){switch(a.label){case 0:return this.view?[2,this.view]:[4,v.AjaxTemplate.load(t.TEMPLATE_NAME)];case 1:if(i=a.sent(),(r=document.createElement("div")).innerHTML=i,this.view=r,e.appendChild(this.view),!(o=this.view.querySelector(t.buttonMountPointSelector)))throw"Mount point for Paypal button not found";switch(n.action.actionName){case"PaySubscription":this.mountPaySubscription(o,n.action.actionParams);break;case"PayPackage":this.mountPayPackage(o,n.action.actionParams);break;case"UpdateSubscription":this.mountUpdateSubscription(o,n.action.actionParams);break;default:throw"Unknown Paypal action for Paypal mountPoint func"}return[2,this.view]}})})},t.prototype.mountPayPackage=function(t,e){return s(this,void 0,void 0,function(){var n,i;return c(this,function(r){switch(r.label){case 0:return this.packageParams=e,[4,this.loadPaypalLibrary()];case 1:return r.sent(),n=this._onPaymentInit_package,i=this._onAuthorize_package,this.mountPaypalButton(t,{payment:n,onAuthorize:i}),[2]}})})},t.prototype.mountPaySubscription=function(t,e){return s(this,void 0,void 0,function(){var n,i;return c(this,function(r){switch(r.label){case 0:return this.subscriptionParams=e,[4,this.loadPaypalLibrary()];case 1:return r.sent(),n=this._onPaymentInit_subsc,i=this._onAuthorize_subsc,this.mountPaypalButton(t,{payment:n,onAuthorize:i}),[2]}})})},t.prototype.mountUpdateSubscription=function(t,e){return s(this,void 0,void 0,function(){return c(this,function(n){return[2,this.mountPaySubscription(t,e)]})})},t.prototype.mountPaypalButton=function(t,e){return s(this,void 0,void 0,function(){var n;return c(this,function(i){switch(i.label){case 0:return[4,this.loadPaypalLibrary()];case 1:return n=i.sent(),t.getAttribute("id")||t.setAttribute("id",g.Tools.randomId()),n.Button.render({env:p.Settings.get("paypal_env"),locale:this.assignedLocale,commit:!0,style:{label:"paypal",size:"medium",shape:"rect",color:"blue",tagline:!1},client:{sandbox:p.Settings.get("paypal_sandbox_key"),production:p.Settings.get("paypal_production_key")},payment:e.payment,onAuthorize:e.onAuthorize,onCancel:this._onCancel},"#"+t.getAttribute("id")),[2]}})})},t.prototype.removeUndefinedValuesFromObject=function(t){var e={};for(var n in t){void 0===t[n]||(e[n]=t[n])}return e},t.prototype.loadPaypalLibrary=function(){return s(this,void 0,void 0,function(){var e=this;return c(this,function(n){switch(n.label){case 0:return this.isPaypalLibLoaded?[2,window.paypal]:[4,new Promise(function(n,i){u.lazyload(t.paypalLibSrc);var r=window.setInterval(function(){e.isPaypalLibLoaded&&(clearInterval(r),n(window.paypal))},100)})];case 1:return[2,n.sent()]}})})},Object.defineProperty(t.prototype,"paypal",{get:function(){var t=this;return new Promise(function(e,n){t.loadPaypalLibrary().then(function(t){return e(t)})})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPaypalLibLoaded",{get:function(){return null!==window.paypal&&"object"==typeof window.paypal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"assignedLocale",{get:function(){var t="en_US";switch(window.lang){case"en-US":t="en_US";break;case"es":t="es_ES";break;case"it":t="it_IT";break;case"fr":t="fr_FR";break;case"de":t="de_DE";break;case"pt":t="pt_BR";break;case"zh-cn":t="zh_CN";break;case"id":t="id_ID";break;case"ja":t="ja_JP";break;case"nl":t="nl_NL";break;case"pl":t="pl_PL";break;case"ru":t="ru_RU";break;case"sv":t="sv_SE";break;case"th":t="th_TH";break;case"zh-tw":t="zh_TW"}return t},enumerable:!1,configurable:!0}),t.prototype.dispatchEvent=function(t){return this.eventEmitter.dispatchEvent(t)},t.prototype.addEventListener=function(t,e){return this.eventEmitter.addEventListener(t,e)},t.paypalLibSrc="https://www.paypalobjects.com/api/checkout.js",t.TEMPLATE_NAME="paypal",t.buttonMountPointSelector=".payment__paypal-view__button-binding",t}();e.PaypalService=y},function(t,e,n){"use strict";(function(t){var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.Lang=void 0;var a=o(n(121)),s=function(){function e(){}return e.t=function(e,n){var i="iloveLang";return n&&n.source&&(i=n.source),window[i]&&window[i][e]&&(e=window[i][e]),null!=n&&t.each(n,function(t,n){e=e.replace("${"+t+"}",n)}),e},e.w=function(n,i){void 0===n&&(n="translate"),t("."+n).each(function(){var n=t(this).html();t(this).html(e.t(n,i))}),t("#"+n).each(function(){var n=t(this).html();t(this).html(e.t(n,i))})},e.fontsForWritingSystem=function(t){switch(t){case"latin":return["arial","verdana","courier","comic","times-new-roman","impact","arial-unicode-ms"];case"indic":return["lohit-marathi","lohit-devanagari","arial-unicode-ms"];case"unknown":default:return["arial-unicode-ms"]}},e.getFontsInfo=function(){var t=window.fonts;if(!t)throw"[Lang Service] You have to load the fonts information from the backend to use this method";return t},e.loadAllFonts=function(){for(var t in window.fonts)window.fonts.hasOwnProperty(t)&&"arial"!=t&&this.loadFont(t)},e.loadFont=function(t){t in this.loadedFonts||(a.lazyloadCss("/font/"+t+".css"),this.loadedFonts[t]=!0)},e.hasHindiCharacters=function(t){return t.split("").filter(function(t){var e=t.charCodeAt();return e>=2309&&e<=2361}).length>0},e.hasJapanCharacters=function(t){return/[\u3000-\u303f]|[\u3040-\u309f]|[\u30a0-\u30ff]|[\uff00-\uff9f]|[\u4e00-\u9faf]|[\u3400-\u4dbf]/.test(t)},e.hasChineseCharacters=function(t){return/[\u4e00-\u9fff]|[\u3400-\u4dbf]|[\uf900-\ufaff]|[\u3300-\u33ff]|[\ufe30-\ufe4f]|[\uf900-\ufaff]/.test(t)},e.hasKoreanCharacters=function(t){return/[\uac00-\uafff]|[\ub000-\ubfff]/.test(t)},e.hasArabicCharacters=function(t){return/[\u0600-\u06FF]|[\u0750-\u077F]/.test(t)},e.hasGreekCharacters=function(t){return/[\u0370-\u03FF]|[\u1F00-\u1FFF]/.test(t)},e.hasCyrillicCharacters=function(t){return/[\u0400-\u04FF]|[\u0500-\u052F]/.test(t)},e.hasCommonLatinCharacters=function(t){return!1},e.keyCodeToWritingSystem=function(t){for(var e in this.writingSystemCharacterRanges)for(var n=this.writingSystemCharacterRanges[e],i=0;i<n.length;i++){var r=n[i],o=r[0],a=r[1];if(t>=o&&t<=a)return e}return"unknown"},e.detectWritingSystems=function(t){if(0===t.length)return[];for(var e={},n=0;n<t.length;n++){e[this.keyCodeToWritingSystem(t.charCodeAt(n))]=!0}return Object.keys(e)},e.loadedFonts={},e.writingSystemCharacterRanges={latin:[[0,127],[128,255],[256,383],[384,591],[7680,7935],[9312,9471],[11360,11391],[42784,43007],[64256,64335],[65104,65135]],indic:[[2304,2431],[43232,43263]]},e}();e.Lang=s}).call(this,n(1))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lazyloadCss=void 0,e.lazyloadCss=function(t,e){void 0===e&&(e={});for(var n=document.getElementsByTagName("link"),i=n.length;i--;)if(n[i].hasAttribute("href")&&n[i].href.match(t))return!0;var r=document.createElement("link");for(var o in r.rel="stylesheet",r.href=t,e)if(e.hasOwnProperty(o)){var a=e[o];r.setAttribute(o,a)}var s=document.getElementsByTagName("link")[0];return s.parentNode.insertBefore(r,s),!0}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CanTrialState=void 0;var o=n(65),a=n(123),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="CanTrialState",e.LAYOUT_TEMPLATE_NAME="new-premium",e.INITIAL_SCREEN="default",e.onDomReady=function(){e.changeScreen(e.INITIAL_SCREEN),e.initAbstractPayment({paymentAction:"become_premium",paymentInterval:{type:"gui",gui:"radio"},currentPaymentMethod:e.ctx.userCurrentPaymentMethod,paymentProviderProps:[{name:"stripe",paymentButtonText:e.t("paymentButtonText")},{name:"paypal"}]}).then(e._onAbstractPaymentInited)},e._onPaymentSuccess=function(t,n){var i="dialog"===e.ctx.getContextPlacement()?"popup":"auth";window.ga("send","event","user","premium",i);var r=new a.TrialSuccessState;e.ctx.changeState(r),r.render(e.domRoot)},e._onPaymentFailed=function(t,e){},e._onAbstractPaymentInited=function(){setTimeout(e.clearLoadingScreen,150)},e}return r(e,t),e}(o.AbstractPaymentState);e.CanTrialState=s},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.TrialSuccessState=void 0;var o=n(7),a=n(8),s=n(15),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="TrialSuccessState",e.LAYOUT_TEMPLATE_NAME="new-premium",e.INITIAL_SCREEN="default",e.onDomReady=function(){e.ctx.setEndState(),e.changeScreen(e.INITIAL_SCREEN),e.init(),e.hideHeaderAndFooter(),e.clearLoadingScreen()},e._onDoneButtonClick=function(){e.dispatchEvent(new o.IloveEvent("end"))},e}return r(e,t),e.prototype.init=function(){this.actionBtn.addEventListener("click",this._onDoneButtonClick);var t=this.dialogSubtitle;t.innerHTML=t.innerHTML.replace("${email}","<b>${email}</b>"),t.innerHTML=a.Lang.tr(t.innerHTML,{email:this.authenticatedUserEmail})},e.prototype.hideHeaderAndFooter=function(){var t=this.domRoot.querySelector(".dialog__header");if(!t)throw"Header not found";var e=this.domRoot.querySelector(".dialog__footer");if(!e)throw"Footer not found";t.style.display="none",e.style.display="none"},Object.defineProperty(e.prototype,"dialogSubtitle",{get:function(){var t=this.domStateRoot.querySelector(".dialog__subtitle");if(!t)throw"Description elem not found";return t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"authenticatedUserEmail",{get:function(){var t=s.UserModel.get();if(!t)throw"Authenticated user not found!";return t.email},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"actionBtn",{get:function(){var t=this.domStateRoot.querySelector(".dialog__action [next-from-payment-completed]");if(!t)throw"'Done' button not found";return t},enumerable:!1,configurable:!0}),e}(n(18).StateBase);e.TrialSuccessState=c},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.PremiumState=void 0;var o=n(7),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="PremiumState",e.LAYOUT_TEMPLATE_NAME="new-premium",e.INITIAL_SCREEN="default",e.onDomReady=function(){},e}return r(e,t),e.prototype.render=function(t){this.dispatchEvent(new o.IloveEvent("end"))},e}(n(18).StateBase);e.PremiumState=a},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.Network=void 0;var n=function(){function e(){}return e.checkNetwork=function(){var n=navigator.onLine;window.setInterval(function(){navigator.onLine?0==n&&(n=!0,e.hideNetworkAlert()):1==n&&(n=!1,e.showNetworkAlert(),t("#uploadSpeed").html("0 KB/s"),t("#timeLeft").html("&infin;"))},1e3)},e.showNetworkAlert=function(){t("#network").css("display","flex").hide().fadeIn()},e.hideNetworkAlert=function(){t("#network").fadeOut()},e.waitForConnection=function(t){void 0===t&&(t=null);var e=0;return new Promise(function(n,i){var r=window.setInterval(function(){navigator.onLine&&(window.clearInterval(r),n()),null!=t&&(e+=1e3)>=t&&(window.clearInterval(r),i())},1e3)})},e}();e.Network=n}).call(this,n(1))},,function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.DriveService=void 0;var a=o(n(26)),s=n(64),c=function(){function t(t){var e=this;void 0===t&&(t={}),this.init=function(){e.startLoadingBtn(),e.load().then(function(){setTimeout(function(){e.endLoadingBtn(),e.drive()},500)},function(){})},this.src="https://apis.google.com/js/platform.js",this.developerKey="AIzaSyAscL1olxYauMLc0sj0LXpCWL2Jmztr8dA",this.clientId="391438661644-2uum636mg2ckariol0if8h3364a1h6dc.apps.googleusercontent.com",this.scope="https://www.googleapis.com/auth/drive https://www.googleapis.com/auth/userinfo.email",this.URL_API="https://www.googleapis.com/drive/v3/",this.preloadSrc=s.checkPreloadIsNeeded(),Object.assign(this,t)}return t.prototype.start=function(){1==this.preloadSrc?this.init():this.waitForClickToInit()},t.prototype.waitForClickToInit=function(){document.getElementById(this.id).addEventListener("click",this.init)},t.prototype.startLoadingBtn=function(){var t=document.getElementById(this.id);1==this.preloadSrc?t.classList.remove("active"):t.classList.add("load")},t.prototype.endLoadingBtn=function(){var t=document.getElementById(this.id);1==this.preloadSrc?t.classList.add("active"):t.classList.remove("load")},t.prototype.load=function(){var t=this;return new Promise(function(e,n){if(null===window.gapi||void 0!==window.gapi)return e(!0);a.lazyload(t.src);var i=window.setInterval(function(){if(null!==window.gapi&&"object"==typeof window.gapi)return clearInterval(i),e(!0)},100)})},t.prototype.drive=function(){},t}();e.DriveService=c},function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.DropboxService=void 0;var a=o(n(26)),s=n(64),c=function(){function t(t){var e=this;void 0===t&&(t={}),this.init=function(){e.startLoadingBtn(),e.load().then(function(){setTimeout(function(){e.endLoadingBtn(),e.initDropbox()},500)},function(){})},this.dropbox=function(){},this.src="https://www.dropbox.com/static/api/2/dropins.js",this.appKey="xntw8za866940lz",this.id=null,this.preloadSrc=s.checkPreloadIsNeeded(),Object.assign(this,t)}return t.prototype.start=function(){1==this.preloadSrc?this.init():this.waitForClickToInit()},t.prototype.waitForClickToInit=function(){document.getElementById(this.id).addEventListener("click",this.init)},t.prototype.startLoadingBtn=function(){var t=document.getElementById(this.id);1==this.preloadSrc?t.classList.remove("active"):t.classList.add("load")},t.prototype.endLoadingBtn=function(){var t=document.getElementById(this.id);1==this.preloadSrc?t.classList.add("active"):t.classList.remove("load")},t.prototype.load=function(){var t=this;return new Promise(function(e,n){if(null===window.Dropbox||void 0!==window.Dropbox)return e(!0);a.lazyload(t.src,{"data-app-key":t.appKey,id:"dropboxjs"});var i=window.setInterval(function(){if(null!==window.Dropbox&&"object"==typeof window.Dropbox||"function"==typeof window.Dropbox)return clearInterval(i),e(!0)},100)})},t.prototype.initDropbox=function(){1==this.preloadSrc?document.getElementById(this.id).addEventListener("click",this.dropbox):(document.getElementById(this.id).removeEventListener("click",this.init),document.getElementById(this.id).addEventListener("click",this.dropbox),this.dropbox())},t}();e.DropboxService=c},function(t,e,n){t.exports=n(27),n(89),n(46),n(130),n(90),n(131),n(91),n(132),n(133)},function(t,e,n){var i,r,o;!function(a){"use strict";r=[n(27),n(46)],void 0===(o="function"==typeof(i=function(t){"undefined"!=typeof fetch&&"undefined"!=typeof Request?t.fetchBlob=function(e,n,i){t.hasMetaOption(i)?fetch(new Request(e,i)).then(function(t){return t.blob()}).then(n).catch(function(t){n()}):n()}:"undefined"!=typeof XMLHttpRequest&&"undefined"!=typeof ProgressEvent&&(t.fetchBlob=function(e,n,i){if(t.hasMetaOption(i)){i=i||{};var r=new XMLHttpRequest;r.open(i.method||"GET",e),i.headers&&Object.keys(i.headers).forEach(function(t){r.setRequestHeader(t,i.headers[t])}),r.withCredentials="include"===i.credentials,r.responseType="blob",r.onload=function(){n(r.response)},r.onerror=r.onabort=r.ontimeout=function(t){n()},r.send(i.body)}else n()})})?i.apply(e,r):i)||(t.exports=o)}()},function(t,e,n){var i,r,o;!function(a){"use strict";r=[n(27),n(90)],void 0===(o="function"==typeof(i=function(t){t.ExifMap.prototype.tags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},t.ExifMap.prototype.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"top-left",2:"top-right",3:"bottom-right",4:"bottom-left",5:"left-top",6:"right-top",7:"right-bottom",8:"left-bottom"}},t.ExifMap.prototype.getText=function(t){var e=this.get(t);switch(t){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[t][e];case"ExifVersion":case"FlashpixVersion":if(!e)return;return String.fromCharCode(e[0],e[1],e[2],e[3]);case"ComponentsConfiguration":if(!e)return;return this.stringValues[t][e[0]]+this.stringValues[t][e[1]]+this.stringValues[t][e[2]]+this.stringValues[t][e[3]];case"GPSVersionID":if(!e)return;return e[0]+"."+e[1]+"."+e[2]+"."+e[3]}return String(e)},function(t){var e,n=t.tags,i=t.map;for(e in n)Object.prototype.hasOwnProperty.call(n,e)&&(i[n[e]]=e)}(t.ExifMap.prototype),t.ExifMap.prototype.getAll=function(){var t,e,n={};for(t in this)Object.prototype.hasOwnProperty.call(this,t)&&(e=this.tags[t])&&(n[e]=this.getText(e));return n}})?i.apply(e,r):i)||(t.exports=o)}()},function(t,e,n){var i,r,o;!function(a){"use strict";r=[n(27),n(91)],void 0===(o="function"==typeof(i=function(t){t.IptcMap.prototype.tags={3:"ObjectType",4:"ObjectAttribute",5:"ObjectName",7:"EditStatus",8:"EditorialUpdate",10:"Urgency",12:"SubjectRef",15:"Category",20:"SupplCategory",22:"FixtureID",25:"Keywords",26:"ContentLocCode",27:"ContentLocName",30:"ReleaseDate",35:"ReleaseTime",37:"ExpirationDate",38:"ExpirationTime",40:"SpecialInstructions",42:"ActionAdvised",45:"RefService",47:"RefDate",50:"RefNumber",55:"DateCreated",60:"TimeCreated",62:"DigitalCreationDate",63:"DigitalCreationTime",65:"OriginatingProgram",70:"ProgramVersion",75:"ObjectCycle",80:"Byline",85:"BylineTitle",90:"City",92:"Sublocation",95:"State",100:"CountryCode",101:"CountryName",103:"OrigTransRef",105:"Headline",110:"Credit",115:"Source",116:"CopyrightNotice",118:"Contact",120:"Caption",122:"WriterEditor",130:"ImageType",131:"ImageOrientation",135:"LanguageID"},t.IptcMap.prototype.getText=function(t){var e=this.get(t);return String(e)},function(t){var e,n=t.tags,i=t.map||{};for(e in n)Object.prototype.hasOwnProperty.call(n,e)&&(i[n[e]]=e)}(t.IptcMap.prototype),t.IptcMap.prototype.getAll=function(){var t,e,n={};for(t in this)Object.prototype.hasOwnProperty.call(this,t)&&(e=this.tags[t])&&(n[e]=this.getText(e));return n}})?i.apply(e,r):i)||(t.exports=o)}()},function(t,e,n){var i,r,o;!function(a){"use strict";r=[n(27),n(89),n(46)],void 0===(o="function"==typeof(i=function(t){var e=t.hasCanvasOption,n=t.hasMetaOption,i=t.transformCoordinates,r=t.getTransformedOptions;o=document.createElement("img"),o.onload=function(){t.orientation=1===o.width&&2===o.height},o.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==",t.hasCanvasOption=function(n){return!0==!!n.orientation&&!t.orientation||n.orientation>1&&n.orientation<9||e.call(t,n)},t.hasMetaOption=function(e){return e&&!0===e.orientation&&!t.orientation||n.call(t,e)},t.transformCoordinates=function(e,n){i.call(t,e,n);var r=e.getContext("2d"),o=e.width,a=e.height,s=e.style.width,c=e.style.height,l=n.orientation;if(l>1&&l<9)switch(l>4&&(e.width=a,e.height=o,e.style.width=c,e.style.height=s),l){case 2:r.translate(o,0),r.scale(-1,1);break;case 3:r.translate(o,a),r.rotate(Math.PI);break;case 4:r.translate(0,a),r.scale(1,-1);break;case 5:r.rotate(.5*Math.PI),r.scale(1,-1);break;case 6:r.rotate(.5*Math.PI),r.translate(0,-a);break;case 7:r.rotate(.5*Math.PI),r.translate(o,-a),r.scale(-1,1);break;case 8:r.rotate(-.5*Math.PI),r.translate(-o,0)}},t.getTransformedOptions=function(e,n,i){var o,a,s=r.call(t,e,n),c=s.orientation;if(!0===c){if(t.orientation)return s;c=i&&i.exif&&i.exif.get("Orientation")}if(!(c>1&&c<9))return s;for(a in o={},s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a]);switch(o.orientation=c,c){case 2:o.left=s.right,o.right=s.left;break;case 3:o.left=s.right,o.top=s.bottom,o.right=s.left,o.bottom=s.top;break;case 4:o.top=s.bottom,o.bottom=s.top;break;case 5:o.left=s.top,o.top=s.left,o.right=s.bottom,o.bottom=s.right;break;case 6:o.left=s.top,o.top=s.right,o.right=s.bottom,o.bottom=s.left;break;case 7:o.left=s.bottom,o.top=s.right,o.right=s.top,o.bottom=s.left;break;case 8:o.left=s.bottom,o.top=s.left,o.right=s.top,o.bottom=s.right}return o.orientation>4&&(o.maxWidth=s.maxHeight,o.maxHeight=s.maxWidth,o.minWidth=s.minHeight,o.minHeight=s.minWidth,o.sourceWidth=s.sourceHeight,o.sourceHeight=s.sourceWidth),o};var o})?i.apply(e,r):i)||(t.exports=o)}()},function(t,e,n){var i;!function(r){"use strict";var o=r.HTMLCanvasElement&&r.HTMLCanvasElement.prototype,a=r.Blob&&function(){try{return Boolean(new Blob)}catch(t){return!1}}(),s=a&&r.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(t){return!1}}(),c=r.BlobBuilder||r.WebKitBlobBuilder||r.MozBlobBuilder||r.MSBlobBuilder,l=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,u=(a||c)&&r.atob&&r.ArrayBuffer&&r.Uint8Array&&function(t){var e,n,i,r,o,u,d,p,f;if(!(e=t.match(l)))throw new Error("invalid data URI");for(n=e[2]?e[1]:"text/plain"+(e[3]||";charset=US-ASCII"),i=!!e[4],r=t.slice(e[0].length),o=i?atob(r):decodeURIComponent(r),u=new ArrayBuffer(o.length),d=new Uint8Array(u),p=0;p<o.length;p+=1)d[p]=o.charCodeAt(p);return a?new Blob([s?d:u],{type:n}):((f=new c).append(u),f.getBlob(n))};r.HTMLCanvasElement&&!o.toBlob&&(o.mozGetAsFile?o.toBlob=function(t,e,n){var i=this;setTimeout(function(){n&&o.toDataURL&&u?t(u(i.toDataURL(e,n))):t(i.mozGetAsFile("blob",e))})}:o.toDataURL&&u&&(o.msToBlob?o.toBlob=function(t,e,n){var i=this;setTimeout(function(){(e&&"image/png"!==e||n)&&o.toDataURL&&u?t(u(i.toDataURL(e,n))):t(i.msToBlob(e))})}:o.toBlob=function(t,e,n){var i=this;setTimeout(function(){t(u(i.toDataURL(e,n)))})})),void 0===(i=function(){return u}.call(e,n,e,t))||(t.exports=i)}(window)},function(t,e,n){(function(t){function e(t){"@babel/helpers - typeof";return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i={decode:function(t){i.decode._decodeG3.allow2D=null;var e=new Uint8Array(t),n=0,r=i._binBE.readASCII(e,n,2);n+=2;var o="II"==r?i._binLE:i._binBE;o.readUshort(e,n);n+=2;var a=o.readUint(e,n);n+=4;for(var s=[];;){var c=i.decode._readIFD(o,e,a,s);if(0==(a=o.readUint(e,c)))break}for(var l=0;l<s.length;l++){var u=s[l];u.width=u.t256[0],delete u.t256,u.height=u.t257[0],delete u.t257;var d=u.t259[0];delete u.t259;var p=u.t266?u.t266[0]:1;delete u.t266,u.t284&&u.t284[0];var f=(u.t258?u.t258[0]:1)*(u.t277?u.t277[0]:1),h=u.t273;null==h&&(h=u.t324);var v=u.t279;1==d&&1==h.length&&(v=[u.height*u.width*f>>3]),null==v&&(v=u.t325);var g=new Uint8Array(u.width*u.height*f>>3),m=0;if(null!=u.t322){for(var y=u.t322[0],b=u.t323[0],_=Math.floor((u.width+y-1)/y),w=Math.floor((u.height+b-1)/b),x=new Uint8Array(y*b*f>>3),O=0;O<w;O++)for(var S=0;S<_;S++){for(var E=O*_+S,P=0;P<x.length;P++)x[P]=0;i.decode._decompress(u,e,h[E],v[E],d,x,0,p),i._copyTile(x,y*f>>3,b,g,u.width*f>>3,u.height,S*y*f>>3,O*b)}m=g.length<<3}else{var k=u.t278?u.t278[0]:u.height;k=Math.min(k,u.height);for(E=0;E<h.length;E++)i.decode._decompress(u,e,h[E],v[E],d,g,m>>3,p),m+=u.width*f*k;m=Math.min(m,g.length<<3)}u.data=new Uint8Array(g.buffer,0,m>>3)}return s}};i.decode._decompress=function(t,e,r,o,a,s,c,l){var u=n(137);if(1==a)for(var d=0;d<o;d++)s[c+d]=e[r+d];else if(3==a)i.decode._decodeG3(e,r,o,s,c,t.width,l);else if(4==a)i.decode._decodeG4(e,r,o,s,c,t.width,l);else if(5==a)i.decode._decodeLZW(e,r,s,c);else if(8==a)for(var p=new Uint8Array(e.buffer,r,o),f=u.inflate(p),h=0;h<f.length;h++)s[c+h]=f[h];else 32773==a?i.decode._decodePackBits(e,r,o,s,c):32809==a&&i.decode._decodeThunder(e,r,o,s,c);if(t.t317&&2==t.t317[0])for(var v=t.t277?t.t277[0]:1,g=t.t278?t.t278[0]:t.height,m=t.width*v,y=0;y<g;y++){var b=c+y*m;for(d=v;d<m;d++)s[b+d]=s[b+d]+s[b+d-v]&255}},i.decode._decodePackBits=function(t,e,n,i,r){for(var o=new Int8Array(t.buffer),a=new Int8Array(i.buffer),s=e+n;e<s;){var c=o[e];if(e++,c>=0&&c<128)for(var l=0;l<c+1;l++)a[r]=o[e],r++,e++;if(c>=-127&&c<0){for(l=0;l<1-c;l++)a[r]=o[e],r++;e++}}},i.decode._decodeThunder=function(t,e,n,i,r){for(var o=[0,1,0,-1],a=[0,1,2,3,0,-3,-2,-1],s=e+n,c=2*r,l=0;e<s;){var u=t[e],d=u>>6,p=63&u;if(e++,3==d&&(l=15&p,i[c>>1]|=l<<4*(1-c&1),c++),0==d)for(var f=0;f<p;f++)i[c>>1]|=l<<4*(1-c&1),c++;if(2==d)for(f=0;f<2;f++){4!=(h=p>>3*(1-f)&7)&&(l+=a[h],i[c>>1]|=l<<4*(1-c&1),c++)}if(1==d)for(f=0;f<3;f++){var h;2!=(h=p>>2*(2-f)&3)&&(l+=o[h],i[c>>1]|=l<<4*(1-c&1),c++)}}},i.decode._dmap={1:0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3},i.decode._lens=function(){var t=function(t,e,n,i){for(var r=0;r<e.length;r++)t[e[r]]=n+r*i},e="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100",n="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",i="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",r="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",o="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111";e=e.split(","),n=n.split(","),i=i.split(","),r=r.split(","),o=o.split(",");var a={},s={};return t(a,e,0,1),t(a,i,64,64),t(a,o,1792,64),t(s,n,0,1),t(s,r,64,64),t(s,o,1792,64),[a,s]}(),i.decode._decodeG4=function(t,e,n,r,o,a,s){for(var c=i.decode,l=e<<3,u=0,d="",p=[],f=[],h=0;h<a;h++)f.push(0);f=c._makeDiff(f);for(var v=0,g=0,m=0,y=0,b=0,_=0,w="",x=0;l>>3<e+n;){m=c._findDiff(f,v+(0==v?0:1),1-b),y=c._findDiff(f,m,b);var O=0;if(1==s&&(O=t[l>>3]>>7-(7&l)&1),2==s&&(O=t[l>>3]>>(7&l)&1),l++,d+=O,"H"==w){if(null!=c._lens[b][d]){var S=c._lens[b][d];d="",u+=S,S<64&&(c._addNtimes(p,u,b),v+=u,b=1-b,u=0,0==--x&&(w=""))}}else"0001"==d&&(d="",c._addNtimes(p,y-v,b),v=y),"001"==d&&(d="",w="H",x=2),null!=c._dmap[d]&&(g=m+c._dmap[d],c._addNtimes(p,g-v,b),v=g,d="",b=1-b);p.length==a&&""==w&&(c._writeBits(p,r,8*o+_*a),b=0,_++,v=0,f=c._makeDiff(p),p=[])}},i.decode._findDiff=function(t,e,n){for(var i=0;i<t.length;i+=2)if(t[i]>=e&&t[i+1]==n)return t[i]},i.decode._makeDiff=function(t){var e=[];1==t[0]&&e.push(0,1);for(var n=1;n<t.length;n++)t[n-1]!=t[n]&&e.push(n,t[n]);return e.push(t.length,0,t.length,1),e},i.decode._decodeG3=function(t,e,n,r,o,a,s){for(var c=i.decode,l=e<<3,u=0,d="",p=[],f=[],h=0;h<a;h++)p.push(0);for(var v=0,g=0,m=0,y=0,b=0,_=-1,w="",x=0,O=!1;l>>3<e+n;){m=c._findDiff(f,v+(0==v?0:1),1-b),y=c._findDiff(f,m,b);var S=0;if(1==s&&(S=t[l>>3]>>7-(7&l)&1),2==s&&(S=t[l>>3]>>(7&l)&1),l++,d+=S,O){if(null!=c._lens[b][d]){var E=c._lens[b][d];d="",u+=E,E<64&&(c._addNtimes(p,u,b),b=1-b,u=0)}}else if("H"==w){if(null!=c._lens[b][d]){E=c._lens[b][d];d="",u+=E,E<64&&(c._addNtimes(p,u,b),v+=u,b=1-b,u=0,0==--x&&(w=""))}}else"0001"==d&&(d="",c._addNtimes(p,y-v,b),v=y),"001"==d&&(d="",w="H",x=2),null!=c._dmap[d]&&(g=m+c._dmap[d],c._addNtimes(p,g-v,b),v=g,d="",b=1-b);d.endsWith("000000000001")&&(_>=0&&c._writeBits(p,r,8*o+_*a),O=1==(t[l>>3]>>(7&l)&1),l++,null==c._decodeG3.allow2D&&(c._decodeG3.allow2D=O),c._decodeG3.allow2D||(O=!0,l--),d="",b=0,_++,v=0,f=c._makeDiff(p),p=[])}p.length==a&&c._writeBits(p,r,8*o+_*a)},i.decode._addNtimes=function(t,e,n){for(var i=0;i<e;i++)t.push(n)},i.decode._writeBits=function(t,e,n){for(var i=0;i<t.length;i++)e[n+i>>3]|=t[i]<<7-(n+i&7)},i.decode._decodeLZW=function(t,e,n,i){for(var r=[],o=9,a=e<<3,s=0,c=0;;){if(s=(t[a>>3]<<16|t[a+8>>3]<<8|t[a+16>>3])>>24-(7&a)-o&(1<<o)-1,a+=o,0==r.length&&256!=s)return;if(257==s)break;if(256==s){o=9,r=[];for(var l=0;l<258;l++)r[l]=[l];if(s=(t[a>>3]<<16|t[a+8>>3]<<8|t[a+16>>3])>>24-(7&a)-o&(1<<o)-1,a+=o,257==s)break;for(l=0;l<r[s].length;l++)n[i+l]=r[s][l];i+=r[s].length,c=s}else if(s<r.length){for(l=0;l<r[s].length;l++)n[i+l]=r[s][l];i+=r[s].length;var u=r[c].slice(0);u.push(r[s][0]),r.push(u),r.length+1==1<<o&&o++,c=s}else{var d=r[c].slice(0);d.push(d[0]);for(l=0;l<d.length;l++)n[i+l]=d[l];i+=d.length,r.push(d),r.length+1==1<<o&&o++,c=s}}},i.tags={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffset",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",286:"XPosition",287:"YPosition",292:"T4Options",296:"ResolutionUnit",297:"PageNumber",305:"Software",306:"DateTime",315:"Artist",317:"Predictor",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffset",325:"TileByteCounts",336:"DotRange",338:"ExtraSample",339:"SampleFormat",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",33432:"Copyright",34377:"Photoshop"},i.decode._readIFD=function(t,e,n,i){var r=t.readUshort(e,n);n+=2;var o={};i.push(o);for(var a=0;a<r;a++){var s=t.readUshort(e,n);n+=2;var c=t.readUshort(e,n);n+=2;var l=t.readUint(e,n);n+=4;var u=t.readUint(e,n);n+=4;var d=o["t"+s]=[];if(1==c||7==c)for(var p=0;p<l;p++)d.push(e[(l<5?n-4:u)+p]);if(2==c&&d.push(t.readASCII(e,l<5?n-4:u,l-1)),3==c)for(p=0;p<l;p++)d.push(t.readUshort(e,(l<3?n-4:u)+2*p));if(4==c)for(p=0;p<l;p++)d.push(t.readUint(e,(l<2?n-4:u)+4*p));if(5==c)for(p=0;p<l;p++)d.push(t.readUint(e,u+8*p)/t.readUint(e,u+8*p+4));d.length}return n},i.toRGBA8=function(t){var e=t.width*t.height,n=4*e,i=t.data,r=new Uint8Array(4*e),o=t.t262[0],a=t.t258?t.t258[0]:1;if(0==o){if(1==a)for(var s=0;s<e;s++){var c=s<<2,l=i[s>>3]>>7-(7&s)&1;r[c]=r[c+1]=r[c+2]=255*(1-l),r[c+3]=255}if(4==a)for(s=0;s<e;s++){c=s<<2,l=i[s>>1]>>4-4*(1&s)&15;r[c]=r[c+1]=r[c+2]=17*(15-l),r[c+3]=255}if(8==a)for(s=0;s<e;s++){c=s<<2,l=i[s];r[c]=r[c+1]=r[c+2]=255-l,r[c+3]=255}}if(1==o){if(1==a)for(s=0;s<e;s++){c=s<<2,l=i[s>>3]>>7-(7&s)&1;r[c]=r[c+1]=r[c+2]=255*l,r[c+3]=255}if(2==a)for(s=0;s<e;s++){c=s<<2,l=i[s>>2]>>6-2*(3&s)&3;r[c]=r[c+1]=r[c+2]=85*l,r[c+3]=255}if(8==a)for(s=0;s<e;s++){c=s<<2,l=i[s];r[c]=r[c+1]=r[c+2]=l,r[c+3]=255}if(16==a)for(s=0;s<e;s++){c=s<<2,l=Math.max(0,i[2*s+1]-5)<<8|i[2*s];r[c]=r[c+1]=r[c+2]=Math.min(255,l),r[c+3]=255}}if(2==o)if(8==a)if(t.t338)if(1==t.t338[0])for(s=0;s<n;s++)r[s]=i[s];else for(s=0;s<n;s+=4)r[s]=i[s],r[s+1]=i[s+1],r[s+2]=i[s+2],r[s+3]=255;else for(s=0;s<e;s++){var u=3*s;r[c=s<<2]=i[u],r[c+1]=i[u+1],r[c+2]=i[u+2],r[c+3]=255}else for(s=0;s<e;s++){u=6*s;r[c=s<<2]=i[u],r[c+1]=i[u+2],r[c+2]=i[u+4],r[c+3]=255}if(3==o){var d=t.t320;for(s=0;s<e;s++){c=s<<2;var p=i[s];r[c]=d[p]>>8,r[c+1]=d[256+p]>>8,r[c+2]=d[512+p]>>8,r[c+3]=255}}if(5==o)for(s=0;s<e;s++){var f=255-i[c=s<<2],h=255-i[c+1],v=255-i[c+2],g=(255-i[c+3])*(1/255);r[c]=Math.round(f*g),r[c+1]=Math.round(h*g),r[c+2]=Math.round(v*g),r[c+3]=255}return r},i.replaceIMG=function(){for(var t=document.getElementsByTagName("img"),e=0;e<t.length;e++){var n=t[e],r=n.getAttribute("src"),o=r.split(".").pop().toLowerCase();if("tif"==o||"tiff"==o){var a=new XMLHttpRequest;i._xhrs.push(a),i._imgs.push(n),a.open("GET",r),a.responseType="arraybuffer",a.onload=i._imgLoaded,a.send()}}},i._xhrs=[],i._imgs=[],i._imgLoaded=function(t){var e=i.decode(t.target.response)[0],n=i.toRGBA8(e),r=e.width,o=e.height,a=i._xhrs.indexOf(t.target),s=i._imgs[a];i._xhrs.splice(a,1),i._imgs.splice(a,1);var c=document.createElement("canvas");c.width=r,c.height=o;for(var l=c.getContext("2d"),u=l.createImageData(r,o),d=0;d<n.length;d++)u.data[d]=n[d];l.putImageData(u,0,0);var p=["style","class","id"];for(d=0;d<p.length;d++)c.setAttribute(p[d],s.getAttribute(p[d]));s.parentNode.replaceChild(c,s)},i._binBE={nextZero:function(t,e){for(;0!=t[e];)e++;return e},readUshort:function(t,e){return t[e]<<8|t[e+1]},readUint:function(t,e){var n=i._binBE.ui8;return n[0]=t[e+3],n[1]=t[e+2],n[2]=t[e+1],n[3]=t[e],i._binBE.ui32[0]},readASCII:function(t,e,n){for(var i="",r=0;r<n;r++)i+=String.fromCharCode(t[e+r]);return i}},i._binBE.ui8=new Uint8Array(4),i._binBE.ui32=new Uint32Array(i._binBE.ui8.buffer),i._binLE={nextZero:i._binBE.nextZero,readUshort:function(t,e){return t[e+1]<<8|t[e]},readUint:function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},readASCII:i._binBE.readASCII},i._copyTile=function(t,e,n,i,r,o,a,s){for(var c=0;c<n;c++)for(var l=0;l<e;l++){var u=a+l,d=s+c;u<r&&d<o&&(i[d*r+u]=t[c*e+l])}},"object"==e(t)&&(t.exports=i)}).call(this,n(136)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";var i={};(0,n(34).assign)(i,n(138),n(141),n(96)),t.exports=i},function(t,e,n){"use strict";var i=n(139),r=n(34),o=n(94),a=n(66),s=n(95),c=Object.prototype.toString,l=0,u=-1,d=0,p=8;function f(t){if(!(this instanceof f))return new f(t);this.options=r.assign({level:u,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=i.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==l)throw new Error(a[n]);if(e.header&&i.deflateSetHeader(this.strm,e.header),e.dictionary){var h;if(h="string"==typeof e.dictionary?o.string2buf(e.dictionary):"[object ArrayBuffer]"===c.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(n=i.deflateSetDictionary(this.strm,h))!==l)throw new Error(a[n]);this._dict_set=!0}}function h(t,e){var n=new f(e);if(n.push(t,!0),n.err)throw n.msg||a[n.err];return n.result}f.prototype.push=function(t,e){var n,a,s=this.strm,u=this.options.chunkSize;if(this.ended)return!1;a=e===~~e?e:!0===e?4:0,"string"==typeof t?s.input=o.string2buf(t):"[object ArrayBuffer]"===c.call(t)?s.input=new Uint8Array(t):s.input=t,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new r.Buf8(u),s.next_out=0,s.avail_out=u),1!==(n=i.deflate(s,a))&&n!==l)return this.onEnd(n),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(o.buf2binstring(r.shrinkBuf(s.output,s.next_out))):this.onData(r.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&1!==n);return 4===a?(n=i.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===l):2!==a||(this.onEnd(l),s.avail_out=0,!0)},f.prototype.onData=function(t){this.chunks.push(t)},f.prototype.onEnd=function(t){t===l&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Deflate=f,e.deflate=h,e.deflateRaw=function(t,e){return(e=e||{}).raw=!0,h(t,e)},e.gzip=function(t,e){return(e=e||{}).gzip=!0,h(t,e)}},function(t,e,n){"use strict";var i,r=n(34),o=n(140),a=n(92),s=n(93),c=n(66),l=0,u=1,d=3,p=4,f=5,h=0,v=1,g=-2,m=-3,y=-5,b=-1,_=1,w=2,x=3,O=4,S=0,E=2,P=8,k=9,C=15,j=8,T=286,M=30,A=19,L=2*T+1,I=15,D=3,F=258,R=F+D+1,z=32,B=42,N=69,U=73,H=91,V=103,W=113,q=666,G=1,Y=2,X=3,Z=4,K=3;function Q(t,e){return t.msg=c[e],e}function J(t){return(t<<1)-(t>4?9:0)}function $(t){for(var e=t.length;--e>=0;)t[e]=0}function tt(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(r.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function et(t,e){o._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,tt(t.strm)}function nt(t,e){t.pending_buf[t.pending++]=e}function it(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function rt(t,e){var n,i,r=t.max_chain_length,o=t.strstart,a=t.prev_length,s=t.nice_match,c=t.strstart>t.w_size-R?t.strstart-(t.w_size-R):0,l=t.window,u=t.w_mask,d=t.prev,p=t.strstart+F,f=l[o+a-1],h=l[o+a];t.prev_length>=t.good_match&&(r>>=2),s>t.lookahead&&(s=t.lookahead);do{if(l[(n=e)+a]===h&&l[n+a-1]===f&&l[n]===l[o]&&l[++n]===l[o+1]){o+=2,n++;do{}while(l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&o<p);if(i=F-(p-o),o=p-F,i>a){if(t.match_start=e,a=i,i>=s)break;f=l[o+a-1],h=l[o+a]}}}while((e=d[e&u])>c&&0!=--r);return a<=t.lookahead?a:t.lookahead}function ot(t){var e,n,i,o,c,l,u,d,p,f,h=t.w_size;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=h+(h-R)){r.arraySet(t.window,t.window,h,h,0),t.match_start-=h,t.strstart-=h,t.block_start-=h,e=n=t.hash_size;do{i=t.head[--e],t.head[e]=i>=h?i-h:0}while(--n);e=n=h;do{i=t.prev[--e],t.prev[e]=i>=h?i-h:0}while(--n);o+=h}if(0===t.strm.avail_in)break;if(l=t.strm,u=t.window,d=t.strstart+t.lookahead,p=o,f=void 0,(f=l.avail_in)>p&&(f=p),n=0===f?0:(l.avail_in-=f,r.arraySet(u,l.input,l.next_in,f,d),1===l.state.wrap?l.adler=a(l.adler,u,f,d):2===l.state.wrap&&(l.adler=s(l.adler,u,f,d)),l.next_in+=f,l.total_in+=f,f),t.lookahead+=n,t.lookahead+t.insert>=D)for(c=t.strstart-t.insert,t.ins_h=t.window[c],t.ins_h=(t.ins_h<<t.hash_shift^t.window[c+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[c+D-1])&t.hash_mask,t.prev[c&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=c,c++,t.insert--,!(t.lookahead+t.insert<D)););}while(t.lookahead<R&&0!==t.strm.avail_in)}function at(t,e){for(var n,i;;){if(t.lookahead<R){if(ot(t),t.lookahead<R&&e===l)return G;if(0===t.lookahead)break}if(n=0,t.lookahead>=D&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+D-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-R&&(t.match_length=rt(t,n)),t.match_length>=D)if(i=o._tr_tally(t,t.strstart-t.match_start,t.match_length-D),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=D){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+D-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(et(t,!1),0===t.strm.avail_out))return G}return t.insert=t.strstart<D-1?t.strstart:D-1,e===p?(et(t,!0),0===t.strm.avail_out?X:Z):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?G:Y}function st(t,e){for(var n,i,r;;){if(t.lookahead<R){if(ot(t),t.lookahead<R&&e===l)return G;if(0===t.lookahead)break}if(n=0,t.lookahead>=D&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+D-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=D-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-R&&(t.match_length=rt(t,n),t.match_length<=5&&(t.strategy===_||t.match_length===D&&t.strstart-t.match_start>4096)&&(t.match_length=D-1)),t.prev_length>=D&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-D,i=o._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-D),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+D-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=D-1,t.strstart++,i&&(et(t,!1),0===t.strm.avail_out))return G}else if(t.match_available){if((i=o._tr_tally(t,0,t.window[t.strstart-1]))&&et(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return G}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=o._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<D-1?t.strstart:D-1,e===p?(et(t,!0),0===t.strm.avail_out?X:Z):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?G:Y}function ct(t,e,n,i,r){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=i,this.func=r}function lt(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=E,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?B:W,t.adler=2===e.wrap?0:1,e.last_flush=l,o._tr_init(e),h):Q(t,g)}function ut(t){var e,n=lt(t);return n===h&&((e=t.state).window_size=2*e.w_size,$(e.head),e.max_lazy_match=i[e.level].max_lazy,e.good_match=i[e.level].good_length,e.nice_match=i[e.level].nice_length,e.max_chain_length=i[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=D-1,e.match_available=0,e.ins_h=0),n}function dt(t,e,n,i,o,a){if(!t)return g;var s=1;if(e===b&&(e=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),o<1||o>k||n!==P||i<8||i>15||e<0||e>9||a<0||a>O)return Q(t,g);8===i&&(i=9);var c=new function(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=P,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(2*L),this.dyn_dtree=new r.Buf16(2*(2*M+1)),this.bl_tree=new r.Buf16(2*(2*A+1)),$(this.dyn_ltree),$(this.dyn_dtree),$(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(I+1),this.heap=new r.Buf16(2*T+1),$(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(2*T+1),$(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0};return t.state=c,c.strm=t,c.wrap=s,c.gzhead=null,c.w_bits=i,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=o+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+D-1)/D),c.window=new r.Buf8(2*c.w_size),c.head=new r.Buf16(c.hash_size),c.prev=new r.Buf16(c.w_size),c.lit_bufsize=1<<o+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new r.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=e,c.strategy=a,c.method=n,ut(t)}i=[new ct(0,0,0,0,function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(ot(t),0===t.lookahead&&e===l)return G;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+n;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,et(t,!1),0===t.strm.avail_out))return G;if(t.strstart-t.block_start>=t.w_size-R&&(et(t,!1),0===t.strm.avail_out))return G}return t.insert=0,e===p?(et(t,!0),0===t.strm.avail_out?X:Z):(t.strstart>t.block_start&&(et(t,!1),t.strm.avail_out),G)}),new ct(4,4,8,4,at),new ct(4,5,16,8,at),new ct(4,6,32,32,at),new ct(4,4,16,16,st),new ct(8,16,32,32,st),new ct(8,16,128,128,st),new ct(8,32,128,256,st),new ct(32,128,258,1024,st),new ct(32,258,258,4096,st)],e.deflateInit=function(t,e){return dt(t,e,P,C,j,S)},e.deflateInit2=dt,e.deflateReset=ut,e.deflateResetKeep=lt,e.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?g:(t.state.gzhead=e,h):g},e.deflate=function(t,e){var n,r,a,c;if(!t||!t.state||e>f||e<0)return t?Q(t,g):g;if(r=t.state,!t.output||!t.input&&0!==t.avail_in||r.status===q&&e!==p)return Q(t,0===t.avail_out?y:g);if(r.strm=t,n=r.last_flush,r.last_flush=e,r.status===B)if(2===r.wrap)t.adler=0,nt(r,31),nt(r,139),nt(r,8),r.gzhead?(nt(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),nt(r,255&r.gzhead.time),nt(r,r.gzhead.time>>8&255),nt(r,r.gzhead.time>>16&255),nt(r,r.gzhead.time>>24&255),nt(r,9===r.level?2:r.strategy>=w||r.level<2?4:0),nt(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(nt(r,255&r.gzhead.extra.length),nt(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=s(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=N):(nt(r,0),nt(r,0),nt(r,0),nt(r,0),nt(r,0),nt(r,9===r.level?2:r.strategy>=w||r.level<2?4:0),nt(r,K),r.status=W);else{var m=P+(r.w_bits-8<<4)<<8;m|=(r.strategy>=w||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(m|=z),m+=31-m%31,r.status=W,it(r,m),0!==r.strstart&&(it(r,t.adler>>>16),it(r,65535&t.adler)),t.adler=1}if(r.status===N)if(r.gzhead.extra){for(a=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>a&&(t.adler=s(t.adler,r.pending_buf,r.pending-a,a)),tt(t),a=r.pending,r.pending!==r.pending_buf_size));)nt(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>a&&(t.adler=s(t.adler,r.pending_buf,r.pending-a,a)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=U)}else r.status=U;if(r.status===U)if(r.gzhead.name){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(t.adler=s(t.adler,r.pending_buf,r.pending-a,a)),tt(t),a=r.pending,r.pending===r.pending_buf_size)){c=1;break}c=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,nt(r,c)}while(0!==c);r.gzhead.hcrc&&r.pending>a&&(t.adler=s(t.adler,r.pending_buf,r.pending-a,a)),0===c&&(r.gzindex=0,r.status=H)}else r.status=H;if(r.status===H)if(r.gzhead.comment){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(t.adler=s(t.adler,r.pending_buf,r.pending-a,a)),tt(t),a=r.pending,r.pending===r.pending_buf_size)){c=1;break}c=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,nt(r,c)}while(0!==c);r.gzhead.hcrc&&r.pending>a&&(t.adler=s(t.adler,r.pending_buf,r.pending-a,a)),0===c&&(r.status=V)}else r.status=V;if(r.status===V&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&tt(t),r.pending+2<=r.pending_buf_size&&(nt(r,255&t.adler),nt(r,t.adler>>8&255),t.adler=0,r.status=W)):r.status=W),0!==r.pending){if(tt(t),0===t.avail_out)return r.last_flush=-1,h}else if(0===t.avail_in&&J(e)<=J(n)&&e!==p)return Q(t,y);if(r.status===q&&0!==t.avail_in)return Q(t,y);if(0!==t.avail_in||0!==r.lookahead||e!==l&&r.status!==q){var b=r.strategy===w?function(t,e){for(var n;;){if(0===t.lookahead&&(ot(t),0===t.lookahead)){if(e===l)return G;break}if(t.match_length=0,n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(et(t,!1),0===t.strm.avail_out))return G}return t.insert=0,e===p?(et(t,!0),0===t.strm.avail_out?X:Z):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?G:Y}(r,e):r.strategy===x?function(t,e){for(var n,i,r,a,s=t.window;;){if(t.lookahead<=F){if(ot(t),t.lookahead<=F&&e===l)return G;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=D&&t.strstart>0&&(i=s[r=t.strstart-1])===s[++r]&&i===s[++r]&&i===s[++r]){a=t.strstart+F;do{}while(i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&r<a);t.match_length=F-(a-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=D?(n=o._tr_tally(t,1,t.match_length-D),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(et(t,!1),0===t.strm.avail_out))return G}return t.insert=0,e===p?(et(t,!0),0===t.strm.avail_out?X:Z):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?G:Y}(r,e):i[r.level].func(r,e);if(b!==X&&b!==Z||(r.status=q),b===G||b===X)return 0===t.avail_out&&(r.last_flush=-1),h;if(b===Y&&(e===u?o._tr_align(r):e!==f&&(o._tr_stored_block(r,0,0,!1),e===d&&($(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),tt(t),0===t.avail_out))return r.last_flush=-1,h}return e!==p?h:r.wrap<=0?v:(2===r.wrap?(nt(r,255&t.adler),nt(r,t.adler>>8&255),nt(r,t.adler>>16&255),nt(r,t.adler>>24&255),nt(r,255&t.total_in),nt(r,t.total_in>>8&255),nt(r,t.total_in>>16&255),nt(r,t.total_in>>24&255)):(it(r,t.adler>>>16),it(r,65535&t.adler)),tt(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?h:v)},e.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==B&&e!==N&&e!==U&&e!==H&&e!==V&&e!==W&&e!==q?Q(t,g):(t.state=null,e===W?Q(t,m):h):g},e.deflateSetDictionary=function(t,e){var n,i,o,s,c,l,u,d,p=e.length;if(!t||!t.state)return g;if(2===(s=(n=t.state).wrap)||1===s&&n.status!==B||n.lookahead)return g;for(1===s&&(t.adler=a(t.adler,e,p,0)),n.wrap=0,p>=n.w_size&&(0===s&&($(n.head),n.strstart=0,n.block_start=0,n.insert=0),d=new r.Buf8(n.w_size),r.arraySet(d,e,p-n.w_size,n.w_size,0),e=d,p=n.w_size),c=t.avail_in,l=t.next_in,u=t.input,t.avail_in=p,t.next_in=0,t.input=e,ot(n);n.lookahead>=D;){i=n.strstart,o=n.lookahead-(D-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+D-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++}while(--o);n.strstart=i,n.lookahead=D-1,ot(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=D-1,n.match_available=0,t.next_in=l,t.input=u,t.avail_in=c,n.wrap=s,h},e.deflateInfo="pako deflate (from Nodeca project)"},function(t,e,n){"use strict";var i=n(34),r=4,o=0,a=1,s=2;function c(t){for(var e=t.length;--e>=0;)t[e]=0}var l=0,u=1,d=2,p=29,f=256,h=f+1+p,v=30,g=19,m=2*h+1,y=15,b=16,_=7,w=256,x=16,O=17,S=18,E=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],P=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],C=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],j=new Array(2*(h+2));c(j);var T=new Array(2*v);c(T);var M=new Array(512);c(M);var A=new Array(256);c(A);var L=new Array(p);c(L);var I,D,F,R=new Array(v);function z(t,e,n,i,r){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=t&&t.length}function B(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function N(t){return t<256?M[t]:M[256+(t>>>7)]}function U(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function H(t,e,n){t.bi_valid>b-n?(t.bi_buf|=e<<t.bi_valid&65535,U(t,t.bi_buf),t.bi_buf=e>>b-t.bi_valid,t.bi_valid+=n-b):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function V(t,e,n){H(t,n[2*e],n[2*e+1])}function W(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function q(t,e,n){var i,r,o=new Array(y+1),a=0;for(i=1;i<=y;i++)o[i]=a=a+n[i-1]<<1;for(r=0;r<=e;r++){var s=t[2*r+1];0!==s&&(t[2*r]=W(o[s]++,s))}}function G(t){var e;for(e=0;e<h;e++)t.dyn_ltree[2*e]=0;for(e=0;e<v;e++)t.dyn_dtree[2*e]=0;for(e=0;e<g;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*w]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function Y(t){t.bi_valid>8?U(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function X(t,e,n,i){var r=2*e,o=2*n;return t[r]<t[o]||t[r]===t[o]&&i[e]<=i[n]}function Z(t,e,n){for(var i=t.heap[n],r=n<<1;r<=t.heap_len&&(r<t.heap_len&&X(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!X(e,i,t.heap[r],t.depth));)t.heap[n]=t.heap[r],n=r,r<<=1;t.heap[n]=i}function K(t,e,n){var i,r,o,a,s=0;if(0!==t.last_lit)do{i=t.pending_buf[t.d_buf+2*s]<<8|t.pending_buf[t.d_buf+2*s+1],r=t.pending_buf[t.l_buf+s],s++,0===i?V(t,r,e):(V(t,(o=A[r])+f+1,e),0!==(a=E[o])&&H(t,r-=L[o],a),V(t,o=N(--i),n),0!==(a=P[o])&&H(t,i-=R[o],a))}while(s<t.last_lit);V(t,w,e)}function Q(t,e){var n,i,r,o=e.dyn_tree,a=e.stat_desc.static_tree,s=e.stat_desc.has_stree,c=e.stat_desc.elems,l=-1;for(t.heap_len=0,t.heap_max=m,n=0;n<c;n++)0!==o[2*n]?(t.heap[++t.heap_len]=l=n,t.depth[n]=0):o[2*n+1]=0;for(;t.heap_len<2;)o[2*(r=t.heap[++t.heap_len]=l<2?++l:0)]=1,t.depth[r]=0,t.opt_len--,s&&(t.static_len-=a[2*r+1]);for(e.max_code=l,n=t.heap_len>>1;n>=1;n--)Z(t,o,n);r=c;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],Z(t,o,1),i=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=i,o[2*r]=o[2*n]+o[2*i],t.depth[r]=(t.depth[n]>=t.depth[i]?t.depth[n]:t.depth[i])+1,o[2*n+1]=o[2*i+1]=r,t.heap[1]=r++,Z(t,o,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,i,r,o,a,s,c=e.dyn_tree,l=e.max_code,u=e.stat_desc.static_tree,d=e.stat_desc.has_stree,p=e.stat_desc.extra_bits,f=e.stat_desc.extra_base,h=e.stat_desc.max_length,v=0;for(o=0;o<=y;o++)t.bl_count[o]=0;for(c[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<m;n++)(o=c[2*c[2*(i=t.heap[n])+1]+1]+1)>h&&(o=h,v++),c[2*i+1]=o,i>l||(t.bl_count[o]++,a=0,i>=f&&(a=p[i-f]),s=c[2*i],t.opt_len+=s*(o+a),d&&(t.static_len+=s*(u[2*i+1]+a)));if(0!==v){do{for(o=h-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[h]--,v-=2}while(v>0);for(o=h;0!==o;o--)for(i=t.bl_count[o];0!==i;)(r=t.heap[--n])>l||(c[2*r+1]!==o&&(t.opt_len+=(o-c[2*r+1])*c[2*r],c[2*r+1]=o),i--)}}(t,e),q(o,l,t.bl_count)}function J(t,e,n){var i,r,o=-1,a=e[1],s=0,c=7,l=4;for(0===a&&(c=138,l=3),e[2*(n+1)+1]=65535,i=0;i<=n;i++)r=a,a=e[2*(i+1)+1],++s<c&&r===a||(s<l?t.bl_tree[2*r]+=s:0!==r?(r!==o&&t.bl_tree[2*r]++,t.bl_tree[2*x]++):s<=10?t.bl_tree[2*O]++:t.bl_tree[2*S]++,s=0,o=r,0===a?(c=138,l=3):r===a?(c=6,l=3):(c=7,l=4))}function $(t,e,n){var i,r,o=-1,a=e[1],s=0,c=7,l=4;for(0===a&&(c=138,l=3),i=0;i<=n;i++)if(r=a,a=e[2*(i+1)+1],!(++s<c&&r===a)){if(s<l)do{V(t,r,t.bl_tree)}while(0!=--s);else 0!==r?(r!==o&&(V(t,r,t.bl_tree),s--),V(t,x,t.bl_tree),H(t,s-3,2)):s<=10?(V(t,O,t.bl_tree),H(t,s-3,3)):(V(t,S,t.bl_tree),H(t,s-11,7));s=0,o=r,0===a?(c=138,l=3):r===a?(c=6,l=3):(c=7,l=4)}}c(R);var tt=!1;function et(t,e,n,r){H(t,(l<<1)+(r?1:0),3),function(t,e,n,r){Y(t),r&&(U(t,n),U(t,~n)),i.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}(t,e,n,!0)}e._tr_init=function(t){tt||(function(){var t,e,n,i,r,o=new Array(y+1);for(n=0,i=0;i<p-1;i++)for(L[i]=n,t=0;t<1<<E[i];t++)A[n++]=i;for(A[n-1]=i,r=0,i=0;i<16;i++)for(R[i]=r,t=0;t<1<<P[i];t++)M[r++]=i;for(r>>=7;i<v;i++)for(R[i]=r<<7,t=0;t<1<<P[i]-7;t++)M[256+r++]=i;for(e=0;e<=y;e++)o[e]=0;for(t=0;t<=143;)j[2*t+1]=8,t++,o[8]++;for(;t<=255;)j[2*t+1]=9,t++,o[9]++;for(;t<=279;)j[2*t+1]=7,t++,o[7]++;for(;t<=287;)j[2*t+1]=8,t++,o[8]++;for(q(j,h+1,o),t=0;t<v;t++)T[2*t+1]=5,T[2*t]=W(t,5);I=new z(j,E,f+1,h,y),D=new z(T,P,0,v,y),F=new z(new Array(0),k,0,g,_)}(),tt=!0),t.l_desc=new B(t.dyn_ltree,I),t.d_desc=new B(t.dyn_dtree,D),t.bl_desc=new B(t.bl_tree,F),t.bi_buf=0,t.bi_valid=0,G(t)},e._tr_stored_block=et,e._tr_flush_block=function(t,e,n,i){var c,l,p=0;t.level>0?(t.strm.data_type===s&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return o;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return a;for(e=32;e<f;e++)if(0!==t.dyn_ltree[2*e])return a;return o}(t)),Q(t,t.l_desc),Q(t,t.d_desc),p=function(t){var e;for(J(t,t.dyn_ltree,t.l_desc.max_code),J(t,t.dyn_dtree,t.d_desc.max_code),Q(t,t.bl_desc),e=g-1;e>=3&&0===t.bl_tree[2*C[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),c=t.opt_len+3+7>>>3,(l=t.static_len+3+7>>>3)<=c&&(c=l)):c=l=n+5,n+4<=c&&-1!==e?et(t,e,n,i):t.strategy===r||l===c?(H(t,(u<<1)+(i?1:0),3),K(t,j,T)):(H(t,(d<<1)+(i?1:0),3),function(t,e,n,i){var r;for(H(t,e-257,5),H(t,n-1,5),H(t,i-4,4),r=0;r<i;r++)H(t,t.bl_tree[2*C[r]+1],3);$(t,t.dyn_ltree,e-1),$(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,p+1),K(t,t.dyn_ltree,t.dyn_dtree)),G(t),i&&Y(t)},e._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(A[n]+f+1)]++,t.dyn_dtree[2*N(e)]++),t.last_lit===t.lit_bufsize-1},e._tr_align=function(t){H(t,u<<1,3),V(t,w,j),function(t){16===t.bi_valid?(U(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},function(t,e,n){"use strict";var i=n(142),r=n(34),o=n(94),a=n(96),s=n(66),c=n(95),l=n(145),u=Object.prototype.toString;function d(t){if(!(this instanceof d))return new d(t);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var n=i.inflateInit2(this.strm,e.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);if(this.header=new l,i.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=o.string2buf(e.dictionary):"[object ArrayBuffer]"===u.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=i.inflateSetDictionary(this.strm,e.dictionary))!==a.Z_OK))throw new Error(s[n])}function p(t,e){var n=new d(e);if(n.push(t,!0),n.err)throw n.msg||s[n.err];return n.result}d.prototype.push=function(t,e){var n,s,c,l,d,p=this.strm,f=this.options.chunkSize,h=this.options.dictionary,v=!1;if(this.ended)return!1;s=e===~~e?e:!0===e?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof t?p.input=o.binstring2buf(t):"[object ArrayBuffer]"===u.call(t)?p.input=new Uint8Array(t):p.input=t,p.next_in=0,p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new r.Buf8(f),p.next_out=0,p.avail_out=f),(n=i.inflate(p,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&h&&(n=i.inflateSetDictionary(this.strm,h)),n===a.Z_BUF_ERROR&&!0===v&&(n=a.Z_OK,v=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),this.ended=!0,!1;p.next_out&&(0!==p.avail_out&&n!==a.Z_STREAM_END&&(0!==p.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(c=o.utf8border(p.output,p.next_out),l=p.next_out-c,d=o.buf2string(p.output,c),p.next_out=l,p.avail_out=f-l,l&&r.arraySet(p.output,p.output,c,l,0),this.onData(d)):this.onData(r.shrinkBuf(p.output,p.next_out)))),0===p.avail_in&&0===p.avail_out&&(v=!0)}while((p.avail_in>0||0===p.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(n=i.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),p.avail_out=0,!0)},d.prototype.onData=function(t){this.chunks.push(t)},d.prototype.onEnd=function(t){t===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=d,e.inflate=p,e.inflateRaw=function(t,e){return(e=e||{}).raw=!0,p(t,e)},e.ungzip=p},function(t,e,n){"use strict";var i=n(34),r=n(92),o=n(93),a=n(143),s=n(144),c=0,l=1,u=2,d=4,p=5,f=6,h=0,v=1,g=2,m=-2,y=-3,b=-4,_=-5,w=8,x=1,O=2,S=3,E=4,P=5,k=6,C=7,j=8,T=9,M=10,A=11,L=12,I=13,D=14,F=15,R=16,z=17,B=18,N=19,U=20,H=21,V=22,W=23,q=24,G=25,Y=26,X=27,Z=28,K=29,Q=30,J=31,$=32,tt=852,et=592,nt=15;function it(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function rt(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=x,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new i.Buf32(tt),e.distcode=e.distdyn=new i.Buf32(et),e.sane=1,e.back=-1,h):m}function ot(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,rt(t)):m}function at(t,e){var n,i;return t&&t.state?(i=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?m:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,ot(t))):m}function st(t,e){var n,r;return t?(r=new function(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0},t.state=r,r.window=null,(n=at(t,e))!==h&&(t.state=null),n):m}var ct,lt,ut=!0;function dt(t){if(ut){var e;for(ct=new i.Buf32(512),lt=new i.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(s(l,t.lens,0,288,ct,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;s(u,t.lens,0,32,lt,0,t.work,{bits:5}),ut=!1}t.lencode=ct,t.lenbits=9,t.distcode=lt,t.distbits=5}function pt(t,e,n,r){var o,a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new i.Buf8(a.wsize)),r>=a.wsize?(i.arraySet(a.window,e,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((o=a.wsize-a.wnext)>r&&(o=r),i.arraySet(a.window,e,n-r,o,a.wnext),(r-=o)?(i.arraySet(a.window,e,n-r,r,0),a.wnext=r,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}e.inflateReset=ot,e.inflateReset2=at,e.inflateResetKeep=rt,e.inflateInit=function(t){return st(t,nt)},e.inflateInit2=st,e.inflate=function(t,e){var n,tt,et,nt,rt,ot,at,st,ct,lt,ut,ft,ht,vt,gt,mt,yt,bt,_t,wt,xt,Ot,St,Et,Pt=0,kt=new i.Buf8(4),Ct=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return m;(n=t.state).mode===L&&(n.mode=I),rt=t.next_out,et=t.output,at=t.avail_out,nt=t.next_in,tt=t.input,ot=t.avail_in,st=n.hold,ct=n.bits,lt=ot,ut=at,Ot=h;t:for(;;)switch(n.mode){case x:if(0===n.wrap){n.mode=I;break}for(;ct<16;){if(0===ot)break t;ot--,st+=tt[nt++]<<ct,ct+=8}if(2&n.wrap&&35615===st){n.check=0,kt[0]=255&st,kt[1]=st>>>8&255,n.check=o(n.check,kt,2,0),st=0,ct=0,n.mode=O;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&st)<<8)+(st>>8))%31){t.msg="incorrect header check",n.mode=Q;break}if((15&st)!==w){t.msg="unknown compression method",n.mode=Q;break}if(ct-=4,xt=8+(15&(st>>>=4)),0===n.wbits)n.wbits=xt;else if(xt>n.wbits){t.msg="invalid window size",n.mode=Q;break}n.dmax=1<<xt,t.adler=n.check=1,n.mode=512&st?M:L,st=0,ct=0;break;case O:for(;ct<16;){if(0===ot)break t;ot--,st+=tt[nt++]<<ct,ct+=8}if(n.flags=st,(255&n.flags)!==w){t.msg="unknown compression method",n.mode=Q;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=Q;break}n.head&&(n.head.text=st>>8&1),512&n.flags&&(kt[0]=255&st,kt[1]=st>>>8&255,n.check=o(n.check,kt,2,0)),st=0,ct=0,n.mode=S;case S:for(;ct<32;){if(0===ot)break t;ot--,st+=tt[nt++]<<ct,ct+=8}n.head&&(n.head.time=st),512&n.flags&&(kt[0]=255&st,kt[1]=st>>>8&255,kt[2]=st>>>16&255,kt[3]=st>>>24&255,n.check=o(n.check,kt,4,0)),st=0,ct=0,n.mode=E;case E:for(;ct<16;){if(0===ot)break t;ot--,st+=tt[nt++]<<ct,ct+=8}n.head&&(n.head.xflags=255&st,n.head.os=st>>8),512&n.flags&&(kt[0]=255&st,kt[1]=st>>>8&255,n.check=o(n.check,kt,2,0)),st=0,ct=0,n.mode=P;case P:if(1024&n.flags){for(;ct<16;){if(0===ot)break t;ot--,st+=tt[nt++]<<ct,ct+=8}n.length=st,n.head&&(n.head.extra_len=st),512&n.flags&&(kt[0]=255&st,kt[1]=st>>>8&255,n.check=o(n.check,kt,2,0)),st=0,ct=0}else n.head&&(n.head.extra=null);n.mode=k;case k:if(1024&n.flags&&((ft=n.length)>ot&&(ft=ot),ft&&(n.head&&(xt=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),i.arraySet(n.head.extra,tt,nt,ft,xt)),512&n.flags&&(n.check=o(n.check,tt,ft,nt)),ot-=ft,nt+=ft,n.length-=ft),n.length))break t;n.length=0,n.mode=C;case C:if(2048&n.flags){if(0===ot)break t;ft=0;do{xt=tt[nt+ft++],n.head&&xt&&n.length<65536&&(n.head.name+=String.fromCharCode(xt))}while(xt&&ft<ot);if(512&n.flags&&(n.check=o(n.check,tt,ft,nt)),ot-=ft,nt+=ft,xt)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=j;case j:if(4096&n.flags){if(0===ot)break t;ft=0;do{xt=tt[nt+ft++],n.head&&xt&&n.length<65536&&(n.head.comment+=String.fromCharCode(xt))}while(xt&&ft<ot);if(512&n.flags&&(n.check=o(n.check,tt,ft,nt)),ot-=ft,nt+=ft,xt)break t}else n.head&&(n.head.comment=null);n.mode=T;case T:if(512&n.flags){for(;ct<16;){if(0===ot)break t;ot--,st+=tt[nt++]<<ct,ct+=8}if(st!==(65535&n.check)){t.msg="header crc mismatch",n.mode=Q;break}st=0,ct=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=L;break;case M:for(;ct<32;){if(0===ot)break t;ot--,st+=tt[nt++]<<ct,ct+=8}t.adler=n.check=it(st),st=0,ct=0,n.mode=A;case A:if(0===n.havedict)return t.next_out=rt,t.avail_out=at,t.next_in=nt,t.avail_in=ot,n.hold=st,n.bits=ct,g;t.adler=n.check=1,n.mode=L;case L:if(e===p||e===f)break t;case I:if(n.last){st>>>=7&ct,ct-=7&ct,n.mode=X;break}for(;ct<3;){if(0===ot)break t;ot--,st+=tt[nt++]<<ct,ct+=8}switch(n.last=1&st,ct-=1,3&(st>>>=1)){case 0:n.mode=D;break;case 1:if(dt(n),n.mode=U,e===f){st>>>=2,ct-=2;break t}break;case 2:n.mode=z;break;case 3:t.msg="invalid block type",n.mode=Q}st>>>=2,ct-=2;break;case D:for(st>>>=7&ct,ct-=7&ct;ct<32;){if(0===ot)break t;ot--,st+=tt[nt++]<<ct,ct+=8}if((65535&st)!=(st>>>16^65535)){t.msg="invalid stored block lengths",n.mode=Q;break}if(n.length=65535&st,st=0,ct=0,n.mode=F,e===f)break t;case F:n.mode=R;case R:if(ft=n.length){if(ft>ot&&(ft=ot),ft>at&&(ft=at),0===ft)break t;i.arraySet(et,tt,nt,ft,rt),ot-=ft,nt+=ft,at-=ft,rt+=ft,n.length-=ft;break}n.mode=L;break;case z:for(;ct<14;){if(0===ot)break t;ot--,st+=tt[nt++]<<ct,ct+=8}if(n.nlen=257+(31&st),st>>>=5,ct-=5,n.ndist=1+(31&st),st>>>=5,ct-=5,n.ncode=4+(15&st),st>>>=4,ct-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=Q;break}n.have=0,n.mode=B;case B:for(;n.have<n.ncode;){for(;ct<3;){if(0===ot)break t;ot--,st+=tt[nt++]<<ct,ct+=8}n.lens[Ct[n.have++]]=7&st,st>>>=3,ct-=3}for(;n.have<19;)n.lens[Ct[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,St={bits:n.lenbits},Ot=s(c,n.lens,0,19,n.lencode,0,n.work,St),n.lenbits=St.bits,Ot){t.msg="invalid code lengths set",n.mode=Q;break}n.have=0,n.mode=N;case N:for(;n.have<n.nlen+n.ndist;){for(;mt=(Pt=n.lencode[st&(1<<n.lenbits)-1])>>>16&255,yt=65535&Pt,!((gt=Pt>>>24)<=ct);){if(0===ot)break t;ot--,st+=tt[nt++]<<ct,ct+=8}if(yt<16)st>>>=gt,ct-=gt,n.lens[n.have++]=yt;else{if(16===yt){for(Et=gt+2;ct<Et;){if(0===ot)break t;ot--,st+=tt[nt++]<<ct,ct+=8}if(st>>>=gt,ct-=gt,0===n.have){t.msg="invalid bit length repeat",n.mode=Q;break}xt=n.lens[n.have-1],ft=3+(3&st),st>>>=2,ct-=2}else if(17===yt){for(Et=gt+3;ct<Et;){if(0===ot)break t;ot--,st+=tt[nt++]<<ct,ct+=8}ct-=gt,xt=0,ft=3+(7&(st>>>=gt)),st>>>=3,ct-=3}else{for(Et=gt+7;ct<Et;){if(0===ot)break t;ot--,st+=tt[nt++]<<ct,ct+=8}ct-=gt,xt=0,ft=11+(127&(st>>>=gt)),st>>>=7,ct-=7}if(n.have+ft>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=Q;break}for(;ft--;)n.lens[n.have++]=xt}}if(n.mode===Q)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=Q;break}if(n.lenbits=9,St={bits:n.lenbits},Ot=s(l,n.lens,0,n.nlen,n.lencode,0,n.work,St),n.lenbits=St.bits,Ot){t.msg="invalid literal/lengths set",n.mode=Q;break}if(n.distbits=6,n.distcode=n.distdyn,St={bits:n.distbits},Ot=s(u,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,St),n.distbits=St.bits,Ot){t.msg="invalid distances set",n.mode=Q;break}if(n.mode=U,e===f)break t;case U:n.mode=H;case H:if(ot>=6&&at>=258){t.next_out=rt,t.avail_out=at,t.next_in=nt,t.avail_in=ot,n.hold=st,n.bits=ct,a(t,ut),rt=t.next_out,et=t.output,at=t.avail_out,nt=t.next_in,tt=t.input,ot=t.avail_in,st=n.hold,ct=n.bits,n.mode===L&&(n.back=-1);break}for(n.back=0;mt=(Pt=n.lencode[st&(1<<n.lenbits)-1])>>>16&255,yt=65535&Pt,!((gt=Pt>>>24)<=ct);){if(0===ot)break t;ot--,st+=tt[nt++]<<ct,ct+=8}if(mt&&0==(240&mt)){for(bt=gt,_t=mt,wt=yt;mt=(Pt=n.lencode[wt+((st&(1<<bt+_t)-1)>>bt)])>>>16&255,yt=65535&Pt,!(bt+(gt=Pt>>>24)<=ct);){if(0===ot)break t;ot--,st+=tt[nt++]<<ct,ct+=8}st>>>=bt,ct-=bt,n.back+=bt}if(st>>>=gt,ct-=gt,n.back+=gt,n.length=yt,0===mt){n.mode=Y;break}if(32&mt){n.back=-1,n.mode=L;break}if(64&mt){t.msg="invalid literal/length code",n.mode=Q;break}n.extra=15&mt,n.mode=V;case V:if(n.extra){for(Et=n.extra;ct<Et;){if(0===ot)break t;ot--,st+=tt[nt++]<<ct,ct+=8}n.length+=st&(1<<n.extra)-1,st>>>=n.extra,ct-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=W;case W:for(;mt=(Pt=n.distcode[st&(1<<n.distbits)-1])>>>16&255,yt=65535&Pt,!((gt=Pt>>>24)<=ct);){if(0===ot)break t;ot--,st+=tt[nt++]<<ct,ct+=8}if(0==(240&mt)){for(bt=gt,_t=mt,wt=yt;mt=(Pt=n.distcode[wt+((st&(1<<bt+_t)-1)>>bt)])>>>16&255,yt=65535&Pt,!(bt+(gt=Pt>>>24)<=ct);){if(0===ot)break t;ot--,st+=tt[nt++]<<ct,ct+=8}st>>>=bt,ct-=bt,n.back+=bt}if(st>>>=gt,ct-=gt,n.back+=gt,64&mt){t.msg="invalid distance code",n.mode=Q;break}n.offset=yt,n.extra=15&mt,n.mode=q;case q:if(n.extra){for(Et=n.extra;ct<Et;){if(0===ot)break t;ot--,st+=tt[nt++]<<ct,ct+=8}n.offset+=st&(1<<n.extra)-1,st>>>=n.extra,ct-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=Q;break}n.mode=G;case G:if(0===at)break t;if(ft=ut-at,n.offset>ft){if((ft=n.offset-ft)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=Q;break}ft>n.wnext?(ft-=n.wnext,ht=n.wsize-ft):ht=n.wnext-ft,ft>n.length&&(ft=n.length),vt=n.window}else vt=et,ht=rt-n.offset,ft=n.length;ft>at&&(ft=at),at-=ft,n.length-=ft;do{et[rt++]=vt[ht++]}while(--ft);0===n.length&&(n.mode=H);break;case Y:if(0===at)break t;et[rt++]=n.length,at--,n.mode=H;break;case X:if(n.wrap){for(;ct<32;){if(0===ot)break t;ot--,st|=tt[nt++]<<ct,ct+=8}if(ut-=at,t.total_out+=ut,n.total+=ut,ut&&(t.adler=n.check=n.flags?o(n.check,et,ut,rt-ut):r(n.check,et,ut,rt-ut)),ut=at,(n.flags?st:it(st))!==n.check){t.msg="incorrect data check",n.mode=Q;break}st=0,ct=0}n.mode=Z;case Z:if(n.wrap&&n.flags){for(;ct<32;){if(0===ot)break t;ot--,st+=tt[nt++]<<ct,ct+=8}if(st!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=Q;break}st=0,ct=0}n.mode=K;case K:Ot=v;break t;case Q:Ot=y;break t;case J:return b;case $:default:return m}return t.next_out=rt,t.avail_out=at,t.next_in=nt,t.avail_in=ot,n.hold=st,n.bits=ct,(n.wsize||ut!==t.avail_out&&n.mode<Q&&(n.mode<X||e!==d))&&pt(t,t.output,t.next_out,ut-t.avail_out)?(n.mode=J,b):(lt-=t.avail_in,ut-=t.avail_out,t.total_in+=lt,t.total_out+=ut,n.total+=ut,n.wrap&&ut&&(t.adler=n.check=n.flags?o(n.check,et,ut,t.next_out-ut):r(n.check,et,ut,t.next_out-ut)),t.data_type=n.bits+(n.last?64:0)+(n.mode===L?128:0)+(n.mode===U||n.mode===F?256:0),(0===lt&&0===ut||e===d)&&Ot===h&&(Ot=_),Ot)},e.inflateEnd=function(t){if(!t||!t.state)return m;var e=t.state;return e.window&&(e.window=null),t.state=null,h},e.inflateGetHeader=function(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?m:(n.head=e,e.done=!1,h):m},e.inflateSetDictionary=function(t,e){var n,i=e.length;return t&&t.state?0!==(n=t.state).wrap&&n.mode!==A?m:n.mode===A&&r(1,e,i,0)!==n.check?y:pt(t,e,i,i)?(n.mode=J,b):(n.havedict=1,h):m},e.inflateInfo="pako inflate (from Nodeca project)"},function(t,e,n){"use strict";t.exports=function(t,e){var n,i,r,o,a,s,c,l,u,d,p,f,h,v,g,m,y,b,_,w,x,O,S,E,P;n=t.state,i=t.next_in,E=t.input,r=i+(t.avail_in-5),o=t.next_out,P=t.output,a=o-(e-t.avail_out),s=o+(t.avail_out-257),c=n.dmax,l=n.wsize,u=n.whave,d=n.wnext,p=n.window,f=n.hold,h=n.bits,v=n.lencode,g=n.distcode,m=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;t:do{h<15&&(f+=E[i++]<<h,h+=8,f+=E[i++]<<h,h+=8),b=v[f&m];e:for(;;){if(f>>>=_=b>>>24,h-=_,0===(_=b>>>16&255))P[o++]=65535&b;else{if(!(16&_)){if(0==(64&_)){b=v[(65535&b)+(f&(1<<_)-1)];continue e}if(32&_){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}w=65535&b,(_&=15)&&(h<_&&(f+=E[i++]<<h,h+=8),w+=f&(1<<_)-1,f>>>=_,h-=_),h<15&&(f+=E[i++]<<h,h+=8,f+=E[i++]<<h,h+=8),b=g[f&y];n:for(;;){if(f>>>=_=b>>>24,h-=_,!(16&(_=b>>>16&255))){if(0==(64&_)){b=g[(65535&b)+(f&(1<<_)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(x=65535&b,h<(_&=15)&&(f+=E[i++]<<h,(h+=8)<_&&(f+=E[i++]<<h,h+=8)),(x+=f&(1<<_)-1)>c){t.msg="invalid distance too far back",n.mode=30;break t}if(f>>>=_,h-=_,x>(_=o-a)){if((_=x-_)>u&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(O=0,S=p,0===d){if(O+=l-_,_<w){w-=_;do{P[o++]=p[O++]}while(--_);O=o-x,S=P}}else if(d<_){if(O+=l+d-_,(_-=d)<w){w-=_;do{P[o++]=p[O++]}while(--_);if(O=0,d<w){w-=_=d;do{P[o++]=p[O++]}while(--_);O=o-x,S=P}}}else if(O+=d-_,_<w){w-=_;do{P[o++]=p[O++]}while(--_);O=o-x,S=P}for(;w>2;)P[o++]=S[O++],P[o++]=S[O++],P[o++]=S[O++],w-=3;w&&(P[o++]=S[O++],w>1&&(P[o++]=S[O++]))}else{O=o-x;do{P[o++]=P[O++],P[o++]=P[O++],P[o++]=P[O++],w-=3}while(w>2);w&&(P[o++]=P[O++],w>1&&(P[o++]=P[O++]))}break}}break}}while(i<r&&o<s);i-=w=h>>3,f&=(1<<(h-=w<<3))-1,t.next_in=i,t.next_out=o,t.avail_in=i<r?r-i+5:5-(i-r),t.avail_out=o<s?s-o+257:257-(o-s),n.hold=f,n.bits=h}},function(t,e,n){"use strict";var i=n(34),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,n,c,l,u,d,p){var f,h,v,g,m,y,b,_,w,x=p.bits,O=0,S=0,E=0,P=0,k=0,C=0,j=0,T=0,M=0,A=0,L=null,I=0,D=new i.Buf16(16),F=new i.Buf16(16),R=null,z=0;for(O=0;O<=15;O++)D[O]=0;for(S=0;S<c;S++)D[e[n+S]]++;for(k=x,P=15;P>=1&&0===D[P];P--);if(k>P&&(k=P),0===P)return l[u++]=20971520,l[u++]=20971520,p.bits=1,0;for(E=1;E<P&&0===D[E];E++);for(k<E&&(k=E),T=1,O=1;O<=15;O++)if(T<<=1,(T-=D[O])<0)return-1;if(T>0&&(0===t||1!==P))return-1;for(F[1]=0,O=1;O<15;O++)F[O+1]=F[O]+D[O];for(S=0;S<c;S++)0!==e[n+S]&&(d[F[e[n+S]]++]=S);if(0===t?(L=R=d,y=19):1===t?(L=r,I-=257,R=o,z-=257,y=256):(L=a,R=s,y=-1),A=0,S=0,O=E,m=u,C=k,j=0,v=-1,g=(M=1<<k)-1,1===t&&M>852||2===t&&M>592)return 1;for(;;){b=O-j,d[S]<y?(_=0,w=d[S]):d[S]>y?(_=R[z+d[S]],w=L[I+d[S]]):(_=96,w=0),f=1<<O-j,E=h=1<<C;do{l[m+(A>>j)+(h-=f)]=b<<24|_<<16|w|0}while(0!==h);for(f=1<<O-1;A&f;)f>>=1;if(0!==f?(A&=f-1,A+=f):A=0,S++,0==--D[O]){if(O===P)break;O=e[n+d[S]]}if(O>k&&(A&g)!==v){for(0===j&&(j=k),m+=E,T=1<<(C=O-j);C+j<P&&!((T-=D[C+j])<=0);)C++,T<<=1;if(M+=1<<C,1===t&&M>852||2===t&&M>592)return 1;l[v=A&g]=k<<24|C<<16|m-u|0}}return 0!==A&&(l[m+A]=O-j<<24|64<<16|0),p.bits=k,0}},function(t,e,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},,function(t,e,n){"use strict";(function(t){var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.IloveTool=void 0;var a=n(74),s=n(111),c=n(151),l=n(98),u=o(n(16)),d=n(155),p=n(13),f=n(17),h=n(15),v=n(125),g=n(156),m=function(){function e(t){var e=this;void 0===t&&(t={}),this.initTool=function(){e.config=new l.Config({tool:e.tool,subtool:e.subtool,config:e.configData}),e.initProcessManager(),e.optionsManager=e.getOptionsManager(),e.initUploader(),e.beforeInit().then(function(){},function(){}),e.listenEventTaskIdChanged()},this.action=null,this.alias=null,this.tool=null,this.subtool=null,this.realTool=null,this.toolText=null,this.fileLimits=null,this.taskId=null,this.parentId=null,this.parentTool=null,this.covers_hidden=!1,this.token=null,this.userId=null,this.startServer=null,this.workerServer=null,this.level="user",this.levelTemp="user",this.userToken=null,this.servers=null,this.downloadUrl=null,this.error=null,this.site=null,this.country=null,this.isInitialized=!1,this.files=new a.FileStack,this.processManager=null,this.uploadManager=null,this.optionsManager=null,this.defaultOptions=null,this.configData=n(157),this.config=null,Object.assign(this,t),this.subtool||(this.subtool=this.tool),this.alias&&(this.subtool=this.alias),null!=this.userId&&u.configureScope(function(t){t.setUser({id:e.userId})}),null!=this.country&&u.configureScope(function(t){t.setTag("country",e.country)}),null!=this.taskId&&u.configureScope(function(t){t.setTag("taskId",e.taskId)}),null==this.workerServer&&this.servers&&(this.workerServer=this.servers[Math.floor(Math.random()*this.servers.length)]),window.Sentry=u,window.ilovetools={user:h.UserModel},g.Modal.init()}return e.prototype.variableUserLevel=function(){var t=document.URL.split("#");if("n"!==(t.length>1?t[1]:null)){for(var e=window.ilovepdfConfig.fp,n=!1,i=0;i<e;i++){var r=null;if(window.Cookies&&(r=window.Cookies.get("fp"+i)),null==r){n=!0;break}}!0===n&&"premium"!==this.level&&(window.ilovepdfConfig.fileLimits=this.fileLimits=this.allFileLimits.temp_limits,"user"==this.level?this.allFileLimits.limits=this.allFileLimits.temp_limits:this.allFileLimits.registered_limits=this.allFileLimits.temp_limits,window.ilovepdfConfig.levelTemp=this.levelTemp="premium")}},e.prototype.init=function(){if("tool"==this.action&&null!=this.tool){var t=this.tool==this.subtool?this.tool.replace("image",""):this.tool.replace("image",this.subtool);this.alias=t,window.Cookies&&window.Cookies.set("lastTool",t),this.variableUserLevel(),this.initTool(),v.Network.checkNetwork()}this.isInitialized=!0},e.prototype.beforeInit=function(){var e=this,n=this;return new Promise(function(i,r){if(null!=n.parentId){f.Tools.loadingFromPreviousStart(),window.ga("send","event","tool","chained",e.tool+"-"+e.parentTool);var o=new d.Chain({parentId:n.parentId,workerServer:n.workerServer,tool:n.tool,token:n.token});o.makeChild().then(function(e){n.uploadManager.taskId=n.uploadManager.plupload.taskId=n.processManager.api.taskId=n.processManager.taskId=n.taskId=e.task,n.uploadManager.plupload&&n.uploadManager.plupload.uploader&&n.uploadManager.plupload.uploader&&n.uploadManager.plupload.uploader.settings&&(n.uploadManager.plupload.uploader.settings.multipart_params.task=n.uploadManager.taskId);try{n.optionsManager.limits&&n.optionsManager.limits.checkFileLimits(0,Object.keys(e.files).length)}catch(e){return f.Tools.loadingFromPreviousFail(),void t("#closePrevious").on("click",function(){f.Tools.loadingFromPreviousEnd(),i()})}for(var r in e.files)if(e.files.hasOwnProperty(r)){var s=f.Tools.randomId(),c=new a.File({id:s,canvasId:s,filename:e.files[r],name:e.files[r],server_filename:r,url:o.getFileUrl(e.task,r),loaded:100,percent:100,origin:"chained",runtime:"html5"});n.files.addFile(c),n.optionsManager.fileAdded(c,n.uploadManager.id)}f.Tools.loadingFromPreviousEnd(),i()},function(e){""==e?(u.configureScope(function(t){t.setExtra("parent_id",n.parentId),t.setExtra("tool",n.tool)}),u.captureMessage("Error on child creation: Options fail",p.Severity.Error)):e.error&&e.error.type&&"TaskRestartError"==e.error.type?(u.configureScope(function(t){t.setExtra("parent_id",n.parentId),t.setExtra("tool",n.tool),t.setExtra("error",e)}),u.captureMessage("Error on child creation, parent removed",p.Severity.Error)):(u.configureScope(function(t){t.setExtra("parent_id",n.parentId),t.setExtra("tool",n.tool),t.setExtra("error",e)}),u.captureMessage("Error on child creation",p.Severity.Error)),f.Tools.loadingFromPreviousFail(),t("#closePrevious").on("click",function(){f.Tools.loadingFromPreviousEnd(),i()})})}else i()})},e.prototype.initProcessManager=function(){this.processManager=new s.Process({taskId:this.taskId,tool:this.tool,site:this.site,subtool:this.subtool,options:{},startServer:this.startServer,workerServer:this.workerServer,files:this.files,token:this.token,userId:this.userId,downloadUrl:this.downloadUrl})},e.prototype.initUploader=function(){this.uploadManager=new c.UploadManager({id:"pickfiles",files:this.files,startServer:this.startServer,workerServer:this.workerServer,optionsManager:this.optionsManager,processManager:this.processManager,config:this.config,token:this.token,taskId:this.taskId,tool:this.tool,servers:this.servers})},e.prototype.getOptionsManager=function(){return null},e.prototype.getToolOptions=function(){return{processManager:this.processManager,tool:this.tool,subtool:this.subtool,toolText:this.toolText,startServer:this.startServer,workerServer:this.workerServer,defaultOptions:this.defaultOptions,files:this.files,pdfViewer:this.pdfViewer,config:this.config,fileLimits:this.fileLimits,allFileLimits:this.allFileLimits,level:this.level,levelTemp:this.levelTemp,userToken:this.userToken}},e.prototype.changeServer=function(t){this.uploadManager.workerServer=t,this.uploadManager.plupload.workerServer=t,this.uploadManager.plupload.uploader.setOption("url",t+"/"+this.uploadManager.plupload.apiVersion+"/upload"),"changeServer"in this.optionsManager&&this.optionsManager.changeServer(t),this.uploadManager.workerServer=t},e.prototype.listenEventTaskIdChanged=function(){var t=this;window.addEventListener("taskIdChanged",function(e){var n=e.detail.taskId;t.processManager.taskId=n,t.uploadManager.plupload.changeTaskId(n),t.processManager.api.taskId=n,window.ilovepdfConfig.taskId=t.processManager.taskId=t.processManager.api.taskId=n})},e}();e.IloveTool=m}).call(this,n(1))},,function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ConfirmFilesProcessContext=void 0;var o=n(48),a=n(150),s=n(7),c=function(t){function e(e){var n=t.call(this,e)||this;return n.contentName="ConfirmFilesProcessContext",n.triggerReason="triggerReason"in e?e.triggerReason:void 0,n.limits="limits"in e?e.limits:void 0,n.premiumFeatureName="premiumFeatureName"in e?e.premiumFeatureName:void 0,n.tool=e.tool,n}return r(e,t),e.prototype.getInitialState=function(){return new a.DefaultState},e.prototype.remove=function(){var t=this.getState();t._cleanup(),t.dispatchEvent(new s.IloveEvent("end",{unload:!0}))},e}(o.ContextBase);e.ConfirmFilesProcessContext=c},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultState=void 0;var a=n(18),s=n(7),c=o(n(63)),l=n(71),u=n(15),d=n(35),p=n(50),f=n(8),h=n(60),v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="DefaultState",e.LAYOUT_TEMPLATE_NAME="confirm-files",e.INITIAL_SCREEN="default",e.onDomReady=function(){e.changeScreen(e.getInitialScreen()),e.clearLoadingScreen(),e.init()},e._onYesButtonClick=function(t){if(t.preventDefault(),u.UserModel.isRealPremium())e.dispatchEvent(new s.IloveEvent("end"));else{var n=new c.default({dialogName:"becomePremium"});n.setContentBuilder(function(){return new l.PremiumContext({tool:e.ctx.tool,triggerReason:e.ctx.triggerReason,limits:e.ctx.limits})}),n.show(),n.addEventListener("closed",function(){u.UserModel.isPremium()&&(p.Analytics.send("limits","premium",e.ctx.tool+"-"+e.ctx.triggerReason),window.ga("send","event","limits","premium",e.ctx.tool+"-"+e.ctx.triggerReason),e._cleanup(),e.dispatchEvent(new s.IloveEvent("end")))})}},e._onNoButtonClick=function(t){if(t.preventDefault(),!1===e.ctx.limits.canContinueWithoutPremium())return p.Analytics.send("limits","cancel",e.ctx.tool+"-"+e.ctx.triggerReason),window.ga("send","event","limits","cancel",e.ctx.tool+"-"+e.ctx.triggerReason),void window.location.reload();p.Analytics.send("limits","free",e.ctx.tool+"-"+e.ctx.triggerReason),window.ga("send","event","limits","free",e.ctx.tool+"-"+e.ctx.triggerReason),e._cleanup(),e.dispatchEvent(new s.IloveEvent("end"))},e}return r(e,t),e.prototype.getInitialScreen=function(){return this.INITIAL_SCREEN},e.prototype.init=function(){this.setTexts(),this.showCorrectImage(),p.Analytics.send("limits","show",this.ctx.limits.getTool()),window.ga("send","event","limits","show",this.ctx.limits.getTool());var t=this.actionAllFilesYesBtn;if(t&&t.length>0)for(var e=0;e<t.length;e++)t[e].addEventListener("click",this._onYesButtonClick);var n=this.actionAllFilesNoBtn;if(n&&n.length>0)for(var i=0;i<n.length;i++)n[i].addEventListener("click",this._onNoButtonClick);this.initActions()},e.prototype.showFilesToRemove=function(){var t=this.ctx.limits.getLimitedFilenames();this.domRoot.querySelector("#confirmFiles").innerHTML=t.join("<br>")},e.prototype.showCorrectImage=function(){var t=this.domRoot.querySelector(".ocr__icon img"),e="limit";switch(this.ctx.triggerReason){case h.REASON.ERROR_FILES:e="files";break;case h.REASON.ERROR_SIZE:e="size";break;case h.REASON.ERROR_PAGES:e="pages"}t.src=t.src.replace("limit.svg",e+".svg")},Object.defineProperty(e.prototype,"actionAllFilesYesBtn",{get:function(){return this.domStateRoot.querySelectorAll("[next-from-confirm-files-yes]")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"actionAllFilesNoBtn",{get:function(){return this.domStateRoot.querySelectorAll("[next-from-confirm-files-no]")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"taskLimits",{get:function(){var t;return this.currentLimits&&this.premiumLimits||(t=[this.ctx.limits.fileLimits[this.ctx.tool],this.ctx.limits.allFileLimits.premium_limits[this.ctx.tool]],this.currentLimits=t[0],this.premiumLimits=t[1]),[this.currentLimits,this.premiumLimits]},enumerable:!1,configurable:!0}),e.prototype.setTexts=function(){var t,e,n,i,r,o,a,s,c,l,u=this.domRoot.querySelector("#confirmTitle"),d=this.domRoot.querySelector("#confirmCurrent"),p=this.domRoot.querySelector("#confirmPremium"),v=this.domRoot.querySelector(".limit-slide__slide__current"),g=this.domRoot.querySelector("#confirmRemove"),m=this.domRoot.querySelector("#confirmLimit"),y=this.domRoot.querySelector("#confirmUse"),b=this.domRoot.querySelector("[next-from-confirm-files-no]"),_=this.domRoot.querySelector("[next-from-confirm-files-yes]"),w=this.ctx.limits.canContinueWithoutPremium();switch(e=(t=this.taskLimits)[0],n=t[1],this.ctx.triggerReason){case h.REASON.ERROR_FILES:if(!this.ctx.limits)throw"Limits object is needed to translate text";i=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesNum_title"]').innerHTML,u.innerHTML=f.Lang.tr(i,{n:e.files}),l=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesNum_added"]').innerHTML,v.setAttribute("data-title",f.Lang.tr(l,{n:this.ctx.limits.files.countNotIgnored()})),o=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesNum_premium"]').innerHTML,p.innerHTML=f.Lang.tr(o,{n:n.files}),r=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesNum_premium"]').innerHTML,d.innerHTML=f.Lang.tr(r,{n:e.files}),0==w&&(a=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesNum_cancel"]').innerHTML,g.innerHTML=f.Lang.tr(a,{n:n.files}));break;case h.REASON.ERROR_SIZE:if(!this.ctx.limits)throw"Limits object is needed to translate text";var x=e.mb,O=Math.round(100*x/1e3)/100,S=n.mb,E=Math.round(100*S/1e3)/100,P=Math.round(100*this.ctx.limits.files.getFileSizeNotIgnored()/1024/1024)/100,k=Math.round(100*P/1e3)/100;x<1e3?(i=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesSizeMb_title"]').innerHTML,u.innerHTML=f.Lang.tr(i,{n:x})):(i=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesSizeGb_title"]').innerHTML,u.innerHTML=f.Lang.tr(i,{n:O})),P<1e3?(l=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesSizeMb_added"]').innerHTML,v.setAttribute("data-title",f.Lang.tr(l,{n:P}))):(l=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesSizeGb_added"]').innerHTML,v.setAttribute("data-title",f.Lang.tr(l,{n:k}))),S<1e3?(o=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesSizeMb_premium"]').innerHTML,p.innerHTML=f.Lang.tr(o,{n:S})):(o=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesSizeGb_premium"]').innerHTML,p.innerHTML=f.Lang.tr(o,{n:E})),x<1e3?(r=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesSizeMb_current"]').innerHTML,d.innerHTML=f.Lang.tr(r,{n:x})):(r=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesSizeGb_current"]').innerHTML,d.innerHTML=f.Lang.tr(r,{n:O})),0==w&&(S<1e3?(a=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesSizeMb_cancel"]').innerHTML,g.innerHTML=f.Lang.tr(a,{n:S})):(a=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesSizeGb_cancel"]').innerHTML,g.innerHTML=f.Lang.tr(a,{n:E})));break;case h.REASON.ERROR_PAGES:if(!this.ctx.limits)throw"Limits object is needed to translate text";i=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesPages_title"]').innerHTML,u.innerHTML=f.Lang.tr(i,{n:e.pages}),l=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesPages_added"]').innerHTML,v.setAttribute("data-title",f.Lang.tr(l,{n:this.ctx.limits.files.getFilePagesNotIgnored()})),o=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesPages_premium"]').innerHTML,p.innerHTML=f.Lang.tr(o,{n:n.pages}),r=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesPages_current"]').innerHTML,d.innerHTML=f.Lang.tr(r,{n:e.pages}),0==w&&(a=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesPages_cancel"]').innerHTML,g.innerHTML=f.Lang.tr(a,{n:n.pages}))}if(s=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFiles_limit"]').innerHTML,m.innerHTML=f.Lang.tr(s,{n:this.ctx.limits.files.countNotLimited()}),c=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFiles_use"]').innerHTML,y.innerHTML=f.Lang.tr(c,{n:this.ctx.limits.files.countNotIgnored()}),0==w)b.innerHTML=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFiles_cancel"]').innerHTML,_.querySelector("#confirmUse").remove(),this.initAllFeaturesTooltip(this.domRoot);else{a=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFiles_remove"]').innerHTML,g.innerHTML=f.Lang.tr(a,{n:this.ctx.limits.getLimitedFiles().length});var C=g.querySelector("span");C&&C.setAttribute("title",this.getFilesToRemove())}},Object.defineProperty(e.prototype,"limitSilder",{get:function(){return this.domRoot.querySelector(".limit-slide__slide__free")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"addedSilder",{get:function(){return this.domRoot.querySelector(".limit-slide__slide__current")},enumerable:!1,configurable:!0}),e.prototype.initActions=function(){var t,e,n,i,r,o,a=this;switch(e=(t=this.taskLimits)[0],n=t[1],this.ctx.triggerReason){case h.REASON.ERROR_FILES:i=e.files,r=this.ctx.limits.files.countNotIgnored(),o=n.files;break;case h.REASON.ERROR_SIZE:i=e.mb,r=this.ctx.limits.files.getFileSizeNotIgnored(),o=1024*n.mb*1024;break;case h.REASON.ERROR_PAGES:i=e.pages,r=this.ctx.limits.files.getFilePagesNotIgnored(),o=n.pages}var s=100*i/o,c=100*r/o;s<3&&(s=3),c<4&&(c=4),this.sliderTimeout=window.setTimeout(function(){a.limitSilder.style.width=s+"%";var t=a.addedSilder;document.body.classList.contains("rtl")?t.style.right=c+"%":t.style.left=c+"%",t.classList.add("tooltip"),a.sliderTooltipTimeout=window.setTimeout(function(){d.Tooltip.init()},1e3)},200)},e.prototype._cleanup=function(){var t,e,n=this.addedSilder;window.clearTimeout(this.sliderTimeout),window.clearTimeout(this.sliderTooltipTimeout),n&&(null===(e=null===(t=n)||void 0===t?void 0:t._tippy)||void 0===e||e.destroy(),n.classList.remove("tooltip"))},e.prototype.getFilesToRemove=function(){var t=this.ctx.limits.getLimitedFilenames();return t.slice(0,9).join("<br>")+(t.length>9?"<br>...":"")},e.prototype.initAllFeaturesTooltip=function(t){var e=this;if(!this.tooltipRoot&&(this.tooltipRoot=t.querySelector(".new-premium__all-features-tooltip"),this.tooltipRoot)){var n=t.querySelector(".new-premium__all-features-tooltip__html-template");n&&(this.tooltipRoot.classList.add("tooltip"),window.setTimeout(function(){window.tippy(e.tooltipRoot,{allowHTML:!0,theme:"light new-premium-all-features-tooltip",content:n.innerHTML,placement:"bottom",arrow:!0,animation:"fade",trigger:"mouseenter",interactive:!0,zIndex:99999})},1e3))}},e}(a.StateBase);e.DefaultState=v},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.UploadManager=void 0;var i=n(152),r=n(153),o=n(107),a=n(35),s=n(154),c=function(){function e(t){this.id="pickfiles",this.optionsManager=null,this.processManager=null,this.config=null,this.files=null,this.workerServer=null,this.startServer=null,this.token=null,this.tool=null,this.taskId=null,this.servers=null,Object.assign(this,t),this.plupload=null,this.drive=null,this.dropbox=null,this.firstFile=!1,this.init()}return e.prototype.init=function(){this.plupload=new o.PluploadUpload({id:this.id,optionsManager:this.optionsManager,processManager:this.processManager,config:this.config,files:this.files,workerServer:this.workerServer,startServer:this.startServer,token:this.token,tool:this.tool,taskId:this.taskId,servers:this.servers,haveDrop:!0,dropElement:"workArea"}),window.pluploader=this.plupload,this.drive=new i.DriveUpload({id:"gdrive_file_selector",optionsManager:this.optionsManager,processManager:this.processManager,config:this.config}),this.dropbox=new r.DropboxUpload({id:"dropbox_file_selector",optionsManager:this.optionsManager,processManager:this.processManager,config:this.config}),this.ws=new s.WsUpload({optionsManager:this.optionsManager});var e=this;t("#pickfiles").on("click",function(){e.firstClick()}),a.Tooltip.disable("#pickfiles"),t("#gdrive_file_selector").on("click",function(){e.firstClick()}),t("#dropbox_file_selector").on("click",function(){e.firstClick()})},e.prototype.firstClick=function(){if("pickfiles"==this.id){0==this.firstFile&&(this.firstFile=!0)}},e}();e.UploadManager=c}).call(this,n(1))},function(t,e,n){"use strict";(function(t){var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&o(e,t,n);return a(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.DriveUpload=void 0;var c=n(127),l=s(n(16)),u=150,d=function(e){function n(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.optionsManager=null,n.processManager=null,n.pickerApiLoaded=!1,n.oauthToken=null,n.userEmail=null,n.id=null,n.config=null,Object.assign(n,t),n.src="//apis.google.com/js/client.js",n.start(),n}return r(n,e),n.prototype.getUploadParams=function(t){return{task:this.processManager.taskId,google_email:this.userEmail,cloud_source:"drive",cloud_file:t.id,preview:1==window.processStart?0:1,pdfinfo:1==window.pdfinfo?1:0}},n.prototype.drive=function(){var e=this,n=this.config.getConfig("mimeTypes");function i(){window.gapi.auth2.authorize({client_id:e.clientId,scope:e.scope,fetch_basic_profile:!1,immediate:!1},a)}function r(){1==e.preloadSrc?document.getElementById(e.id).addEventListener("click",i):(document.getElementById(e.id).removeEventListener("click",e.init),document.getElementById(e.id).addEventListener("click",i),i())}function o(){e.pickerApiLoaded=!0,s()}function a(t){t&&!t.error&&(e.oauthToken=t.access_token,window.gapi.client.load("oauth2","v2",function(){window.gapi.client.oauth2.userinfo.get().execute(function(t){e.userEmail=t.email})}),s())}function s(){if(e.pickerApiLoaded&&e.oauthToken){var t=window.google.picker.ViewId.DOCS;if("Pdf files"==n[0].title)t=window.google.picker.ViewId.PDFS;else if("Word files"==n[0].title)t=window.google.picker.ViewId.DOCUMENTS;else if("Excel files"==n[0].title)t=window.google.picker.ViewId.SPREADSHEETS;else if("Powerpoint files"==n[0].title)t=window.google.picker.ViewId.PRESENTATIONS;else if("Image files"==n[0].title)t=window.google.picker.ViewId.DOCS_IMAGES;else if(void 0!=n[0].mime){new window.google.picker.View(window.google.picker.ViewId.DOCS).setMimeTypes(n[0].mime)}(new window.google.picker.PickerBuilder).enableFeature(window.google.picker.Feature.NAV_HIDDEN).enableFeature(window.google.picker.Feature.MULTISELECT_ENABLED).addView(t).setOAuthToken(e.oauthToken).setDeveloperKey(e.developerKey).setCallback(c).build().setVisible(!0)}}function c(n){if(n[window.google.picker.Response.ACTION]==window.google.picker.Action.PICKED)for(var i=n[window.google.picker.Response.DOCUMENTS],r=!1,o=function(i){n[window.google.picker.Response.DOCUMENTS].length;var o,a=n[window.google.picker.Response.DOCUMENTS][i];a[window.google.picker.Document.URL],a[window.google.picker.Document.NAME],o=a[window.google.picker.Document.ID],window.setTimeout(function(){if(!r){var n=window.gapi.client.newBatch(),i=function(t){return window.gapi.client.request({path:"/drive/v2/files/"+t,method:"GET"})}(o);n.add(i),n.then(function(n,i){(n.status=200)&&t.each(n.result,function(t,n){200==n.status&&e.fileAdded(n.result).then(function(){e.uploadFile(n.result,0)},function(t){e.optionsManager.removeFile(n.result.id),r=!0})})},function(t){})}},u*i)},a=0;a<i.length;a++)o(a)}window.gapi.load("auth2",r),window.gapi.load("picker",o)},n.prototype.fileAdded=function(t){t.runtime="html5",t.percent=0,t.service="drive",t.origin="drive",t.name=t.title,t.filename=t.title,t.uri=this.URL_API+"files/"+t.id+"?alt=media",t.uri=t.uri,t.url=t.thumbnailLink,t.size=t.fileSize,t.token=this.oauthToken,t.canvasId=t.id;try{t.width=t.imageMediaMetadata.width,t.height=t.imageMediaMetadata.height}catch(t){}if(t.mimeType)switch(t.mimeType){case"application/vnd.google-apps.document":t.extension="docx";break;case"application/vnd.google-apps.presentation":t.extension="pptx";break;case"application/vnd.google-apps.spreadsheet":t.extension="xlsx"}this.optionsManager.files.addFile(t);var e=this.optionsManager.checkLimits([t],"drive");return e.length>0?this.optionsManager.fileAdded(e[0],"drive"):Promise.reject()},n.prototype.uploadFile=function(t,e){var n=this;void 0===e&&(e=0);var i=this,r=500*e;window.setTimeout(function(){n.processManager.api.request("POST","upload",i.getUploadParams(t)).then(function(e){i.processManager.files.updateFile(t.id,{process:100,percent:100,server_filename:e.server_filename}),i.optionsManager.fileUploaded(t.id,e)},function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(t){e={}}e.email=i.userEmail,e.file=t.id,t.error=!0,i.processManager.files.updateFile(t.id,{process:0,percent:0,error:!0}),i.optionsManager.invalidUpload({error:"CloudError",file:{id:t.id}}),l.configureScope(function(t){t.setExtra("error",e)}),l.captureMessage("Upload from drive error"),i.optionsManager.invalidUpload(e)})},r)},n.prototype.downloadFile=function(t){var e=this;return new Promise(function(n,i){var r=new XMLHttpRequest;r.responseType="arraybuffer",r.onload=function(){if(200===r.status){var t=r.response;n(t)}},r.onprogress=function(t){t.loaded,t.total},r.open("GET",e.URL_API+"files/"+t.id+"?alt=media"),r.setRequestHeader("Authorization","Bearer "+e.oauthToken),r.send()})},n}(c.DriveService);e.DriveUpload=d}).call(this,n(1))},function(t,e,n){"use strict";(function(t){var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&o(e,t,n);return a(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.DropboxUpload=void 0;var c=n(128),l=s(n(16)),u=function(e){function n(n){void 0===n&&(n={});var i=e.call(this,n)||this;return i.dropbox=function(){var e=i,n=i.config.getConfig("mimeTypes")[0].extensions.split(","),r=[];t.each(n,function(t,e){r.push("."+e)}),window.Dropbox.choose({success:function(n){t.each(n,function(t,n){e.fileAdded(n),e.uploadFile(n)})},cancel:function(){},error:function(t){l.configureScope(function(e){e.setExtra("error",t)}),l.captureMessage("Dropbox upload error")},linkType:"direct",multiselect:!0,extensions:r})},i.optionsManager=null,i.processManager=null,i.id=null,i.config=null,Object.assign(i,n),i.start(),i}return r(n,e),n.prototype.fileAdded=function(t){t.id=t.id.replace(":",""),t.runtime="html5",t.percent=0,t.service="dropbox",t.url=t.link,t.size=t.bytes,t.canvasId=t.id,t.filename=t.name,t.origin="dropbox",this.optionsManager.files.addFile(t),this.optionsManager.checkLimits([],""),this.optionsManager.fileAdded(t,"dropbox")},n.prototype.getUploadParams=function(t){return{task:this.processManager.taskId,cloud_source:"dropbox",cloud_file:t.link,dropbox_link:t.link,preview:1==window.processStart?0:1,pdfinfo:1==window.pdfinfo?1:0}},n.prototype.uploadFile=function(t){var e=this;this.processManager.api.request("POST","upload",this.getUploadParams(t)).then(function(n){e.processManager.files.updateFile(t.id,{process:100,percent:100,server_filename:n.server_filename}),e.optionsManager.fileUploaded(t.id,n)},function(n){t.error=!0,e.processManager.files.updateFile(t.id,{process:0,percent:0,error:!0}),e.optionsManager.invalidUpload({error:"CloudError",file:{id:t.id}}),l.configureScope(function(t){t.setExtra("error",JSON.parse(n))}),l.captureMessage("Upload from dropbox error")})},n}(c.DropboxService);e.DropboxUpload=u}).call(this,n(1))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WsUpload=void 0;var i=function(){function t(t){var e=t.optionsManager;this.optionsManager=e}return t.prototype.fileArrayAdded=function(t){var e=this;t.forEach(function(t){t.id=e.escape(t.id),t.canvasId=t.id,e.optionsManager.files.getFile(t.id)||(e.optionsManager.files.addFile(t),e.optionsManager.fileAdded(t,"WebSocket"))})},t.prototype.fileRemoved=function(t){t=this.escape(t),this.optionsManager.removeFile(t),this.optionsManager.fileRemoved(t)},t.prototype.fileUploaded=function(t,e){t=this.escape(t),this.optionsManager.files.updateFile(t,{server_filename:e,percent:100}),this.optionsManager.fileChanged(t)},t.prototype.fileProgressUpdated=function(t,e){t=this.escape(t),this.optionsManager.files.updateFile(t,{percent:e}),this.optionsManager.fileChanged(t)},t.prototype.escape=function(t){for(var e="",n=0;n<t.length;n++){var i=t[n];e+=Number(i.charCodeAt(0)).toString(36)}return"str"+e},t}();e.WsUpload=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Chain=void 0;var i=n(47),r=function(){function t(t){this.parentId=null,this.tool=null,this.token=null,Object.assign(this,t)}return t.prototype.makeChild=function(){var t=this,e=this;return new Promise(function(n,r){null!=e.parentId?(t.api=new i.Api({taskId:null,tool:e.tool,workerServer:e.workerServer,token:e.token}),t.api.next(e.parentId,e.tool).then(function(t){n(t)},function(t){r(t)})):n()})},t.prototype.getFileUrl=function(t,e){return this.api.nextFile(t,e)},t}();e.Chain=r},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.Modal=void 0;var n=function(){function e(){}return e.init=function(){t(document).on({"show.bs.modal":function(){var e=1050;t(".modal:visible, .dialog:visible").each(function(n,i){e=Math.max(e,parseInt(t(i).css("z-index"))+10)}),t(this).css("z-index",e),setTimeout(function(){t(".modal-backdrop").not(".modal-stack").css("z-index",e-1).addClass("modal-stack")},0)},"hidden.bs.modal":function(){t(".modal:visible, .dialog:visible").length>0&&setTimeout(function(){t(document.body).addClass("modal-open")},0)}},".modal")},e}();e.Modal=n}).call(this,n(1))},function(t){t.exports=JSON.parse('{"default":{"mimeTypes":[{"title":"All files"}],"multiSelection":true}}')},function(t,e,n){"use strict";(function(t){var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.OptionsManager=void 0;var s=n(82),c=n(60),l=n(8),u=n(35),d=o(n(16)),p=n(13),f=n(17),h=n(15),v=n(97),g=n(75),m=n(77),y=n(159),b=n(71),_=n(76),w=a(n(63)),x=n(50),O=a(n(81)),S=function(){function e(e){var n;void 0===e&&(e={}),this.backCount=0,this.forwardCount=0,this.backRefreshInterval=null,this._BACKREFRESH_TIME=3e5,this.limitDialogOpen=null,this.config={},this.processManager=null,this.tool=null,this.subtool=null,this.toolText="Process",this.template=null,this.defaultOptions={},this.fileLimits=null,this.allFileLimits=null,this.level="user",this.userToken=null,this.workerServer=null,this.startServer=null,this.hideRotation=!1,this.levelTemp="user",this.options={},this.values={},this.files=null,this.started=!1,this.workareaStarted=!1,this.viewManager=null,this.limits=null,this.ignoreLimits=!1,this.damagedRemove=!1,this.hideProblemForm=!1,this.premiumTask=!1,this.processBtnPulseTimeout=7e3,this.showFileGroups=!0,this.processBlock=!1,this.checkServerStatusOnStart=!1,Object.assign(this,e),null==this.subtool&&(this.subtool=this.tool),null==this.toolText&&(this.toolText=this.tool),this.limits=new c.Limits({files:this.files,fileLimits:this.fileLimits,allFileLimits:this.allFileLimits,tool:this.tool,subtool:this.subtool}),this.removedFiles=0,window.processStart=!1,window.iuser=h.UserModel,g.LinkTitle.disable(t("#pickfiles")),this.tryInitByParent(),this.removeFilesOnLimitReatched="b"==((null===(n=window.ab)||void 0===n?void 0:n.limits)?window.ab.limits:"a"),this.checkBackRefresh()}return e.prototype.tryInitByParent=function(){var e=this;this.files.files.length>0&&(this.init(),t.each(this.files.files,function(t,n){e.fileAdded(n,"parent").then(function(){},function(){})}))},e.prototype.init=function(){!0!==this.started&&(this.processManager.hideProblemForm=this.hideProblemForm,t("#sidebar").prepend(this.getInnactiveView()),this.startPanels(),this.started=!0),this.initViewManager()},e.prototype.initViewManager=function(){},e.prototype.checkLimits=function(t,e){var n=this.getLimit();return this.actionLimitReatched(n),null===n||1!=this.limits.hasSurpasedLimits(n)&&1!=this.removeFilesOnLimitReatched||(t=this.removeLimitFiles(t,!0)),t},e.prototype.getLimit=function(){return this.limits.checkFileLimits(this.files.getFileSizeNotIgnored(),this.files.countNotIgnored(),this.files.getFilePagesNotIgnored())},e.prototype.actionLimitReatched=function(t,e){var n=this;if(void 0===e&&(e=!1),null!==t){this.setLimitedFiles();var i=this.limits.hasSurpasedLimits(t);e||!this.alertElement||i||!0===this.removeFilesOnLimitReatched?null!=this.limitDialogOpen&&!0!==this.removeFilesOnLimitReatched?this.displayLimitsAlert():(this.limitDialogOpen=this.displayLimitsDialog(t),this.limitDialogOpen&&this.limitDialogOpen.addEventListener("closed",function(t){if(h.UserModel.isRealPremium())n.files.resetLimitedFiles(),n.hideLimitsAlert(),n.limits.sendEventLimitsChanged();else{var e=n.getLimit();null==e||n.limits.hasSurpasedLimits(e)?(n.limits.sendEventLimitsChanged(),n.hideLimitsAlert()):n.displayLimitsAlert()}n.limitDialogOpen=null})):this.displayLimitsAlert()}else this.files.resetLimitedFiles(),this.hideLimitsAlert()},Object.defineProperty(e.prototype,"alertElementId",{get:function(){return"limitAlert"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alertElement",{get:function(){return document.getElementById(this.alertElementId)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alertElementHeader",{get:function(){return document.querySelector("#"+this.alertElementId+" .limit-alert__header")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alertElementContent",{get:function(){return document.querySelector("#"+this.alertElementId+" .limit-alert__content")},enumerable:!1,configurable:!0}),e.prototype.displayLimitsAlert=function(){var t=this,e=this.alertElement,n=this.alertElementHeader,i=this.alertElementContent;e||((e=document.createElement("div")).id=this.alertElementId,e.classList.add("limit-alert"),(n=document.createElement("div")).classList.add("limit-alert__header"),(i=document.createElement("div")).classList.add("limit-alert__content"),i.innerHTML=n.innerHTML=l.Lang.t("upgradePremium"),e.appendChild(n),e.appendChild(i),e.addEventListener("click",function(){t.actionLimitReatched(t.getLimit(),!0)}),document.getElementById("workArea").appendChild(e));var r=this.limits.getLimitTexts();i.innerHTML="<div>"+r.current+"</div><div>"+r.premium+"</div>",e.style.display="block",e.classList.add("limit-alert--"+r.limit)},e.prototype.hideLimitsAlert=function(){this.alertElement&&(this.alertElement.style.display="none",this.limits.resetEventSent())},e.prototype.displayLimitsDialog=function(e,n){var i=this;void 0===n&&(n=!1);var r=this.limits.getNextLimit(e),o=n||!1===r.nextValue,a=null,s=_.Dialog.getVisibleDialogs().find(function(t){return"PremiumContext"===t.getContent().contentName||"NoMoreLimitsContext"===t.getContent().contentName});if(e===c.REASON.ERROR_FEATURE){if(s)return;a=function(){return new b.PremiumContext({tool:i.limits.getTool(),limits:i.limits,triggerReason:e})}}else if(o)a=function(){return new y.NoMoreLimitsContext({tool:i.limits.getTool(),limits:i.limits,triggerReason:e})};else{if(s)return;a=function(){return new b.PremiumContext({tool:i.limits.getTool(),limits:i.limits,triggerReason:e})}}var l=new w.default({dialogName:"Limits"});return l.setContentBuilder(a),l.show(),t("#pickfiles").addClass("limitsShow"),l},e.prototype.removeLimitFiles=function(t,e){void 0===e&&(e=!1);var n=this.limits.checkFileLimits(this.files.getFileSizeNotIgnored(),this.files.countNotIgnored()),i=this.limits.hasSurpasedLimits(n);if(null!==n&&(1==e&&1==i||1==this.removeFilesOnLimitReatched)){var r=t.pop();try{r&&([].push(r.id),this.files.removeFile(r.id,!0))}catch(t){}if(t.length>0)try{t=this.removeLimitFiles(t,e)}catch(t){}}return t},e.prototype.setLimitedFiles=function(){this.limits.setFileLimits()},e.prototype.fileAdded=function(e,n,i){var r=this;void 0===i&&(i=!1);var o=this;return e.name&&(e.name=m.TextHelper.stripTags(e.name).replace('"',"")),e.filename&&(e.filename=m.TextHelper.stripTags(e.filename).replace('"',"")),new Promise(function(n,a){1==i&&(o.limits.addIgnoredFile(e.id),o.processManager.addIgnoredFile(e.id),o.files.updateFile(e.id,{ignored:!0}));var s=o.limits.checkFileLimits(o.files.getFileSizeNotIgnored(),o.files.countNotIgnored(),o.files.getFilePagesNotIgnored());null!==s&&(o.limits.setFileLimits(),r.alertElement&&0==r.limits.hasSurpasedLimits(s)?r.displayLimitsAlert():r.displayLimitsDialog(s),o.setFilecount()),o.makeWorkarea().then(function(){var r=null;"function"==typeof e.getSource&&(r=e.getSource().getSource());var s={name:e.name,id:e.id,canvasId:e.canvasId,tool:o.tool,subtool:o.subtool,size:e.size,source:r,url:e.url,uri:e.uri,token:e.token,runtime:e.runtime,service:e.service,thumbnail:e.thumbnail};e.extension&&(s.name+="."+e.extension),0==o.config.getConfig("multiSelection")&&t("#uploader").hide(),o.viewManager.addFileDOM(s).then(function(t){o.setValue("numPages",t.numPages),o.printValues("numPages",t.numPages),o.setValue("width",t.width),o.printValues("height",t.height),o.fileReady(e),1!=i&&o.setFilecount(),o.initFileNameEditable(e.id),u.Tooltip.init(),n()},function(i){"PasswordException"==i.name?(t("#"+e.id).attr("title",l.Lang.t("paswordRequired")).attr("data-title",l.Lang.t("paswordRequired")),u.Tooltip.setContent(t("#"+e.id),l.Lang.t("paswordRequired"))):(t("#"+e.id).attr("title",l.Lang.t("damaged file?")).attr("data-title",l.Lang.t("damaged file?")),u.Tooltip.setContent(t("#"+e.id),l.Lang.t("damaged file?"))),t("#"+e.id+" .file__info__size").hide(),u.Tooltip.init();try{if("removeFile"==i.name)return void a()}catch(i){}if("function"==typeof o.damagedAction&&o.damagedAction(),1==o.damagedRemove)return o.fileAddError(e.id),void a();o.setFilecount(),u.Tooltip.init(t("#"+e.id+" .remove")),"noRenderMode"!=i&&t("#cover-"+e.canvasId).addClass("error"),n()}),0==o.config.getConfig("multiSelection")&&t("#uploader").hide()},function(t){d.captureMessage("Fail: createworkarea"),a()})})},e.prototype.initFileNameEditable=function(e){var n=this;if(!1!==this.nameEditable){var i=t("#"+e+" .file__info__name");if(0==i.length)return;var r=i.text().split(".").pop();i.attr("contenteditable","true"),i.attr("data-ext","true"),i.attr("data-orig",i.text()),i.on("change keyup mouseup",function(){n.files.updateFile(e,{rename:m.TextHelper.stripTags(i.text().replace(/"/g,""))})}),i.on("blur",function(){i.html(m.TextHelper.stripTags(i.text().replace(/"/g,""))),""!=i.text()&&i.text()!="."+r||i.html(i.attr("data-orig")),i.text()==r&&i.html(r+"."+r),i.text().split(".").pop()!=r&&(i.html(i.text()+"."+r),n.files.updateFile(e,{rename:i.text()}))})}},e.prototype.setFilecount=function(){var e=this.files.countNotIgnored(),n=t("#filecount");0!=n.length?n.html(e.toString()):t("#uploader").prepend('<div id="filecount">'+e+"</div>")},e.prototype.fileUploaded=function(t,e){this.files.updateFile(t,e);if(null!==this.viewManager){var n=this.files.getFile(t);null!=n&&"thumbnail"in n&&void 0!=n.thumbnail&&(n.thumbnail=this.workerServer+"/thumbnails/"+n.thumbnail),this.viewManager.fileUploaded(t,e)}},e.prototype.changeServer=function(t){this.processManager.workerServer=t,this.processManager.api.workerServer=t,this.workerServer=t},e.prototype.fileReady=function(e){var n=e.canvasId,i=e.canvasId;if(this.limits.checkHasLimits("pages")&&0==this.checkLimits([e],null).length)return this.viewManager.removeFile(n),void this.fileRemoved(i);this.fileChanged(e);var r=t("#"+e.id),o=f.Tools.bytesToSize(e.size);r.length>0&&"width"in e&&"height"in e?(o=o+" - "+e.width+"x"+e.height,r.attr("data-width",e.width).attr("data-height",e.height)):"file"in e&&e.file&&"numPages"in e.file&&(o=o+" - "+l.Lang.t("numPages",{numPages:e.file.numPages})),this.checkRotation(e),r.attr("title",o).attr("data-title",o).addClass("tooltip"),u.Tooltip.init(),this.setFilecount()},e.prototype.checkRotation=function(e){var n=e.name.substr(e.name.lastIndexOf(".")+1).toUpperCase();-1==["JPG","JPEG","PNG","GIF","PDF","DOC","DOCX","XLS","XLSX","PPT","PPTX"].indexOf(n)&&t("#"+e.canvasId+" .rotate").hide(),!0===this.hideRotation&&t(".rotate").hide()},e.prototype.makeWorkarea=function(){var e=this;return new Promise(function(n,i){1!=e.workareaStarted&&(e.workareaStarted=!0,t("#contentArea").hide(),t(".tool__workarea__rendered").css("display","flex").hide().fadeIn(),0==e.showFileGroups&&t("#fileGroups").hide(),e.moveUploader(),e.workareaActions(),setTimeout(function(){e.sidebarAds()},1e3)),n()})},e.prototype.workareaActions=function(){},e.prototype.moveUploader=function(){var e=t("#uploader");u.Tooltip.init(),t("#uploadDisk").on("click",function(){t("#uploader input").trigger("click")});var n=e.attr("data-title");if(void 0===n||"false"===n){var i=e.attr("title");e.attr("data-title",i)}e.attr("title",""),e.hide(),t("body").addClass("sidebar-active"),t("body").addClass("tool-"+this.tool),t(".uploader__extra a").removeClass("tooltip--right").addClass("tooltip--left"),this.init(),e.detach(),e.addClass("box"),t("#settingsToogle").on("click",function(){t(".tool").toggleClass("tool--toggle")}),t("#orderByName").on("click",function(){t(this).toggleClass("order--desc");var e=t(this).data("order");"asc"==e?t(this).data("order","desc"):t(this).data("order","asc"),t("#fileGroups > div").tsort({order:e,natural:!0})});try{e.insertAfter("#settingsToogle")}catch(t){}this.onUploaderMoved(e)},e.prototype.onUploaderMoved=function(t){var e=this;e.config.getConfig("multiSelection")&&t.fadeIn("slow",function(){e.onUploaderMovedAndShow()})},e.prototype.onUploaderMovedAndShow=function(){t("#pickfiles").addClass("tooltip"),u.Tooltip.enable(t("#pickfiles")),t(".modal.show").length>0||t("#pickfiles").hasClass("limitsShow")||(u.Tooltip.show(t("#pickfiles"),5e3),window.tooltip=u.Tooltip)},e.prototype.checkProcessBtn=function(){"no"==t(".option__panel--active").data("process")?t("#processTask").fadeOut():(t("#processTask").fadeIn(),this.checkProcessPulse())},e.prototype.checkProcessPulse=function(){if(window.Cookies&&1!=t("#processTask").is(":disabled")){var e=parseInt(O.default.get("pulse"))||0;e++,window.Cookies.set("pulse",""+e),e<3&&setTimeout(function(){t("#processTask").addClass("pulse")},this.processBtnPulseTimeout)}},e.prototype.startPanels=function(){1!=this.panelsStarted&&(this.panelsStarted=!0,this.initDefaultOptions(),this.initDefaultValues(),this.initActions(),this.initFromUrl(),this.addButtonTask(),this.checkProcessBtn(),this.premiumActions())},e.prototype.premiumActions=function(){h.UserModel.isRealPremium()&&t("#ocr-options").show()},e.prototype.initDefaultOptions=function(){var e=this;t.each(e.defaultOptions,function(t,n){e.setOption(t,n)})},e.prototype.initDefaultValues=function(){var e=this;t.each(e.defaultOptions,function(t,n){e.setValue(t,n)}),e.setValue("numPages",0)},e.prototype.initFromUrl=function(){var e=location.hash.substr(1).split(",");if("process"!=e[0]){var n="",i="";e[0]&&(n=e[0]),e[1]&&(i=e[1]);try{""!=n&&0==t("#"+n).length&&(n="")}catch(t){n=""}if(""==n||"undefined"==n?(n=t(".option__panel--active").attr("id"),this.callPanelActions(n)):t(".option__panel").first().attr("id")!=n&&(t(".option__panel").first().removeClass("option__panel--active").addClass("option__panel--inactive"),t("#"+n).addClass("option__panel--active"),this.callPanelActions(n)),t("#"+n+" .option__tab__select__item").removeClass("option--active"),t("#"+n+" .option__tab__content").removeClass("option__tab__content--active"),void 0!==i&&""!=i)try{t("#tab-"+i).addClass("option--active"),t("#tab-content-"+i).addClass("option__tab__content--active"),this.callTabActions(i)}catch(t){}else{var r=t("#"+n+" .option__tab__select__item");r.length>0&&(i=r.first().attr("data-target"),r.first().trigger("click"))}}},e.prototype.initActions=function(){var e=this;window.addEventListener("fileRemoved",function(t){e.fileRemoved(t.detail)},!1),this.initBackFromProcessListenEvent(),t(".option__panel").length>1&&window.addEventListener("popstate",function(n){var i=n.state,r=null;r=null===i?t(".option__panel").first().attr("id"):i.id,t("#"+r).addClass("option__panel--inactive"),t(".option__panel").removeClass("option__panel--active"),t("#"+r).removeClass("option__panel--inactive").addClass("option__panel--active"),e.checkProcessBtn(),e.callPanelActions(r)}),t(".option__description__more__toggle").each(function(){t(this).on("click",function(e){e.stopPropagation(),t(this).parent().toggleClass("option__description__more--extend")})}),t(".option__select__item").on("click",function(){if(t(this).hasClass("option--disabled"))return!0;t(this).siblings().removeClass("option--active"),t(this).siblings().find(".option").removeClass("option--active"),"panel"!=t(this).data("action")&&t(this).addClass("option--active"),e.options[t(this).data("name")]=t(this).data("value")}),t(".option__tab__select__item").on("click",function(){if(t(this).hasClass("option--disabled"))return!0;var n=t(this).data("name"),i=t(this).data("value");t(this).siblings().removeClass("option--active"),t(this).addClass("option--active"),"undefined"!=n&&e.setOption(n,i);var r=t(this).data("target");t(this).parent().parent().find(".option__tab__content").removeClass("option__tab__content--active"),t("#tab-content-"+r).addClass("option__tab__content--active");var o=t(this).parent().parent().parent().attr("id"),a=t(this).data("target"),s=t(this).attr("id"),c={id:s};history.pushState(c,s,"#"+o+","+a),e.checkProcessBtn(),e.callTabActions(a)}),t(".option__image__item").on("click",function(n){if(t(this).hasClass("option--disabled"))return!0;var i=t(this).data("name"),r=t(this).data("value");t(this).siblings().removeClass("option--active"),t(this).addClass("option--active"),void 0!=i&&e.setOption(i,r)}),t(".option__panel .back").each(function(){t(this).on("click",function(){if(t(this).hasClass("option--disabled"))return!0;var n=t(this).data("target"),i=t(".option__panel--active").attr("id"),r={id:i};history.pushState(r,i,"#"),t("#"+n).addClass("option__panel--active"),t(".option__panel--active").removeClass("option__panel--active"),t("#"+n).removeClass("option__panel--inactive").addClass("option__panel--active"),e.checkProcessBtn(),e.callPanelActions(n)})}),t("[data-action]").each(function(){t(this).hasClass("option--disabled")||t(this).on("click",function(){e.callFormAction(t(this).data("action"),t(this),"click")})}),t(".option__panel .option").on("click",function(n){if(t(this).hasClass("option--disabled"))return!0;var i=t(this).data("name"),r=t(this).data("value");i&&r&&(e.options[i]=r,t('*[data-show="'+i+'"]').html(r))});var n=null;t("input.option").on("keyup mouseup",function(){clearTimeout(n);var i=t(this);n=setTimeout(function(){var t=i.attr("name"),n=i.val();e.setOption(t,n),null!=i.data("action")&&e.callFormAction(i.data("action"),i,"keyup")},1e3)}),t(".option:checkbox").change(function(){var n=t(this).attr("name"),i=t(this).is(":checked"),r=null;1==i&&t(this)[0].hasAttribute("data-checked")?r=t(this).attr("data-checked"):0==i&&t(this)[0].hasAttribute("data-unchecked")&&(r=t(this).attr("data-unchecked")),null!=r?e.setOption(n,r):e.setOption(n,i)}),t(".option:radio").change(function(){var n=t(this).attr("name"),i=t('[name="'+n+'"]:checked').val();null!=i&&e.setOption(n,i)}),t("select.option").on("change",function(){var n=t(this).attr("name"),i=t(this).val();e.setOption(n,i)}),t("textarea.option").on("keyup change",function(){var n=t(this).attr("name"),i=t(this).val();e.setOption(n,i)}),t(".option--radio").on("click",function(){if(t(this).hasClass("option--disabled"))return!0;t(this).hasClass("option--active")?(e.setValue(t(this).data("name"),t(this).data("inactive")),e.options[t(this).data("name")]=t(this).data("inactive")):(e.setValue(t(this).data("name"),t(this).data("active")),e.options[t(this).data("name")]=t(this).data("active"))});var i=function(e){var n=(t(e).val()-parseInt(t(e).attr("min")))/(parseInt(t(e).attr("max"))-parseInt(t(e).attr("min")));t(e).attr("data-value",n),t(e).css("background-image","-webkit-gradient(linear, left top, right top, color-stop("+n+", #E5322D), color-stop("+n+", #7A9FAB))")};t('input[type="range"]').each(function(){i(this)});var r=null;t('input[type="range"]').change(function(){null!==r&&clearTimeout(r);var t=this;r=setTimeout(function(){i(t)},1e3)})},e.prototype.initSidetoolsActions=function(){},e.prototype.fileRemoved=function(t){this.removedFiles++,this.fileChanged(t),this.setFilecount(),this.checkLimits(null,null)},e.prototype.fileChanged=function(e){this.updateOrderStatus(),this.files.countNotIgnored()>0?("string"!=typeof e&&(null!=e&&"upBy"in e&&"pickwatermark"==e.upBy?this.checkProcessBtn():this.enableProcessBtn()),t(".tool__sidebar__inactive").fadeOut(),t(".tool__sidebar").css("overflow-y","auto")):(this.disableProcessBtn(l.Lang.t("No file selected.")),t(".tool__sidebar").css("overflow-y","hidden"),t(".tool__sidebar__inactive").css("display","flex").hide().fadeIn(),this.showUploaderTooltip())},e.prototype.showUploaderTooltip=function(){u.Tooltip.show(t("#pickfiles"),8e3)},e.prototype.updateOrderStatus=function(){this.files.countNotIgnored()>1?t("#orderByName").css("display","flex"):t("#orderByName").hide()},e.prototype.addButtonTask=function(){var e=this;0==t("#processTask").length&&(t(".main .tool").append(s.OptionsTemplate.processButton({tool:e.tool,toolText:e.toolText})),t("#processTask").on("click",function(){if(1!=e.premiumTask||h.UserModel.isPremium()||"premium"==window.ilovepdfConfig.levelTemp){t("#processTask").attr("disabled","true");Math.floor(((new Date).getTime()-window.startTime)/1e3);e.processTask()}else t('#highres-options [data-value="0"]').trigger("click"),e.displayLimitsDialog(c.REASON.ERROR_FEATURE),window.ga("send","event","limits","feature-exceeded","pdfa")}))},e.prototype.setOption=function(t,e){if("undefined"==t)throw"InvalidOption "+t+":"+e;this.options[t]=e,this.values[t]=e,this.printOption(t,e)},e.prototype.setValue=function(t,e){this.values[t]=e,this.printValues(t,e)},e.prototype.printOption=function(e,n){if(null!=n&&""!=n.toString()){try{t('*[data-name="'+e+'"]').removeClass("option--active"),t('*[data-name="'+e+'"][data-value="'+n+'"]').addClass("option--active")}catch(t){d.configureScope(function(t){t.setExtra("dataKey",e),t.setExtra("dataValue",n)}),d.captureMessage("setting option error")}t('input[type="text"][name="'+e+'"]').val(n),t('input[type="number"][name="'+e+'"]').val(n),t('input[type="color"][name="'+e+'"]').val(n),t('input[type="checkbox"][name="'+e+'"]').attr("checked",n);try{t('input[type="radio"][name="'+e+'"][value="'+n.toString()+'"]').attr("checked","true")}catch(t){}t('select[name="'+e+'"]').val(n),t('.option--radio[data-name="'+e+'"]').each(function(){t(this).attr("data-active")==n?t(this).addClass("option--active"):t(this).removeClass("option--active")}),t('input[type="checkbox"][name="'+e+'"]').attr("checked",n),t('*[data-show="'+e+'"]').attr("data-value",n).html(n),t(".option__value--color").each(function(){t(this).css("background-color",t(this).attr("data-value"))}),t('*[data-show="'+e+'"]').html(this.printTransform(e,n)),t('*[data-show="'+e+'"]').attr("data-value",n),t('*[data-show="'+e+'"][data-type="color"]').css("background-color",n),t('*[data-if="'+e+'"]').each(function(){t(this).attr("data-value")==n?t(this).show():t(this).hide()})}},e.prototype.applyAllOptions=function(){for(var t in this.options)this.options.hasOwnProperty(t)&&this.printOption(t,this.options[t])},e.prototype.printTransform=function(t,e){return e},e.prototype.printValues=function(e,n){t("."+e).html(n),t("input."+e).val(n)},e.prototype.getValue=function(t){return this.values[t]},e.prototype.processTask=function(){var t=this;if(1!=this.processBlock){this.processBlock=!0,this.disableProcessBtn();var e=this;e.getPanelActiveOptions(),e.beforeProcess().then(function(){e.savePremium().then(function(){t.hideLimitsAlert(),e.processManager.setOptions(e.options),e.processManager.limits=t.limits,t.checkBackForward(),t.clearBackRefreshDetection(),e.processManager.process()},function(t){d.configureScope(function(e){e.setExtra("error",t)}),d.captureMessage("Error on save premium task data")})},function(e){t.onBeforeProcessReject(e)})}},e.prototype.onBeforeProcessReject=function(t){t instanceof Error&&(d.configureScope(function(e){e.setExtra("error",t)}),d.captureMessage("onBeforeProcessReject error")),this.enableProcessBtn()},e.prototype.beforeProcess=function(){return new Promise(function(t,e){var n=!!window.MSInputMethodContext&&!!document.documentMode;if(window.processStart=!0,n)document.createEvent("Event").initEvent("goProcess",!0,!0);else try{var i=new Event("goProcess");window.dispatchEvent(i)}catch(t){}t()})},e.prototype.getOption=function(t){return this.options[t]},e.prototype.getOptions=function(){return this.options},e.prototype.getPanelActiveOptions=function(){var e=this,n=t(".option__panel--active");n.find(".option--active").each(function(n,i){var r=t(i).attr("data-name");void 0!=r&&(r.indexOf("[]")>0?(e.options[r]instanceof Array||(e.options[r]=[]),e.options[r].push(t(i).attr("data-value"))):e.options[r]=t(i).attr("data-value"))}),n.find('input[type="text"], input[type="number"], input[type="color"], select, input[type="hidden"]').each(function(n,i){var r=t(i).attr("data-name");void 0==r&&void 0==(r=t(i).attr("name"))||(r.indexOf("[]")>0?(e.options[r]instanceof Array||(e.options[r]=[]),e.options[r].push(t(i).val())):e.options[r]=t(i).val())}),n.find('input[type="checkbox"]').each(function(n,i){var r=t(i).attr("name");e.options[r]=t(i).is(":checked")}),e.unsetUndefinedOptions()},e.prototype.unsetUndefinedOptions=function(){"undefined"in this.options&&delete this.options.undefined},e.prototype.callPanelActions=function(t){if(void 0!==t&&null!==t){var e="action"+t.camelCase().ucFirst();e in this&&this[e]()}},e.prototype.callTabActions=function(t){if(void 0!==t&&null!==t&&""!=t){var e="action"+t.camelCase().ucFirst();e in this&&this[e]()}},e.prototype.callOptionAction=function(e,n,i){if(void 0===i&&(i="click"),void 0!==e&&null!==e){var r=e.split(" "),o=this;t.each(r,function(t,e){if(void 0!==e&&null!==e){var r="actionOption"+e.camelCase().ucFirst();r in o&&o[r](n,i)}})}},e.prototype.callFormAction=function(e,n,i){if(void 0===i&&(i="click"),void 0!==e&&null!==e&&void 0!=e){var r=e.split(" "),o=this;t.each(r,function(t,e){if(void 0!==e&&null!==e){var r="actionForm"+e.camelCase().ucFirst();r in o&&o[r](n,i)}})}},e.prototype.actionFormPanel=function(e,n){var i=e.data("target"),r=t(".option__panel--active").attr("id"),o={id:r};if(history.pushState(o,r,"#"+i),t(".option__panel--active").removeClass("option__panel--active").addClass("option__panel--inactive"),t("#"+i).addClass("option__panel--active"),this.checkProcessBtn(),this.callPanelActions(i),t("#"+i).find(".option__tab").length>0){var a=t(".option__tab__select__item.option--active").data("target");this.callTabActions(a)}history.pushState(o,r,"#"+i)},e.prototype.actionFormShowOptions=function(e,n){var i=t(e).val();t(".option--if").hide(),t('*[data-if="'+name+'"]').each(function(){e.data("value")==i?e.show():e.hide()})},e.prototype.actionFormDecimal=function(e,n){void 0===e&&(e=null),void 0===n&&(n=null);var i=t(e).val();t(e).val(i.replace(",","."))},e.prototype.getInnactiveView=function(){return'<div class="tool__sidebar__inactive"><p>'+l.Lang.t("No file selected.")+'</p><svg xmlns="http://www.w3.org/2000/svg" width="75" height="66" viewBox="0 0 150 132"><path fill="#FFF" d="M0,0 C0,18.75 28.125,56.25 93.75,56.25 L93.75,18.75 L150,75 L93.75,131.25 L93.75,93.75 C42.0594727,93.75 0,51.6905273 0,0 Z" transform="rotate(-180 75 66)"/></svg><p>'+l.Lang.t("Please add a file to activate options")+"</p></div>"},e.prototype.initPremium=function(){if(h.UserModel.isPremium()){t(this.getPremiumView()).insertBefore(t(".gobutton")),t("#save_options").change(function(){t(this).is(":checked")})}},e.prototype.savePremium=function(){var e=this,n=this;return new Promise(function(i,r){if(t("#save_options").length&&t("#save_options").is(":checked")){var o=n.getOptions();o.tool=e.tool,o=n.beforeSavePremiumOptions(o),n.processManager.api.saveToolConfig(n.tool,o,h.UserModel.get().token).then(function(){i()},function(){r()})}else i()})},e.prototype.invalidUpload=function(e,n){var i=this;void 0===n&&(n=null);var r=v.IloveError.getError(e),o=this.tool==this.subtool?this.tool:this.tool.replace("image",this.subtool);if(t("body").hasClass("process-run"))try{"object"==typeof e&&"file"in e&&"id"in e.file&&this.files.updateFile(e.file.id,{error:!0,percent:100,errorData:r})}catch(t){}else{["FileSizeExceeded","FileTooLarge","FileRemoved"].indexOf(r)>=0?window.ga("send","event","upload-info",r,o):(window.ga("send","event","upload-invalid",o,r),d.configureScope(function(t){t.setExtra("error",e)}),null!=n&&d.configureScope(function(t){t.setExtra("error_extra",n),t.setExtra("task_id",i.processManager.taskId)}),d.captureMessage("upload-invalid."+r,p.Severity.Error));try{"object"==typeof e&&"file"in e?(this.viewManager.removeFile(e.file.canvasId),window.Toastr.error(l.Lang.t(r)+"<br>"+e.file.name,l.Lang.t("Upload error"),{timeOut:6e3,positionClass:"toast-top-left"})):this.fatalError(r)}catch(t){this.fatalError(r)}}},e.prototype.beforeSavePremiumOptions=function(t){return t},e.prototype.getPremiumView=function(){return""},e.prototype.disableProcessBtn=function(e){void 0===e&&(e=null);var n=t("#processTask"),i=t("#processTaskWrapper");n.attr("disabled","true"),n.removeClass("pulse"),i.addClass("tooltip tooltip--top").removeAttr("title").show(),null!=e&&"undefined"!=e?(i.attr("data-title",e),i.attr("title",e),u.Tooltip.setContent(i,e),u.Tooltip.enable(i)):u.Tooltip.disable(i)},e.prototype.enableProcessBtn=function(){t("#processTask").removeClass("tooltip tooltip--top").removeAttr("title").removeAttr("disabled"),u.Tooltip.hide("#processTaskWrapper"),t("#processTaskWrapper").hide(),this.processBlock=!1},e.prototype.fatalError=function(t){v.IloveError.fatalError(t,this.tool,this.workerServer)},e.prototype.timeout=function(){window.location.reload()},e.prototype.timeoutPopup=function(){var e=this,n=[],i=[];t.each(this.files.files,function(t,e){"canvasId"in e?n.push(e.canvasId):"id"in e&&i.push(e.id)}),t.each(n,function(t,n){e.viewManager.removeFile(n)}),t.each(i,function(t,n){e.files.removeFile(n)});var r=f.Tools.modalViewOk({id:"timelimit",title:l.Lang.t("Wops"),content:"<p>"+l.Lang.t("Welcome back after upload")+"</p>"});t(r).modal()},e.prototype.removeFile=function(t){try{this.viewManager.removeFile(t)}catch(t){}this.files.removeFile(t),this.checkLimits(null,null)},e.prototype.loadingStart=function(){0==t(".loading").length&&t("body").append('<div class="item-loading"></div>'),t(".item-loading").show()},e.prototype.loadingEnd=function(){t(".item-loading").hide()},e.prototype.sidebarAds=function(){},e.prototype.fileAddError=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n="DamagedFile"),1==e?window.Toastr.error(l.Lang.t(n),l.Lang.t("Error"),{timeOut:0,closeButton:!0,preventDuplicates:!0,positionClass:"toast-top-left"}):window.Toastr.error(l.Lang.t(n),l.Lang.t("Error"),{timeOut:5e3,positionClass:"toast-top-left"}),this.removeFile(t),this.loadingEnd()},e.prototype.initBackFromProcessListenEvent=function(){var e=this;window.addEventListener("popstate",function(n){n.state;if(e.processManager.contextConfirmFiles){e.backCount++,t(".process").hide(),t(".uploading").hide(),e.processManager.contextConfirmFiles.remove(),document.body.classList.remove("process-run"),e.checkLimits([],null),e.enableProcessBtn(),e.checkProcessBtn();var i=e.getLimit();x.Analytics.send("limits","back",e.tool+"-"+i),window.ga("send","event","limits","back",e.tool+"-"+i),e.processManager.contextConfirmFiles=null,e.initBackRefreshDetection()}})},e.prototype.checkBackForward=function(){if(this.backCount>0){this.forwardCount++;var t=this.getLimit()||"solved";x.Analytics.send("limits","forward",t),window.ga("send","event","limits","forward",t)}},e.prototype.initBackRefreshDetection=function(){var t=new Date((new Date).getTime()+this._BACKREFRESH_TIME);O.default.set("br",this.tool,{expires:t})},e.prototype.refreshBackDetection=function(){O.default.get("br")==this.tool&&O.default.set("brt",(new Date).getTime().toString(),{expires:1})},e.prototype.clearBackRefreshDetection=function(){O.default.remove("br")},e.prototype.checkBackRefresh=function(){var t=O.default.get("br");t&&(this.clearBackRefreshDetection(),x.Analytics.send("limits","back-"+(t==this.tool?"refresh":"change"),this.tool),window.ga("send","event","limits","back-"+(t==this.tool?"refresh":"change"),this.tool))},e}();e.OptionsManager=S}).call(this,n(1))},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.NoMoreLimitsContext=void 0;var o=n(48),a=n(160),s=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.contentName="NoMoreLimitsContext",n.triggerReason="triggerReason"in e?e.triggerReason:void 0,n.limits="limits"in e?e.limits:void 0,n.tool="tool"in e?e.tool:void 0,n}return r(e,t),e.prototype.getInitialState=function(){return new a.DefaultState},e}(o.ContextBase);e.NoMoreLimitsContext=s},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultState=void 0;var o=n(18),a=n(7),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="DefaultState",e.LAYOUT_TEMPLATE_NAME="no-more-limits",e.INITIAL_SCREEN="default",e.onDomReady=function(){"sign"==e.ctx.tool?e.changeScreen("sign"):e.changeScreen(e.INITIAL_SCREEN),e.clearLoadingScreen(),e.init()},e._onDoneButtonClick=function(t){t.preventDefault(),e.dispatchEvent(new a.IloveEvent("end"))},e}return r(e,t),e.prototype.init=function(){var t=this.getUserOperativeSystem();this.showPlatform(t);var e=this.actionBtn;e&&e.addEventListener("click",this._onDoneButtonClick)},e.prototype.showPlatform=function(t){for(var e=this.domRoot.querySelectorAll("[platform-mac], [platform-win]"),n=0;n<e.length;n++)e[n].style.display="none";var i=this.domRoot.querySelectorAll("[platform-"+t+"]");for(n=0;n<i.length;n++)i[n].style.display="block"},e.prototype.getUserOperativeSystem=function(){return-1!=window.navigator.platform.indexOf("Mac")?"mac":(-1!=navigator.userAgent.indexOf("WOW64")||navigator.userAgent.indexOf("Win64"),"win")},Object.defineProperty(e.prototype,"actionBtn",{get:function(){return this.domStateRoot.querySelector("[next-from-no-more-limits]")},enumerable:!1,configurable:!0}),e}(o.StateBase);e.DefaultState=s},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ViewManager=void 0;var o=n(162),a=n(163),s=n(109),c=n(164),l=n(165),u=function(t){function e(e){return t.call(this,e)||this}return r(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.pdfViewer=new a.PdfView({screenSize:this.screenSize,files:this.files}),this.imageViewer=new s.ImageView({screenSize:this.screenSize,files:this.files}),this.officeViewer=new c.OfficeView({screenSize:this.screenSize,files:this.files}),this.previewViewer=new l.PreviewView({screenSize:this.screenSize,files:this.files})},e}(o.ViewManager);e.ViewManager=u},function(t,e,n){"use strict";(function(t){var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.ViewManager=void 0;var a=o(n(16)),s=n(13),c=n(17),l=n(8),u=function(){function e(t){void 0===t&&(t={}),this.files=null,this.tool=null,this.subtool=null,this.pdfViewer=null,this.imageViewer=null,this.officeViewer=null,this.previewViewer=null,this.fileBox="",this.covers_hidden=!1,this.processManager=null,this.onBeforeRemoveFile=null,this.onRemoveFile=null,this.resizeTimeout=!1,this.screenSizes={sm:{w:70,h:100},md:{w:99,h:140},lg:{w:127,h:180}},this.screenSize=this.screenSizes.md,this.currentSize="md",window.innerWidth>1281?(this.screenSize=this.screenSizes.lg,this.currentSize="lg"):window.innerWidth<640&&(this.screenSize=this.screenSizes.sm,this.currentSize="sm"),Object.assign(this,t),this.init()}return e.prototype.init=function(){var t=this;window.addEventListener("resize",function(e){t.resize()})},e.prototype.resize=function(){var t=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){window.innerWidth>1280&&"lg"!=t.currentSize?(t.screenSize=t.screenSizes.lg,t.currentSize="lg",t.reRender()):window.innerWidth<640&&"sm"!=t.currentSize?(t.screenSize=t.screenSizes.sm,t.currentSize="sm",t.reRender()):window.innerWidth>640&&window.innerWidth<1280&&"md"!=t.currentSize&&(t.screenSize=t.screenSizes.md,t.currentSize="md",t.reRender()),"object"==typeof t.pdfViewer&&null!=t.pdfViewer&&(t.pdfViewer.screenSize=t.screenSize),"object"==typeof t.imageViewer&&null!=t.imageViewer&&(t.imageViewer.screenSize=t.screenSize),"object"==typeof t.officeViewer&&t.officeViewer,"object"==typeof t.previewViewer&&t.previewViewer},500)},e.prototype.reRender=function(){var e=this;t(".file canvas, .range__element canvas").each(function(n,i){var r=t(i).attr("data-file"),o=t(i).attr("data-page");if(r&&o){var a=parseInt(t(i).attr("data-page").toString()),s=t(i).attr("id");e.renderPDF(r,a,s)}})},e.prototype.addFileDOM=function(e,n){var i=this;void 0===n&&(n=null);return new Promise(function(n,r){var o=i;i.totalFilesSelectedHistory++,i.boxfiles++;var c=e.name.substr(e.name.lastIndexOf(".")+1).toUpperCase();e.extension&&(c=e.extension.toUpperCase()),e.service||(e.service="user");var l=i.getFileboxTemplate({tool:o.tool,subtool:o.subtool,screenSize:o.screenSize,fileName:e.name,fileID:e.canvasId,filesize:e.size,service:e.service});if(t("#fileGroups").append(l),o.initRotate(e),t("#"+e.canvasId+" .remove").on("click",function(){o.removeFile(e.canvasId)}),"html5"==e.runtime){var u="cover-"+e.canvasId,d=document.getElementById(u);if("user"==e.service)d.className=d.className+" "+c.toLowerCase()+" ",void 0!=e.thumbnail?(d.className="image "+d.className,i.renderPreview(e.id,u,null).then(function(){n(e)},function(t){a.configureScope(function(e){e.setExtra("error",t)}),a.captureMessage("render preview thumbnail error",s.Severity.Info),r(t)})):"url"in e&&void 0!=e.url?"PDF"==c&&0==i.covers_hidden?o.pdfViewer.loadUrlPDF(e.url,null).then(function(t){o.files.updateFile(e.id,{file:t}),"size"in t&&o.files.updateFile(e.id,{size:t.size}),o.renderPDF(e.id,1,u),n(t)},function(t){"removeFile"==t.name?o.removeFile(e.canvasId):"PasswordException"==t.name?d.className=d.className+" password ":"UnexpectedResponseException"==t.name?o.removeFile(e.id):("InvalidPDFException"==t.name||t.name,d.className=d.className+" error "),r(t)}):i.renderUrl(e.id,u,null).then(function(t){"size"in t&&o.files.updateFile(e.id,{size:t.size}),n(e)},function(t){a.configureScope(function(e){e.setExtra("error",t)}),a.captureMessage("render url error",s.Severity.Info),r(t)}):"PDF"==c&&0==i.covers_hidden?o.pdfViewer.loadSourcePDF(e.id,e.source).then(function(t){o.files.updateFile(e.id,{file:t}),o.renderPDF(e.id,1,u),n(t)},function(t){"removeFile"==t.name?o.removeFile(e.canvasId):"PasswordException"==t.name&&(d.className=d.className+" password "),"UnexpectedResponseException"==t.name?o.removeFile(e.canvasId):(t.name,d.className=d.className+" error "),r(t)}):"JPG"==c||"JPEG"==c?i.renderImageJpg(e.id,u,null).then(function(){n(e)},function(t){r(t)}):"HEIC"===c?i.renderHeic(e.id,u).then(function(){n(e)}).catch(r):"PNG"==c||"GIF"==c||"WEBP"==c?i.renderImage(e.id,u,null).then(function(){n(e)},function(t){r(t)}):"SVG"==c?(d.className="image "+d.className,i.renderSvg(e.id,u,!1).then(function(){n(e)},function(t){r(t)})):"TIF"==c||"TIFF"==c?(d.className=d.className+" image tif",i.renderTif(e.id,u).then(function(){n(e)},function(t){})):"DOC"==c||"DOCX"==c?(i.renderDoc(e.id,u),d.className=d.className+" word "+c.toLowerCase(),n(e)):"XLS"==c||"XLSX"==c?(i.renderDoc(e.id,u),d.className=d.className+" excel "+c.toLowerCase(),n(e)):"PPT"==c||"PPTX"==c?(i.renderDoc(e.id,u),d.className=d.className+" powerpoint "+c.toLowerCase(),n(e)):(d.className=d.className+c.toLowerCase(),r("noRenderMode"));else if("drive"==e.service)d.className=d.className+" "+c.toLowerCase(),"PDF"==c&&0==i.covers_hidden?e.size<2e8&&o.pdfViewer.loadUrlPDF(e.uri,e.token).then(function(t){o.files.updateFile(e.id,{file:t}),o.renderPDF(e.id,1,u),n(t)},function(t){a.configureScope(function(e){e.setExtra("error",t)}),a.captureMessage("drive url pdf error"),r(t)}):void 0!=e.url?i.renderUrl(e.id,u,null).then(function(t){n(e)},function(t){a.configureScope(function(e){e.setExtra("error",t)}),a.configureScope(function(t){t.setExtra("url",e.url)}),a.captureMessage("drive with url error"),r(t)}):(a.configureScope(function(t){t.setExtra("file",e)}),a.captureMessage("drive viewer not set"),r("drive viewer not exists"));else if("dropbox"==e.service)if("PDF"==c&&0==i.covers_hidden)e.size<2e8&&o.pdfViewer.loadUrlPDF(e.url,e.token).then(function(t){o.files.updateFile(e.id,{file:t}),o.renderPDF(e.id,1,u),n(t)},function(t){a.configureScope(function(e){e.setExtra("error",t)}),a.captureMessage("dropbox load error"),r(t)});else if(void 0!=e.url){var p=document.getElementById(u);p.className=p.className+" image "+c.toLowerCase(),i.renderUrl(e.id,u,null).then(function(t){n(e)},function(t){a.configureScope(function(e){e.setExtra("error",t)}),a.captureMessage("dropbox with url error"),r(t)})}else a.captureMessage("dropbox preview not set"),r("uooops, dropbox viewer not set here!");else a.captureMessage("unknow method/origin to render file"),r("unknow method/origin to render file")}})},e.prototype.initRotate=function(e){var n=this;t("#"+e.canvasId+" .rotate").on("click",function(){var i=parseInt(t(this).attr("data-rotate"));280==(i+=90)&&(i=0),t(this).attr("data-rotate",i);var r=t("#"+e.canvasId+" .file__canvas");r.css({WebkitTransform:"rotate("+i+"deg)"}),r.css({"-moz-transform":"rotate("+i+"deg)"}),r.css({transform:"rotate("+i+"deg)"}),n.files.updateFile(e.id,{rotate:i})})},e.prototype.removeFile=function(e){var n=this;"function"==typeof n.onBeforeRemoveFile&&n.onBeforeRemoveFile(e),t("#"+e).remove(),n.processManager.removeFile(e).then(function(){"function"==typeof n.onRemoveFile&&n.onRemoveFile(e),t(".uploader.box").show()},function(t){})},e.prototype.renderPDF=function(t,e,n,i){void 0===i&&(i=null);var r=this;"object"==typeof r.pdfViewer&&null!=r.pdfViewer&&r.pdfViewer.onFileReady().then(function(){r.pdfViewer.renderPage(t,e,n).then(function(){},function(){})},function(t){a.configureScope(function(e){e.setExtra("error",t)}),a.captureMessage("Error pdf file not ready")})},e.prototype.renderImage=function(t,e,n){void 0===n&&(n=!1);var i=this,r=i.files.getFile(t),o=r.getSource().getSource();return new Promise(function(t,a){i.imageViewer.renderImage(o,e,n).then(function(e){return r.width=e.width,r.height=e.height,t(e)},function(t){a(t)})})},e.prototype.renderImageJpg=function(t,e,n){return void 0===n&&(n=!1),this.renderImage(t,e,n)},e.prototype.renderUrl=function(t,e,n){void 0===n&&(n=!1);var i=this,r=i.files.getFile(t),o=r.url;return new Promise(function(t,a){i.imageViewer.renderUrl(o,e,n).then(function(e){if("size"in e&&(r.size=e.size),"width"in r)t({width:r.width,height:r.height});else{var n=new Image;n.addEventListener("load",function(){r.width=this.naturalWidth,r.height=this.naturalHeight,t({width:this.naturalWidth,height:this.naturalHeight})}),n.src=r.url}},function(t){a()})})},e.prototype.renderPreview=function(t,e,n){void 0===n&&(n=!1);var i=this,r=i.files.getFile(t).thumbnail;return new Promise(function(t,o){i.previewViewer.renderPreview(r,e,n),t({})})},e.prototype.renderSvg=function(t,e,n){void 0===n&&(n=!1);var i=this,r=i.files.getFile(t),o=r.getSource().getSource();return new Promise(function(t,a){i.imageViewer.renderSvg(o,e,n).then(function(e){return r.width=e.width,r.height=e.height,t(e)},function(t){a(t)})})},e.prototype.renderTif=function(t,e){var n=this,i=n.files.getFile(t).getSource().getSource();return new Promise(function(t,r){n.imageViewer.renderTif(i,e).then(function(){t()},function(){r()})})},e.prototype.renderHeic=function(t,e){var n=this.files.getFile(t).getSource().getSource();return this.imageViewer.renderHeic(n,e)},e.prototype.renderDoc=function(t,e){var n=this.files.getFile(t).getSource().getSource();return this.officeViewer.renderDocument(n,e)},e.prototype.getFileboxTemplate=function(t){var e=/(?:\.([^.]+))?$/.exec(t.fileName)[1];return'<div class="file file--'+t.tool+' tooltip--top" id="'+t.fileID+'" rel="'+t.service+'" data-size="'+t.filesize+'" data-extension="'+e.toUpperCase()+'"  title="image size..."><div class="file__actions"><a class="file__btn rotate tooltip--top tooltip" data-rotate="0" title="'+l.Lang.t("Rotate")+'">'+c.Tools.svgRotate()+'</a><a class="file__btn remove tooltip--top tooltip" title="'+l.Lang.t("Remove this file")+'">'+c.Tools.svgRemove()+'</a></div><div class="file__canvas"><canvas id="cover-'+t.fileID+'" width="'+t.screenSize.w+'" height="'+t.screenSize.h+'" class="'+e+'"></canvas></div><div class="file__info"><span class="file__info__name">'+t.fileName+"</span></div></div>\n        "},e.prototype.fileUploaded=function(t,e){var n=document.getElementById(t),i="cover-"+t;"object"==typeof e&&"thumbnail"in e&&e.thumbnail&&null!=n&&(n.className=n.className+" image",this.renderPreview(t,i,null).then(function(t){},function(t){a.configureScope(function(e){e.setExtra("error",t)}),a.captureMessage("Render preview on file upload",s.Severity.Info)}))},e}();e.ViewManager=u}).call(this,n(1))},function(t,e,n){"use strict";(function(t){var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.PdfView=void 0;var a=o(n(26)),s=n(17),c=n(8),l=function(){function e(t){void 0===t&&(t={}),this.hasPdfjs=!1,this.pdfIsLoaded=!1,this.renderProcess=!1,this.pdfjs=null,this.files=null,this.coversShow=!0,this.screenSize={},this.notRendered={},this.rendering=!1,this.needPassword=!1,this.passwordCount={},this.passwordLimit=3,this.scale=1,Object.assign(this,t),this.init()}return e.prototype.init=function(){var t=this;this.initPdfJs().then(function(){t.configPdfjs()},function(){}),this.scrollControl()},e.prototype.scrollControl=function(){var e=this;s.Tools.scrollControl(t("#workArea"),function(){e.checkIfNotRendered()},function(){e.checkIfNotRendered()}),s.Tools.scrollControl(t(".tool__preview"),function(){e.checkIfNotRendered()},function(){e.checkIfNotRendered()})},e.prototype.checkIfNotRendered=function(){var e=this;0==e.rendering&&(e.rendering=!0,window.setTimeout(function(){t.each(e.notRendered,function(n,i){1==s.Tools.isElementInView(t("#"+i.canvasId))&&(e.renderPage(i.fileId,i.pageNum,i.canvasId,i.full).then(function(){},function(){}),delete e.notRendered[i.canvasId])}),e.rendering=!1},500))},e.prototype.initPdfJs=function(){var t=this,e=this;return new Promise(function(n,i){null!==window.PDFJS&&void 0===window.PDFJS&&(a.lazyload("/js/pdfjs/pdf.min.js"),t.pdfjsInterval=window.setInterval(function(){if(null!==window.PDFJS&&"object"==typeof window.PDFJS)return e.hasPdfjs=!0,e.pdfjs=window.PDFJS,clearInterval(e.pdfjsInterval),n(e.hasPdfjs)},100))})},e.prototype.configPdfjs=function(){},e.prototype.loadSourcePDF=function(e,n,i){var r=this;void 0===i&&(i=null);var o=this;return void 0===this.passwordCount[e]&&(this.passwordCount[e]=0),new Promise(function(a,s){0==t("#"+e).length||o.passwordCount[e]>o.passwordLimit?s({name:"removeFile"}):r.loadPDF(n,null,null,i).then(function(t){a(t)},function(i){if("PasswordException"==i.name&&1==o.needPassword){if("Incorrect Password"==i.message){var r=o.files.getFile(e).name;window.Toastr.error(c.Lang.t("incorrectPassword")+"<br>"+r,c.Lang.t("Wops"),{timeOut:5e3,positionClass:"toast-top-left"})}if(0==t("#"+e).length||o.passwordCount[e]>o.passwordLimit)return void s(i);o.askForPassword(e).then(function(t){o.passwordCount[e]++,o.loadSourcePDF(e,n,t.password).then(function(t){a(t)},function(t){s(t)})},function(t){s(t)})}else s(i)})})},e.prototype.askForPassword=function(e){var n=this;return new Promise(function(i,r){var o=n.files.getFile(e);if(0==t("#pwd-"+o.id).length){n.passwordCount[e]=0;var a=s.Tools.modalViewOk({id:"pwd-"+o.id,title:c.Lang.t("This file requires password"),content:"<p>"+o.name+'</p><br><form><input type="password" autocomplete="false"></form>'});t(a).modal(),t("#pwd-"+e+" input").first().focus()}else n.passwordCount[e]>n.passwordLimit&&(n.passwordCount[e]=0,r({name:"removeFile"})),t("#pwd-"+o.id+" input").val(""),t("#pwd-"+e+" input").first().focus();setTimeout(function(){var a=!1;t("#pwd-"+e).off("hidden.bs.modal").on("hidden.bs.modal",function(){0==a?r({name:"removeFile"}):a=!1}),t("#pwd-"+o.id).modal("show"),t("#pwd-"+e+" form").submit(function(n){n.preventDefault(),t("#pwd-"+e+" .btn").trigger("click")}),t("#pwd-"+e+" .btn").on("click",function(){var s=t("#pwd-"+e+" input").val();a=!0,""==s?r({name:"removeFile"}):(n.files.updateFile(e,{password:s}),t("#pwd-"+e).modal(),o.password=s,i(o))})},800)})},e.prototype.loadUrlPDF=function(t,e,n){return void 0===e&&(e=null),void 0===n&&(n=null),this.loadPDF(null,t,e,n)},e.prototype.loadPDF=function(t,e,n,i){void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=null);var r=this;return new Promise(function(o,a){var s=window.setInterval(function(){!0===r.hasPdfjs&&(clearInterval(s),function(){function s(t){if(r.pdfIsLoaded=!0,null!=e){if(t)try{t.getDownloadInfo().then(function(e){t.size=e.length,o(t)},function(){o(t)})}catch(t){a("file removed while reading")}}else o(t);t.getMetadata().then(function(t){},function(){})}function c(t){a(t)}var l=null;function u(t){var e=this.result,n=null;null!=i||(n=r.pdfjs.getDocument(e).then(s).catch(c)),n.onProgress=function(t){}}if(null!=t)if(null==i)!function(t){var e=new FileReader;e.onload=u,e.readAsArrayBuffer(t),e.onerror=c}(t);else{var d=new FileReader;d.onload=function(t){var e,n,o=new Uint8Array(t.target.result),u=new Blob([o]);try{e=window.URL||window.webkitURL,n=e.createObjectURL(u)}catch(t){return void a(t)}l=r.pdfjs.getDocument({url:n,password:i}).then(s).catch(c);try{l.getDownloadInfo().then(function(t){},function(){})}catch(t){}},d.readAsArrayBuffer(t)}else if(null!=e)if(null===n)if(null==i)r.pdfjs.getDocument(e).then(s).catch(c);else r.pdfjs.getDocument({url:e,password:i}).then(s).catch(c);else{var p={url:e,httpHeaders:{Authorization:"Bearer "+n}};if(null==i){var f=r.pdfjs.getDocument(p).then(s).catch(c);f.onProgress=function(t){},f.onPassword=function(t,e){"PasswordException"!==e.name?a(e):t(i)}}else{p.password=i;r.pdfjs.getDocument(p).then(s).catch(c)}}}())},100)})},e.prototype.onFileReady=function(){var t=this;return new Promise(function(e,n){var i=window.setInterval(function(){!0===t.pdfIsLoaded&&(clearInterval(i),e())},200)})},e.prototype.renderPage=function(e,n,i,r){var o=this;void 0===r&&(r=!1);var a=this.files.getFile(e);if(null==a)return new Promise(function(t,e){e()});var c=a.file;return this.renderProcess=!0,n=parseInt(n),t("#"+i).attr("data-file",e),t("#"+i).attr("data-page",n),new Promise(function(a,l){var u=o;if("file"!=i&&0==s.Tools.isElementInView(t("#"+i)))return o.notRendered[i]={fileId:e,pageNum:n,canvasId:i,full:r},a();var d=document.getElementById(i),p=d.getContext("2d");c?c.getPage(n).then(function(t){var e=t.getViewport(u.scale,t.pageInfo.rotate);if(d.setAttribute("data-width",e.width),d.setAttribute("data-height",e.height),1==r)e=t.getViewport(u.scale,t.pageInfo.rotate),d.width=e.width,d.height=e.height;else if(e.width>e.height){var n=u.screenSize.h;e=t.getViewport(n/e.width,t.pageInfo.rotate),d.width=u.screenSize.h,d.height=e.height}else{var i=u.screenSize.h;e=t.getViewport(i/e.height,t.pageInfo.rotate),d.height=u.screenSize.h,d.width=e.width}var o={canvasContext:p,viewport:e};if(!0===u.coversShow){var s=t.render(o),c=function(){d.style.backgroundImage="none",u.renderProcess=!1,a()};s.promise.then(c,function(t){u.renderProcess=!1,l(t)}),window.renderTask=s,window.setTimeout(function(){1==u.renderProcess&&c()},5e3)}},function(t){"PasswordException"==t.name?d.className=d.className+" password":"InvalidPDFException"==t.name?d.className=d.className+" damaged":d.className=d.className+" error",l(t)}):l()})},e}();e.PdfView=l}).call(this,n(1))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OfficeView=void 0;var i=function(){function t(t){void 0===t&&(t={}),this.documentIsLoaded=!1,Object.assign(this,t),this.init()}return t.prototype.init=function(){},t.prototype.renderDocument=function(t,e){var n=this;return new Promise(function(t,e){n.documentIsLoaded=!0,t()})},t.prototype.onFileReady=function(){var t=this;return new Promise(function(e,n){var i=window.setInterval(function(){!0===t.documentIsLoaded&&(clearInterval(i),e(!0))},200)})},t}();e.OfficeView=i},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.PreviewView=void 0;var n=function(){function e(t){void 0===t&&(t={}),this.coversShow=!0,Object.assign(this,t),this.init()}return e.prototype.init=function(){},e.prototype.renderPreview=function(e,n,i){void 0===i&&(i=!1);var r=document.getElementById(n);i?t(r).attr("src",e):t(r).attr("style","background-color: transparent; background-image: url("+e+");background-size:contain; width: 100%;background-repeat: no-repeat;background-position: center;");var o=t("#"+n+" canvas");o.length>0&&o.remove()},e}();e.PreviewView=n}).call(this,n(1))},,,function(t,e,n){var i,r,o;!function(a){"use strict";r=[n(1),n(169)],void 0===(o="function"==typeof(i=function(t,e){t.tinysort={defaults:e.defaults},t.fn.extend({tinysort:function(){var t,n,i=Array.prototype.slice.call(arguments);i.unshift(this),t=e.apply(null,i),n=t.length;for(var r=0,o=this.length;r<o;r++)r<n?this[r]=t[r]:delete this[r];return this.length=n,this}}),t.fn.tsort=t.fn.tinysort})?i.apply(e,r):i)||(t.exports=o)}()},function(t,e,n){var i,r;!function(o,a){"use strict";void 0===(r="function"==typeof(i=function(){return a})?i.call(e,n,e,t):i)||(t.exports=r)}(0,function(){"use strict";var t,e,n=!1,i=null,r=window,o=r.document,a=parseFloat,s=/(-?\d+\.?\d*)\s*$/g,c=/(\d+\.?\d*)\s*$/g,l=[],u=0,d=0,p=String.fromCharCode(4095),f={selector:i,order:"asc",attr:i,data:i,useVal:n,place:"org",returns:n,cases:n,natural:n,forceStrings:n,ignoreDashes:n,sortFunction:i,useFlex:n,emptyEnd:n};function h(t,e){for(var n,i=t.length,r=i;r--;)e(t[n=i-r-1],n)}function v(e,n,i){for(var r in n)(i||e[r]===t)&&(e[r]=n[r]);return e}function g(t,e,n){l.push({prepare:t,sort:e,sortBy:n})}return r.Element&&((e=Element.prototype).matchesSelector=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector||function(t){for(var e=(this.parentNode||this.document).querySelectorAll(t),n=-1;e[++n]&&e[n]!=this;);return!!e[n]}),v(g,{loop:h}),v(function(e,r){I(e)&&(e=o.querySelectorAll(e)),e.length;var g,m,y=o.createDocumentFragment(),b=[],_=[],w=[],x=[],O=!0,S=e.length&&e[0].parentNode,E=S.rootNode!==document,P=e.length&&(r===t||!1!==r.useFlex)&&!E&&-1!==getComputedStyle(S,null).display.indexOf("flex");function k(t){var e=!!t.selector,n=e&&":"===t.selector[0],r=v(t||{},f);x.push(v({hasSelector:e,hasAttr:!(r.attr===i||""===r.attr),hasData:r.data!==i,hasFilter:n,sortReturnNumber:"asc"===r.order?1:-1},r))}function C(t,e,n){for(var i=n(t.toString()),r=n(e.toString()),o=0;i[o]&&r[o];o++)if(i[o]!==r[o]){var a=Number(i[o]),s=Number(r[o]);return a==i[o]&&s==r[o]?a-s:i[o]>r[o]?1:-1}return i.length-r.length}function j(t){for(var e,n,i=[],r=0,o=-1,a=0;e=(n=t.charAt(r++)).charCodeAt(0);){var s=46==e||e>=48&&e<=57;s!==a&&(i[++o]="",a=s),i[o]+=n}return i}function T(){return _.forEach(function(t){y.appendChild(t.elm)}),y}function M(t){var e=t.elm,n=o.createElement("div");return t.ghost=n,e.parentNode.insertBefore(n,e),t}function A(t,e){var n=t.ghost,i=n.parentNode;i.insertBefore(e,n),i.removeChild(n),delete t.ghost}function L(t,e){var n,r=t.elm;return e.selector&&(e.hasFilter?r.matchesSelector(e.selector)||(r=i):r=r.querySelector(e.selector)),e.hasAttr?n=r.getAttribute(e.attr):e.useVal?n=r.value||r.getAttribute("value"):e.hasData?n=r.getAttribute("data-"+e.data):r&&(n=r.textContent),I(n)&&(e.cases||(n=n.toLowerCase()),n=n.replace(/\s+/g," ")),null===n&&(n=p),n}function I(t){return"string"==typeof t}return function(){0===arguments.length?k({}):h(arguments,function(t){k(I(t)?{selector:t}:t)}),u=x.length}.apply(i,Array.prototype.slice.call(arguments,1)),h(e,function(t,e){m?m!==t.parentNode&&(O=!1):m=t.parentNode;var n=x[0],i=n.hasFilter,r=n.selector,o=!r||i&&t.matchesSelector(r)||r&&t.querySelector(r),a=o?_:w,s={elm:t,pos:e,posn:a.length};b.push(s),a.push(s)}),g=_.slice(0),_.sort(function(e,i){var r=0;for(0!==d&&(d=0);0===r&&d<u;){var o=x[d],p=o.ignoreDashes?c:s;if(h(l,function(t){var e=t.prepare;e&&e(o)}),o.sortFunction)r=o.sortFunction(e,i);else if("rand"==o.order)r=Math.random()<.5?1:-1;else{var f=n,v=L(e,o),g=L(i,o),m=""===v||v===t,y=""===g||g===t;if(v===g)r=0;else if(o.emptyEnd&&(m||y))r=m&&y?0:m?1:-1;else{if(!o.forceStrings){var b=I(v)?v&&v.match(p):n,_=I(g)?g&&g.match(p):n;if(b&&_){var w=v.substr(0,v.length-b[0].length),O=g.substr(0,g.length-_[0].length);w==O&&(f=!n,v=a(b[0]),g=a(_[0]))}}r=v===t||g===t?0:o.natural&&(isNaN(v)||isNaN(g))?C(v,g,j):v<g?-1:v>g?1:0}}h(l,function(t){var e=t.sort;e&&(r=e(o,f,v,g,r))}),0==(r*=o.sortReturnNumber)&&d++}return 0===r&&(r=e.pos>i.pos?1:-1),r}),function(){var t=_.length===b.length;if(O&&t)P?_.forEach(function(t,e){t.elm.style.order=e}):m&&m.appendChild(T());else{var e=x[0],n=e.place,i="org"===n,r="start"===n,o="end"===n,a="first"===n,s="last"===n;if(i)_.forEach(M),_.forEach(function(t,e){A(g[e],t.elm)});else if(r||o){var c=g[r?0:g.length-1],l=c&&c.elm.parentNode,u=l&&(r&&l.firstChild||l.lastChild);u&&(u!==c.elm&&(c={elm:u}),M(c),o&&l.appendChild(c.ghost),A(c,T()))}else if(a||s){var d=g[a?0:g.length-1];A(M(d),T())}}}(),_.map(function(t){return t.elm})},{plugin:g,defaults:f})}())},,,,,,,,,,function(t,e,n){"use strict";function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach(function(e){a(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function c(t,e){if(null==t)return{};var n,i,r=function(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function l(t){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(t)}var u=l(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),d=l(/Edge/i),p=l(/firefox/i),f=l(/safari/i)&&!l(/chrome/i)&&!l(/android/i),h=l(/iP(ad|od|hone)/i),v=l(/chrome/i)&&l(/android/i),g={capture:!1,passive:!1};function m(t,e,n){t.addEventListener(e,n,!u&&g)}function y(t,e,n){t.removeEventListener(e,n,!u&&g)}function b(t,e){if(e){if(">"===e[0]&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(t){return!1}return!1}}function _(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function w(t,e,n,i){if(t){n=n||document;do{if(null!=e&&(">"===e[0]?t.parentNode===n&&b(t,e):b(t,e))||i&&t===n)return t;if(t===n)break}while(t=_(t))}return null}var x,O=/\s+/g;function S(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var i=(" "+t.className+" ").replace(O," ").replace(" "+e+" "," ");t.className=(i+(n?" "+e:"")).replace(O," ")}}function E(t,e,n){var i=t&&t.style;if(i){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];e in i||-1!==e.indexOf("webkit")||(e="-webkit-"+e),i[e]=n+("string"==typeof n?"":"px")}}function P(t,e){var n="";if("string"==typeof t)n=t;else do{var i=E(t,"transform");i&&"none"!==i&&(n=i+" "+n)}while(!e&&(t=t.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(n)}function k(t,e,n){if(t){var i=t.getElementsByTagName(e),r=0,o=i.length;if(n)for(;r<o;r++)n(i[r],r);return i}return[]}function C(){var t=document.scrollingElement;return t||document.documentElement}function j(t,e,n,i,r){if(t.getBoundingClientRect||t===window){var o,a,s,c,l,d,p;if(t!==window&&t.parentNode&&t!==C()?(a=(o=t.getBoundingClientRect()).top,s=o.left,c=o.bottom,l=o.right,d=o.height,p=o.width):(a=0,s=0,c=window.innerHeight,l=window.innerWidth,d=window.innerHeight,p=window.innerWidth),(e||n)&&t!==window&&(r=r||t.parentNode,!u))do{if(r&&r.getBoundingClientRect&&("none"!==E(r,"transform")||n&&"static"!==E(r,"position"))){var f=r.getBoundingClientRect();a-=f.top+parseInt(E(r,"border-top-width")),s-=f.left+parseInt(E(r,"border-left-width")),c=a+o.height,l=s+o.width;break}}while(r=r.parentNode);if(i&&t!==window){var h=P(r||t),v=h&&h.a,g=h&&h.d;h&&(c=(a/=g)+(d/=g),l=(s/=v)+(p/=v))}return{top:a,left:s,bottom:c,right:l,width:p,height:d}}}function T(t,e,n){for(var i=D(t,!0),r=j(t)[e];i;){var o=j(i)[n];if(!("top"===n||"left"===n?r>=o:r<=o))return i;if(i===C())break;i=D(i,!1)}return!1}function M(t,e,n,i){for(var r=0,o=0,a=t.children;o<a.length;){if("none"!==a[o].style.display&&a[o]!==Bt.ghost&&(i||a[o]!==Bt.dragged)&&w(a[o],n.draggable,t,!1)){if(r===e)return a[o];r++}o++}return null}function A(t,e){for(var n=t.lastElementChild;n&&(n===Bt.ghost||"none"===E(n,"display")||e&&!b(n,e));)n=n.previousElementSibling;return n||null}function L(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)"TEMPLATE"===t.nodeName.toUpperCase()||t===Bt.clone||e&&!b(t,e)||n++;return n}function I(t){var e=0,n=0,i=C();if(t)do{var r=P(t),o=r.a,a=r.d;e+=t.scrollLeft*o,n+=t.scrollTop*a}while(t!==i&&(t=t.parentNode));return[e,n]}function D(t,e){if(!t||!t.getBoundingClientRect)return C();var n=t,i=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var r=E(n);if(n.clientWidth<n.scrollWidth&&("auto"==r.overflowX||"scroll"==r.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==r.overflowY||"scroll"==r.overflowY)){if(!n.getBoundingClientRect||n===document.body)return C();if(i||e)return n;i=!0}}}while(n=n.parentNode);return C()}function F(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}function R(t,e){return function(){if(!x){var n=arguments;1===n.length?t.call(this,n[0]):t.apply(this,n),x=setTimeout(function(){x=void 0},e)}}}function z(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function B(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}var N="Sortable"+(new Date).getTime();function U(){var t,e=[];return{captureAnimationState:function(){(e=[],this.options.animation)&&[].slice.call(this.el.children).forEach(function(t){if("none"!==E(t,"display")&&t!==Bt.ghost){e.push({target:t,rect:j(t)});var n=r({},e[e.length-1].rect);if(t.thisAnimationDuration){var i=P(t,!0);i&&(n.top-=i.f,n.left-=i.e)}t.fromRect=n}})},addAnimationState:function(t){e.push(t)},removeAnimationState:function(t){e.splice(function(t,e){for(var n in t)if(t.hasOwnProperty(n))for(var i in e)if(e.hasOwnProperty(i)&&e[i]===t[n][i])return Number(n);return-1}(e,{target:t}),1)},animateAll:function(n){var i=this;if(!this.options.animation)return clearTimeout(t),void("function"==typeof n&&n());var r=!1,o=0;e.forEach(function(t){var e=0,n=t.target,a=n.fromRect,s=j(n),c=n.prevFromRect,l=n.prevToRect,u=t.rect,d=P(n,!0);d&&(s.top-=d.f,s.left-=d.e),n.toRect=s,n.thisAnimationDuration&&F(c,s)&&!F(a,s)&&(u.top-s.top)/(u.left-s.left)==(a.top-s.top)/(a.left-s.left)&&(e=function(t,e,n,i){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*i.animation}(u,c,l,i.options)),F(s,a)||(n.prevFromRect=a,n.prevToRect=s,e||(e=i.options.animation),i.animate(n,u,s,e)),e&&(r=!0,o=Math.max(o,e),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout(function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null},e),n.thisAnimationDuration=e)}),clearTimeout(t),r?t=setTimeout(function(){"function"==typeof n&&n()},o):"function"==typeof n&&n(),e=[]},animate:function(t,e,n,i){if(i){E(t,"transition",""),E(t,"transform","");var r=P(this.el),o=r&&r.a,a=r&&r.d,s=(e.left-n.left)/(o||1),c=(e.top-n.top)/(a||1);t.animatingX=!!s,t.animatingY=!!c,E(t,"transform","translate3d("+s+"px,"+c+"px,0)"),this.forRepaintDummy=function(t){return t.offsetWidth}(t),E(t,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),E(t,"transform","translate3d(0,0,0)"),"number"==typeof t.animated&&clearTimeout(t.animated),t.animated=setTimeout(function(){E(t,"transition",""),E(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1},i)}}}}var H=[],V={initializeByDefault:!0},W={mount:function(t){for(var e in V)!V.hasOwnProperty(e)||e in t||(t[e]=V[e]);H.forEach(function(e){if(e.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),H.push(t)},pluginEvent:function(t,e,n){var i=this;this.eventCanceled=!1,n.cancel=function(){i.eventCanceled=!0};var o=t+"Global";H.forEach(function(i){e[i.pluginName]&&(e[i.pluginName][o]&&e[i.pluginName][o](r({sortable:e},n)),e.options[i.pluginName]&&e[i.pluginName][t]&&e[i.pluginName][t](r({sortable:e},n)))})},initializePlugins:function(t,e,n,i){for(var r in H.forEach(function(i){var r=i.pluginName;if(t.options[r]||i.initializeByDefault){var o=new i(t,e,t.options);o.sortable=t,o.options=t.options,t[r]=o,s(n,o.defaults)}}),t.options)if(t.options.hasOwnProperty(r)){var o=this.modifyOption(t,r,t.options[r]);void 0!==o&&(t.options[r]=o)}},getEventProperties:function(t,e){var n={};return H.forEach(function(i){"function"==typeof i.eventProperties&&s(n,i.eventProperties.call(e[i.pluginName],t))}),n},modifyOption:function(t,e,n){var i;return H.forEach(function(r){t[r.pluginName]&&r.optionListeners&&"function"==typeof r.optionListeners[e]&&(i=r.optionListeners[e].call(t[r.pluginName],n))}),i}};function q(t){var e=t.sortable,n=t.rootEl,i=t.name,o=t.targetEl,a=t.cloneEl,s=t.toEl,c=t.fromEl,l=t.oldIndex,p=t.newIndex,f=t.oldDraggableIndex,h=t.newDraggableIndex,v=t.originalEvent,g=t.putSortable,m=t.extraEventProperties;if(e=e||n&&n[N]){var y,b=e.options,_="on"+i.charAt(0).toUpperCase()+i.substr(1);!window.CustomEvent||u||d?(y=document.createEvent("Event")).initEvent(i,!0,!0):y=new CustomEvent(i,{bubbles:!0,cancelable:!0}),y.to=s||n,y.from=c||n,y.item=o||n,y.clone=a,y.oldIndex=l,y.newIndex=p,y.oldDraggableIndex=f,y.newDraggableIndex=h,y.originalEvent=v,y.pullMode=g?g.lastPutMode:void 0;var w=r(r({},m),W.getEventProperties(i,e));for(var x in w)y[x]=w[x];n&&n.dispatchEvent(y),b[_]&&b[_].call(e,y)}}var G=["evt"],Y=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.evt,o=c(n,G);W.pluginEvent.bind(Bt)(t,e,r({dragEl:Z,parentEl:K,ghostEl:Q,rootEl:J,nextEl:$,lastDownEl:tt,cloneEl:et,cloneHidden:nt,dragStarted:vt,putSortable:ct,activeSortable:Bt.active,originalEvent:i,oldIndex:it,oldDraggableIndex:ot,newIndex:rt,newDraggableIndex:at,hideGhostForTarget:Dt,unhideGhostForTarget:Ft,cloneNowHidden:function(){nt=!0},cloneNowShown:function(){nt=!1},dispatchSortableEvent:function(t){X({sortable:e,name:t,originalEvent:i})}},o))};function X(t){q(r({putSortable:ct,cloneEl:et,targetEl:Z,rootEl:J,oldIndex:it,oldDraggableIndex:ot,newIndex:rt,newDraggableIndex:at},t))}var Z,K,Q,J,$,tt,et,nt,it,rt,ot,at,st,ct,lt,ut,dt,pt,ft,ht,vt,gt,mt,yt,bt,_t=!1,wt=!1,xt=[],Ot=!1,St=!1,Et=[],Pt=!1,kt=[],Ct="undefined"!=typeof document,jt=h,Tt=d||u?"cssFloat":"float",Mt=Ct&&!v&&!h&&"draggable"in document.createElement("div"),At=function(){if(Ct){if(u)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}}(),Lt=function(t,e){var n=E(t),i=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),r=M(t,0,e),o=M(t,1,e),a=r&&E(r),s=o&&E(o),c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+j(r).width,l=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+j(o).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&a.float&&"none"!==a.float){var u="left"===a.float?"left":"right";return!o||"both"!==s.clear&&s.clear!==u?"horizontal":"vertical"}return r&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||c>=i&&"none"===n[Tt]||o&&"none"===n[Tt]&&c+l>i)?"vertical":"horizontal"},It=function(t){function e(t,n){return function(i,r,o,a){var s=i.options.group.name&&r.options.group.name&&i.options.group.name===r.options.group.name;if(null==t&&(n||s))return!0;if(null==t||!1===t)return!1;if(n&&"clone"===t)return t;if("function"==typeof t)return e(t(i,r,o,a),n)(i,r,o,a);var c=(n?i:r).options.group.name;return!0===t||"string"==typeof t&&t===c||t.join&&t.indexOf(c)>-1}}var n={},i=t.group;i&&"object"==o(i)||(i={name:i}),n.name=i.name,n.checkPull=e(i.pull,!0),n.checkPut=e(i.put),n.revertClone=i.revertClone,t.group=n},Dt=function(){!At&&Q&&E(Q,"display","none")},Ft=function(){!At&&Q&&E(Q,"display","")};Ct&&document.addEventListener("click",function(t){if(wt)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),wt=!1,!1},!0);var Rt=function(t){if(Z){t=t.touches?t.touches[0]:t;var e=(r=t.clientX,o=t.clientY,xt.some(function(t){var e=t[N].options.emptyInsertThreshold;if(e&&!A(t)){var n=j(t),i=r>=n.left-e&&r<=n.right+e,s=o>=n.top-e&&o<=n.bottom+e;return i&&s?a=t:void 0}}),a);if(e){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.target=n.rootEl=e,n.preventDefault=void 0,n.stopPropagation=void 0,e[N]._onDragOver(n)}}var r,o,a},zt=function(t){Z&&Z.parentNode[N]._isOutsideThisEl(t.target)};function Bt(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=s({},e),t[N]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Lt(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Bt.supportPointer&&"PointerEvent"in window&&!f,emptyInsertThreshold:5};for(var i in W.initializePlugins(this,t,n),n)!(i in e)&&(e[i]=n[i]);for(var r in It(e),this)"_"===r.charAt(0)&&"function"==typeof this[r]&&(this[r]=this[r].bind(this));this.nativeDraggable=!e.forceFallback&&Mt,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?m(t,"pointerdown",this._onTapStart):(m(t,"mousedown",this._onTapStart),m(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(m(t,"dragover",this),m(t,"dragenter",this)),xt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),s(this,U())}function Nt(t,e,n,i,r,o,a,s){var c,l,p=t[N],f=p.options.onMove;return!window.CustomEvent||u||d?(c=document.createEvent("Event")).initEvent("move",!0,!0):c=new CustomEvent("move",{bubbles:!0,cancelable:!0}),c.to=e,c.from=t,c.dragged=n,c.draggedRect=i,c.related=r||e,c.relatedRect=o||j(e),c.willInsertAfter=s,c.originalEvent=a,t.dispatchEvent(c),f&&(l=f.call(p,c,a)),l}function Ut(t){t.draggable=!1}function Ht(){Pt=!1}function Vt(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,i=0;n--;)i+=e.charCodeAt(n);return i.toString(36)}function Wt(t){return setTimeout(t,0)}function qt(t){return clearTimeout(t)}Bt.prototype={constructor:Bt,_isOutsideThisEl:function(t){this.el.contains(t)||t===this.el||(gt=null)},_getDirection:function(t,e){return"function"==typeof this.options.direction?this.options.direction.call(this,t,e,Z):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,n=this.el,i=this.options,r=i.preventOnFilter,o=t.type,a=t.touches&&t.touches[0]||t.pointerType&&"touch"===t.pointerType&&t,s=(a||t).target,c=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||s,l=i.filter;if(function(t){kt.length=0;var e=t.getElementsByTagName("input"),n=e.length;for(;n--;){var i=e[n];i.checked&&kt.push(i)}}(n),!Z&&!(/mousedown|pointerdown/.test(o)&&0!==t.button||i.disabled)&&!c.isContentEditable&&(this.nativeDraggable||!f||!s||"SELECT"!==s.tagName.toUpperCase())&&!((s=w(s,i.draggable,n,!1))&&s.animated||tt===s)){if(it=L(s),ot=L(s,i.draggable),"function"==typeof l){if(l.call(this,t,s,this))return X({sortable:e,rootEl:c,name:"filter",targetEl:s,toEl:n,fromEl:n}),Y("filter",e,{evt:t}),void(r&&t.cancelable&&t.preventDefault())}else if(l&&(l=l.split(",").some(function(i){if(i=w(c,i.trim(),n,!1))return X({sortable:e,rootEl:i,name:"filter",targetEl:s,fromEl:n,toEl:n}),Y("filter",e,{evt:t}),!0})))return void(r&&t.cancelable&&t.preventDefault());i.handle&&!w(c,i.handle,n,!1)||this._prepareDragStart(t,a,s)}}},_prepareDragStart:function(t,e,n){var i,r=this,o=r.el,a=r.options,s=o.ownerDocument;if(n&&!Z&&n.parentNode===o){var c=j(n);if(J=o,K=(Z=n).parentNode,$=Z.nextSibling,tt=n,st=a.group,Bt.dragged=Z,lt={target:Z,clientX:(e||t).clientX,clientY:(e||t).clientY},ft=lt.clientX-c.left,ht=lt.clientY-c.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,Z.style["will-change"]="all",i=function(){Y("delayEnded",r,{evt:t}),Bt.eventCanceled?r._onDrop():(r._disableDelayedDragEvents(),!p&&r.nativeDraggable&&(Z.draggable=!0),r._triggerDragStart(t,e),X({sortable:r,name:"choose",originalEvent:t}),S(Z,a.chosenClass,!0))},a.ignore.split(",").forEach(function(t){k(Z,t.trim(),Ut)}),m(s,"dragover",Rt),m(s,"mousemove",Rt),m(s,"touchmove",Rt),m(s,"mouseup",r._onDrop),m(s,"touchend",r._onDrop),m(s,"touchcancel",r._onDrop),p&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Z.draggable=!0),Y("delayStart",this,{evt:t}),!a.delay||a.delayOnTouchOnly&&!e||this.nativeDraggable&&(d||u))i();else{if(Bt.eventCanceled)return void this._onDrop();m(s,"mouseup",r._disableDelayedDrag),m(s,"touchend",r._disableDelayedDrag),m(s,"touchcancel",r._disableDelayedDrag),m(s,"mousemove",r._delayedDragTouchMoveHandler),m(s,"touchmove",r._delayedDragTouchMoveHandler),a.supportPointer&&m(s,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(i,a.delay)}}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Z&&Ut(Z),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;y(t,"mouseup",this._disableDelayedDrag),y(t,"touchend",this._disableDelayedDrag),y(t,"touchcancel",this._disableDelayedDrag),y(t,"mousemove",this._delayedDragTouchMoveHandler),y(t,"touchmove",this._delayedDragTouchMoveHandler),y(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||"touch"==t.pointerType&&t,!this.nativeDraggable||e?this.options.supportPointer?m(document,"pointermove",this._onTouchMove):m(document,e?"touchmove":"mousemove",this._onTouchMove):(m(Z,"dragend",this),m(J,"dragstart",this._onDragStart));try{document.selection?Wt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(t,e){if(_t=!1,J&&Z){Y("dragStarted",this,{evt:e}),this.nativeDraggable&&m(document,"dragover",zt);var n=this.options;!t&&S(Z,n.dragClass,!1),S(Z,n.ghostClass,!0),Bt.active=this,t&&this._appendGhost(),X({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(ut){this._lastX=ut.clientX,this._lastY=ut.clientY,Dt();for(var t=document.elementFromPoint(ut.clientX,ut.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(ut.clientX,ut.clientY))!==e;)e=t;if(Z.parentNode[N]._isOutsideThisEl(t),e)do{if(e[N]){if(e[N]._onDragOver({clientX:ut.clientX,clientY:ut.clientY,target:t,rootEl:e})&&!this.options.dragoverBubble)break}t=e}while(e=e.parentNode);Ft()}},_onTouchMove:function(t){if(lt){var e=this.options,n=e.fallbackTolerance,i=e.fallbackOffset,r=t.touches?t.touches[0]:t,o=Q&&P(Q,!0),a=Q&&o&&o.a,s=Q&&o&&o.d,c=jt&&bt&&I(bt),l=(r.clientX-lt.clientX+i.x)/(a||1)+(c?c[0]-Et[0]:0)/(a||1),u=(r.clientY-lt.clientY+i.y)/(s||1)+(c?c[1]-Et[1]:0)/(s||1);if(!Bt.active&&!_t){if(n&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}if(Q){o?(o.e+=l-(dt||0),o.f+=u-(pt||0)):o={a:1,b:0,c:0,d:1,e:l,f:u};var d="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");E(Q,"webkitTransform",d),E(Q,"mozTransform",d),E(Q,"msTransform",d),E(Q,"transform",d),dt=l,pt=u,ut=r}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!Q){var t=this.options.fallbackOnBody?document.body:J,e=j(Z,!0,jt,!0,t),n=this.options;if(jt){for(bt=t;"static"===E(bt,"position")&&"none"===E(bt,"transform")&&bt!==document;)bt=bt.parentNode;bt!==document.body&&bt!==document.documentElement?(bt===document&&(bt=C()),e.top+=bt.scrollTop,e.left+=bt.scrollLeft):bt=C(),Et=I(bt)}S(Q=Z.cloneNode(!0),n.ghostClass,!1),S(Q,n.fallbackClass,!0),S(Q,n.dragClass,!0),E(Q,"transition",""),E(Q,"transform",""),E(Q,"box-sizing","border-box"),E(Q,"margin",0),E(Q,"top",e.top),E(Q,"left",e.left),E(Q,"width",e.width),E(Q,"height",e.height),E(Q,"opacity","0.8"),E(Q,"position",jt?"absolute":"fixed"),E(Q,"zIndex","100000"),E(Q,"pointerEvents","none"),Bt.ghost=Q,t.appendChild(Q),E(Q,"transform-origin",ft/parseInt(Q.style.width)*100+"% "+ht/parseInt(Q.style.height)*100+"%")}},_onDragStart:function(t,e){var n=this,i=t.dataTransfer,r=n.options;Y("dragStart",this,{evt:t}),Bt.eventCanceled?this._onDrop():(Y("setupClone",this),Bt.eventCanceled||((et=B(Z)).draggable=!1,et.style["will-change"]="",this._hideClone(),S(et,this.options.chosenClass,!1),Bt.clone=et),n.cloneId=Wt(function(){Y("clone",n),Bt.eventCanceled||(n.options.removeCloneOnHide||J.insertBefore(et,Z),n._hideClone(),X({sortable:n,name:"clone"}))}),!e&&S(Z,r.dragClass,!0),e?(wt=!0,n._loopId=setInterval(n._emulateDragOver,50)):(y(document,"mouseup",n._onDrop),y(document,"touchend",n._onDrop),y(document,"touchcancel",n._onDrop),i&&(i.effectAllowed="move",r.setData&&r.setData.call(n,i,Z)),m(document,"drop",n),E(Z,"transform","translateZ(0)")),_t=!0,n._dragStartId=Wt(n._dragStarted.bind(n,e,t)),m(document,"selectstart",n),vt=!0,f&&E(document.body,"user-select","none"))},_onDragOver:function(t){var e,n,i,o,a=this.el,s=t.target,c=this.options,l=c.group,u=Bt.active,d=st===l,p=c.sort,f=ct||u,h=this,v=!1;if(!Pt){if(void 0!==t.preventDefault&&t.cancelable&&t.preventDefault(),s=w(s,c.draggable,a,!0),B("dragOver"),Bt.eventCanceled)return v;if(Z.contains(t.target)||s.animated&&s.animatingX&&s.animatingY||h._ignoreWhileAnimating===s)return H(!1);if(wt=!1,u&&!c.disabled&&(d?p||(i=K!==J):ct===this||(this.lastPutMode=st.checkPull(this,u,Z,t))&&l.checkPut(this,u,Z,t))){if(o="vertical"===this._getDirection(t,s),e=j(Z),B("dragOverValid"),Bt.eventCanceled)return v;if(i)return K=J,U(),this._hideClone(),B("revert"),Bt.eventCanceled||($?J.insertBefore(Z,$):J.appendChild(Z)),H(!0);var g=A(a,c.draggable);if(!g||function(t,e,n){var i=j(A(n.el,n.options.draggable));return e?t.clientX>i.right+10||t.clientX<=i.right&&t.clientY>i.bottom&&t.clientX>=i.left:t.clientX>i.right&&t.clientY>i.top||t.clientX<=i.right&&t.clientY>i.bottom+10}(t,o,this)&&!g.animated){if(g===Z)return H(!1);if(g&&a===t.target&&(s=g),s&&(n=j(s)),!1!==Nt(J,a,Z,e,s,n,t,!!s))return U(),a.appendChild(Z),K=a,V(),H(!0)}else if(g&&function(t,e,n){var i=j(M(n.el,0,n.options,!0));return e?t.clientX<i.left-10||t.clientY<i.top&&t.clientX<i.right:t.clientY<i.top-10||t.clientY<i.bottom&&t.clientX<i.left}(t,o,this)){var m=M(a,0,c,!0);if(m===Z)return H(!1);if(n=j(s=m),!1!==Nt(J,a,Z,e,s,n,t,!1))return U(),a.insertBefore(Z,m),K=a,V(),H(!0)}else if(s.parentNode===a){n=j(s);var y,b,_,x=Z.parentNode!==a,O=!function(t,e,n){var i=n?t.left:t.top,r=n?t.right:t.bottom,o=n?t.width:t.height,a=n?e.left:e.top,s=n?e.right:e.bottom,c=n?e.width:e.height;return i===a||r===s||i+o/2===a+c/2}(Z.animated&&Z.toRect||e,s.animated&&s.toRect||n,o),P=o?"top":"left",k=T(s,"top","top")||T(Z,"top","top"),C=k?k.scrollTop:void 0;if(gt!==s&&(b=n[P],Ot=!1,St=!O&&c.invertSwap||x),0!==(y=function(t,e,n,i,r,o,a,s){var c=i?t.clientY:t.clientX,l=i?n.height:n.width,u=i?n.top:n.left,d=i?n.bottom:n.right,p=!1;if(!a)if(s&&yt<l*r){if(!Ot&&(1===mt?c>u+l*o/2:c<d-l*o/2)&&(Ot=!0),Ot)p=!0;else if(1===mt?c<u+yt:c>d-yt)return-mt}else if(c>u+l*(1-r)/2&&c<d-l*(1-r)/2)return function(t){return L(Z)<L(t)?1:-1}(e);if((p=p||a)&&(c<u+l*o/2||c>d-l*o/2))return c>u+l/2?1:-1;return 0}(t,s,n,o,O?1:c.swapThreshold,null==c.invertedSwapThreshold?c.swapThreshold:c.invertedSwapThreshold,St,gt===s))){var I=L(Z);do{I-=y,_=K.children[I]}while(_&&("none"===E(_,"display")||_===Q))}if(0===y||_===s)return H(!1);gt=s,mt=y;var D=s.nextElementSibling,F=!1,R=Nt(J,a,Z,e,s,n,t,F=1===y);if(!1!==R)return 1!==R&&-1!==R||(F=1===R),Pt=!0,setTimeout(Ht,30),U(),F&&!D?a.appendChild(Z):s.parentNode.insertBefore(Z,F?D:s),k&&z(k,0,C-k.scrollTop),K=Z.parentNode,void 0===b||St||(yt=Math.abs(b-j(s)[P])),V(),H(!0)}if(a.contains(Z))return H(!1)}return!1}function B(c,l){Y(c,h,r({evt:t,isOwner:d,axis:o?"vertical":"horizontal",revert:i,dragRect:e,targetRect:n,canSort:p,fromSortable:f,target:s,completed:H,onMove:function(n,i){return Nt(J,a,Z,e,n,j(n),t,i)},changed:V},l))}function U(){B("dragOverAnimationCapture"),h.captureAnimationState(),h!==f&&f.captureAnimationState()}function H(e){return B("dragOverCompleted",{insertion:e}),e&&(d?u._hideClone():u._showClone(h),h!==f&&(S(Z,ct?ct.options.ghostClass:u.options.ghostClass,!1),S(Z,c.ghostClass,!0)),ct!==h&&h!==Bt.active?ct=h:h===Bt.active&&ct&&(ct=null),f===h&&(h._ignoreWhileAnimating=s),h.animateAll(function(){B("dragOverAnimationComplete"),h._ignoreWhileAnimating=null}),h!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(s===Z&&!Z.animated||s===a&&!s.animated)&&(gt=null),c.dragoverBubble||t.rootEl||s===document||(Z.parentNode[N]._isOutsideThisEl(t.target),!e&&Rt(t)),!c.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),v=!0}function V(){rt=L(Z),at=L(Z,c.draggable),X({sortable:h,name:"change",toEl:a,newIndex:rt,newDraggableIndex:at,originalEvent:t})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){y(document,"mousemove",this._onTouchMove),y(document,"touchmove",this._onTouchMove),y(document,"pointermove",this._onTouchMove),y(document,"dragover",Rt),y(document,"mousemove",Rt),y(document,"touchmove",Rt)},_offUpEvents:function(){var t=this.el.ownerDocument;y(t,"mouseup",this._onDrop),y(t,"touchend",this._onDrop),y(t,"pointerup",this._onDrop),y(t,"touchcancel",this._onDrop),y(document,"selectstart",this)},_onDrop:function(t){var e=this.el,n=this.options;rt=L(Z),at=L(Z,n.draggable),Y("drop",this,{evt:t}),K=Z&&Z.parentNode,rt=L(Z),at=L(Z,n.draggable),Bt.eventCanceled?this._nulling():(_t=!1,St=!1,Ot=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),qt(this.cloneId),qt(this._dragStartId),this.nativeDraggable&&(y(document,"drop",this),y(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),f&&E(document.body,"user-select",""),E(Z,"transform",""),t&&(vt&&(t.cancelable&&t.preventDefault(),!n.dropBubble&&t.stopPropagation()),Q&&Q.parentNode&&Q.parentNode.removeChild(Q),(J===K||ct&&"clone"!==ct.lastPutMode)&&et&&et.parentNode&&et.parentNode.removeChild(et),Z&&(this.nativeDraggable&&y(Z,"dragend",this),Ut(Z),Z.style["will-change"]="",vt&&!_t&&S(Z,ct?ct.options.ghostClass:this.options.ghostClass,!1),S(Z,this.options.chosenClass,!1),X({sortable:this,name:"unchoose",toEl:K,newIndex:null,newDraggableIndex:null,originalEvent:t}),J!==K?(rt>=0&&(X({rootEl:K,name:"add",toEl:K,fromEl:J,originalEvent:t}),X({sortable:this,name:"remove",toEl:K,originalEvent:t}),X({rootEl:K,name:"sort",toEl:K,fromEl:J,originalEvent:t}),X({sortable:this,name:"sort",toEl:K,originalEvent:t})),ct&&ct.save()):rt!==it&&rt>=0&&(X({sortable:this,name:"update",toEl:K,originalEvent:t}),X({sortable:this,name:"sort",toEl:K,originalEvent:t})),Bt.active&&(null!=rt&&-1!==rt||(rt=it,at=ot),X({sortable:this,name:"end",toEl:K,originalEvent:t}),this.save()))),this._nulling())},_nulling:function(){Y("nulling",this),J=Z=K=Q=$=et=tt=nt=lt=ut=vt=rt=at=it=ot=gt=mt=ct=st=Bt.dragged=Bt.ghost=Bt.clone=Bt.active=null,kt.forEach(function(t){t.checked=!0}),kt.length=dt=pt=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":Z&&(this._onDragOver(t),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move");t.cancelable&&t.preventDefault()}(t));break;case"selectstart":t.preventDefault()}},toArray:function(){for(var t,e=[],n=this.el.children,i=0,r=n.length,o=this.options;i<r;i++)w(t=n[i],o.draggable,this.el,!1)&&e.push(t.getAttribute(o.dataIdAttr)||Vt(t));return e},sort:function(t,e){var n={},i=this.el;this.toArray().forEach(function(t,e){var r=i.children[e];w(r,this.options.draggable,i,!1)&&(n[t]=r)},this),e&&this.captureAnimationState(),t.forEach(function(t){n[t]&&(i.removeChild(n[t]),i.appendChild(n[t]))}),e&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return w(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var n=this.options;if(void 0===e)return n[t];var i=W.modifyOption(this,t,e);n[t]=void 0!==i?i:e,"group"===t&&It(n)},destroy:function(){Y("destroy",this);var t=this.el;t[N]=null,y(t,"mousedown",this._onTapStart),y(t,"touchstart",this._onTapStart),y(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(y(t,"dragover",this),y(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),xt.splice(xt.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!nt){if(Y("hideClone",this),Bt.eventCanceled)return;E(et,"display","none"),this.options.removeCloneOnHide&&et.parentNode&&et.parentNode.removeChild(et),nt=!0}},_showClone:function(t){if("clone"===t.lastPutMode){if(nt){if(Y("showClone",this),Bt.eventCanceled)return;Z.parentNode!=J||this.options.group.revertClone?$?J.insertBefore(et,$):J.appendChild(et):J.insertBefore(et,Z),this.options.group.revertClone&&this.animate(Z,et),E(et,"display",""),nt=!1}}else this._hideClone()}},Ct&&m(document,"touchmove",function(t){(Bt.active||_t)&&t.cancelable&&t.preventDefault()}),Bt.utils={on:m,off:y,css:E,find:k,is:function(t,e){return!!w(t,e,t,!1)},extend:function(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},throttle:R,closest:w,toggleClass:S,clone:B,index:L,nextTick:Wt,cancelNextTick:qt,detectDirection:Lt,getChild:M},Bt.get=function(t){return t[N]},Bt.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(t){if(!t.prototype||!t.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(t));t.utils&&(Bt.utils=r(r({},Bt.utils),t.utils)),W.mount(t)})},Bt.create=function(t,e){return new Bt(t,e)},Bt.version="1.14.0";var Gt,Yt,Xt,Zt,Kt,Qt,Jt=[],$t=!1;function te(){Jt.forEach(function(t){clearInterval(t.pid)}),Jt=[]}function ee(){clearInterval(Qt)}var ne=R(function(t,e,n,i){if(e.scroll){var r,o=(t.touches?t.touches[0]:t).clientX,a=(t.touches?t.touches[0]:t).clientY,s=e.scrollSensitivity,c=e.scrollSpeed,l=C(),u=!1;Yt!==n&&(Yt=n,te(),Gt=e.scroll,r=e.scrollFn,!0===Gt&&(Gt=D(n,!0)));var d=0,p=Gt;do{var f=p,h=j(f),v=h.top,g=h.bottom,m=h.left,y=h.right,b=h.width,_=h.height,w=void 0,x=void 0,O=f.scrollWidth,S=f.scrollHeight,P=E(f),k=f.scrollLeft,T=f.scrollTop;f===l?(w=b<O&&("auto"===P.overflowX||"scroll"===P.overflowX||"visible"===P.overflowX),x=_<S&&("auto"===P.overflowY||"scroll"===P.overflowY||"visible"===P.overflowY)):(w=b<O&&("auto"===P.overflowX||"scroll"===P.overflowX),x=_<S&&("auto"===P.overflowY||"scroll"===P.overflowY));var M=w&&(Math.abs(y-o)<=s&&k+b<O)-(Math.abs(m-o)<=s&&!!k),A=x&&(Math.abs(g-a)<=s&&T+_<S)-(Math.abs(v-a)<=s&&!!T);if(!Jt[d])for(var L=0;L<=d;L++)Jt[L]||(Jt[L]={});Jt[d].vx==M&&Jt[d].vy==A&&Jt[d].el===f||(Jt[d].el=f,Jt[d].vx=M,Jt[d].vy=A,clearInterval(Jt[d].pid),0==M&&0==A||(u=!0,Jt[d].pid=setInterval(function(){i&&0===this.layer&&Bt.active._onTouchMove(Kt);var e=Jt[this.layer].vy?Jt[this.layer].vy*c:0,n=Jt[this.layer].vx?Jt[this.layer].vx*c:0;"function"==typeof r&&"continue"!==r.call(Bt.dragged.parentNode[N],n,e,t,Kt,Jt[this.layer].el)||z(Jt[this.layer].el,n,e)}.bind({layer:d}),24))),d++}while(e.bubbleScroll&&p!==l&&(p=D(p,!1)));$t=u}},30),ie=function(t){var e=t.originalEvent,n=t.putSortable,i=t.dragEl,r=t.activeSortable,o=t.dispatchSortableEvent,a=t.hideGhostForTarget,s=t.unhideGhostForTarget;if(e){var c=n||r;a();var l=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,u=document.elementFromPoint(l.clientX,l.clientY);s(),c&&!c.el.contains(u)&&(o("spill"),this.onSpill({dragEl:i,putSortable:n}))}};function re(){}function oe(){}re.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){var e=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var i=M(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(e,i):this.sortable.el.appendChild(e),this.sortable.animateAll(),n&&n.animateAll()},drop:ie},s(re,{pluginName:"revertOnSpill"}),oe.prototype={onSpill:function(t){var e=t.dragEl,n=t.putSortable||this.sortable;n.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),n.animateAll()},drop:ie},s(oe,{pluginName:"removeOnSpill"});Bt.mount(new function(){function t(){for(var t in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this))}return t.prototype={dragStarted:function(t){var e=t.originalEvent;this.sortable.nativeDraggable?m(document,"dragover",this._handleAutoScroll):this.options.supportPointer?m(document,"pointermove",this._handleFallbackAutoScroll):e.touches?m(document,"touchmove",this._handleFallbackAutoScroll):m(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var e=t.originalEvent;this.options.dragOverBubble||e.rootEl||this._handleAutoScroll(e)},drop:function(){this.sortable.nativeDraggable?y(document,"dragover",this._handleAutoScroll):(y(document,"pointermove",this._handleFallbackAutoScroll),y(document,"touchmove",this._handleFallbackAutoScroll),y(document,"mousemove",this._handleFallbackAutoScroll)),ee(),te(),clearTimeout(x),x=void 0},nulling:function(){Kt=Yt=Gt=$t=Qt=Xt=Zt=null,Jt.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,e){var n=this,i=(t.touches?t.touches[0]:t).clientX,r=(t.touches?t.touches[0]:t).clientY,o=document.elementFromPoint(i,r);if(Kt=t,e||this.options.forceAutoScrollFallback||d||u||f){ne(t,this.options,o,e);var a=D(o,!0);!$t||Qt&&i===Xt&&r===Zt||(Qt&&ee(),Qt=setInterval(function(){var o=D(document.elementFromPoint(i,r),!0);o!==a&&(a=o,te()),ne(t,n.options,o,e)},10),Xt=i,Zt=r)}else{if(!this.options.bubbleScroll||D(o,!0)===C())return void te();ne(t,this.options,D(o,!1),!1)}}},s(t,{pluginName:"scroll",initializeByDefault:!0})}),Bt.mount(oe,re),e.a=Bt},,,,,function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.PdfrenderView=void 0;var i=n(191),r=n(47),o=function(){function e(t){void 0===t&&(t={}),Object.assign(this,t)}return e.prototype.fileInfo=function(t,e){this.workerServer},e.prototype.renderPage=function(e,n,o,a,s,c,l,u){var d=this;void 0===s&&(s=150),void 0===c&&(c=null),void 0===l&&(l={}),void 0===u&&(u=2);var p,f=this.workerServer+"/v1/pdfrender/"+e+"/"+n+"/"+o+"/"+s;if(null!=c&&(f+="/1/"+c),f+="?token="+window.ilovepdfConfig.token,"resetForms"in l){var h=!0===l.resetForms?1:0;f+="&reset_forms="+h}"string"==typeof a?p=t("#"+a):(p=a,p=t(a)),p.attr("src",f),p.attr("data-dpi",s),i.ImageHelper.test(f).then(function(){},function(){p.attr("src","data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22/%3E"),u>0?window.setTimeout(function(){r.Api.ping(f,!0).then(function(){u--,d.renderPage(e,n,o,a,s,c,l,u)},function(){})},500):p.attr("src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAA1JREFUGFdjeJSQ8B8ABmwCooj3XREAAAAASUVORK5CYII=")})},e}();e.PdfrenderView=o}).call(this,n(1))},function(t,e,n){t.exports=function(){function t(t){var e;return function(n){return e||t(e={exports:{},parent:n},e.exports),e.exports}}var e=t(function(t,e){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Interactable=void 0;var r=m(P),a=v(L),s=v(U),c=v(Ct),l=v(Qt),u=m(p),d=v(Jt),f=v(re),h=n({});function v(t){return t&&t.__esModule?t:{default:t}}function g(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return g=function(){return t},t}function m(t){if(t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!=typeof t)return{default:t};var e=g();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=r?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}function y(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function b(t,e,n){return e&&y(t.prototype,e),n&&y(t,n),t}function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var w=function(){function t(e,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),_(this,"options",void 0),_(this,"_actions",void 0),_(this,"target",void 0),_(this,"events",new f.default),_(this,"_context",void 0),_(this,"_win",void 0),_(this,"_doc",void 0),this._actions=n.actions,this.target=e,this._context=n.context||i,this._win=(0,o.getWindow)((0,Y.trySelector)(e)?this._context:e),this._doc=this._win.document,this.set(n)}return b(t,[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}}]),b(t,[{key:"setOnEvents",value:function(t,e){return u.func(e.onstart)&&this.on("".concat(t,"start"),e.onstart),u.func(e.onmove)&&this.on("".concat(t,"move"),e.onmove),u.func(e.onend)&&this.on("".concat(t,"end"),e.onend),u.func(e.oninertiastart)&&this.on("".concat(t,"inertiastart"),e.oninertiastart),this}},{key:"updatePerActionListeners",value:function(t,e,n){(u.array(e)||u.object(e))&&this.off(t,e),(u.array(n)||u.object(n))&&this.on(t,n)}},{key:"setPerAction",value:function(t,e){var n=this._defaults;for(var i in e){var o=i,a=this.options[t],c=e[o];"listeners"===o&&this.updatePerActionListeners(t,a.listeners,c),u.array(c)?a[o]=r.from(c):u.plainObject(c)?(a[o]=(0,l.default)(a[o]||{},(0,s.default)(c)),u.object(n.perAction[o])&&"enabled"in n.perAction[o]&&(a[o].enabled=!1!==c.enabled)):u.bool(c)&&u.object(n.perAction[o])?a[o].enabled=c:a[o]=c}}},{key:"getRect",value:function(t){return t=t||(u.element(this.target)?this.target:null),u.string(this.target)&&(t=t||this._context.querySelector(this.target)),(0,Y.getElementRect)(t)}},{key:"rectChecker",value:function(t){return u.func(t)?(this.getRect=t,this):null===t?(delete this.getRect,this):this.getRect}},{key:"_backCompatOption",value:function(t,e){if((0,Y.trySelector)(e)||u.object(e)){for(var n in this.options[t]=e,this._actions.map)this.options[n][t]=e;return this}return this.options[t]}},{key:"origin",value:function(t){return this._backCompatOption("origin",t)}},{key:"deltaSource",value:function(t){return"page"===t||"client"===t?(this.options.deltaSource=t,this):this.options.deltaSource}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(t){return this._context===t.ownerDocument||(0,Y.nodeContains)(this._context,t)}},{key:"testIgnoreAllow",value:function(t,e,n){return!this.testIgnore(t.ignoreFrom,e,n)&&this.testAllow(t.allowFrom,e,n)}},{key:"testAllow",value:function(t,e,n){return!t||!!u.element(n)&&(u.string(t)?(0,Y.matchesUpTo)(n,t,e):!!u.element(t)&&(0,Y.nodeContains)(t,n))}},{key:"testIgnore",value:function(t,e,n){return!(!t||!u.element(n))&&(u.string(t)?(0,Y.matchesUpTo)(n,t,e):!!u.element(t)&&(0,Y.nodeContains)(t,n))}},{key:"fire",value:function(t){return this.events.fire(t),this}},{key:"_onOff",value:function(t,e,n,i){u.object(e)&&!u.array(e)&&(i=n,n=null);var r="on"===t?"add":"remove",o=(0,d.default)(e,n);for(var s in o){"wheel"===s&&(s=a.default.wheelEvent);for(var l=0;l<o[s].length;l++){var p=o[s][l];(0,h.isNonNativeEvent)(s,this._actions)?this.events[t](s,p):u.string(this.target)?c.default["".concat(r,"Delegate")](this.target,this._context,s,p,i):c.default[r](this.target,s,p,i)}}return this}},{key:"on",value:function(t,e,n){return this._onOff("on",t,e,n)}},{key:"off",value:function(t,e,n){return this._onOff("off",t,e,n)}},{key:"set",value:function(t){var e=this._defaults;for(var n in u.object(t)||(t={}),this.options=(0,s.default)(e.base),this._actions.methodDict){var i=n,r=this._actions.methodDict[i];this.options[i]={},this.setPerAction(i,(0,l.default)((0,l.default)({},e.perAction),e.actions[i])),this[r](t[i])}for(var o in t)u.func(this[o])&&this[o](t[o]);return this}},{key:"unset",value:function(){if(c.default.remove(this.target,"all"),u.string(this.target))for(var t in c.default.delegatedEvents){var e=c.default.delegatedEvents[t];e.selectors[0]===this.target&&e.contexts[0]===this._context&&(e.selectors.splice(0,1),e.contexts.splice(0,1),e.listeners.splice(0,1)),c.default.remove(this._context,t,c.default.delegateListener),c.default.remove(this._context,t,c.default.delegateUseCapture,!0)}else c.default.remove(this.target,"all")}}]),t}(),x=e.Interactable=w;e.default=x}),n=t(function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isNonNativeEvent=function(t,e){if(e.phaselessTypes[t])return!0;for(var n in e.map)if(0===t.indexOf(n)&&t.substr(n.length)in e.phases)return!0;return!1},n.Scope=void 0;var r=p(j),o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==f(t)&&"function"!=typeof t)return{default:t};var e=function(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return t}();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=i?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=t[r]}return n.default=t,e&&e.set(t,n),n}(Pe),a=p(qe),s=p(re),c=p(e({})),l=p(Ye),u=p(pn),d=p(i({}));function p(t){return t&&t.__esModule?t:{default:t}}function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e,n){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=v(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function b(t,e,n){return e&&y(t.prototype,e),n&&y(t,n),t}function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var w=o.win,x=o.browser,O=o.raf,S=o.events,E=function(){function t(){var e=this;m(this,t),_(this,"id","__interact_scope_".concat(Math.floor(100*Math.random()))),_(this,"listenerMaps",[]),_(this,"browser",x),_(this,"events",S),_(this,"utils",o),_(this,"defaults",o.clone(a.default)),_(this,"Eventable",s.default),_(this,"actions",{map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}}),_(this,"InteractEvent",u.default),_(this,"Interactable",void 0),_(this,"interactables",new l.default(this)),_(this,"_win",void 0),_(this,"document",void 0),_(this,"window",void 0),_(this,"documents",[]),_(this,"_plugins",{list:[],map:{}}),_(this,"onWindowUnload",function(t){return e.removeDocument(t.target)});var n=this;this.Interactable=function(){function t(){return m(this,t),e=this,!(n=v(t).apply(this,arguments))||"object"!==f(n)&&"function"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):n;var e,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}(t,c.default),b(t,[{key:"set",value:function(e){return h(v(t.prototype),"set",this).call(this,e),n.fire("interactable:set",{options:e,interactable:this}),this}},{key:"unset",value:function(){h(v(t.prototype),"unset",this).call(this);for(var e=n.interactions.list.length-1;0<=e;e--){var i=n.interactions.list[e];i.interactable===this&&(i.stop(),n.fire("interactions:destroy",{interaction:i}),i.destroy(),2<n.interactions.list.length&&n.interactions.list.splice(e,1))}n.fire("interactable:unset",{interactable:this})}},{key:"_defaults",get:function(){return n.defaults}}]),t}()}return b(t,[{key:"addListeners",value:function(t,e){this.listenerMaps.push({id:e,map:t})}},{key:"fire",value:function(t,e){for(var n=0;n<this.listenerMaps.length;n++){var i=this.listenerMaps[n].map[t];if(i&&!1===i(e,this,t))return!1}}},{key:"init",value:function(t){return function(t,e){return w.init(e),r.default.init(e),x.init(e),O.init(e),S.init(e),t.usePlugin(d.default),t.document=e.document,t.window=e,t}(this,t)}},{key:"pluginIsInstalled",value:function(t){return this._plugins.map[t.id]||-1!==this._plugins.list.indexOf(t)}},{key:"usePlugin",value:function(t,e){if(this.pluginIsInstalled(t))return this;if(t.id&&(this._plugins.map[t.id]=t),this._plugins.list.push(t),t.install&&t.install(this,e),t.listeners&&t.before){for(var n=0,i=this.listenerMaps.length,r=t.before.reduce(function(t,e){return t[e]=!0,t},{});n<i&&!r[this.listenerMaps[n].id];n++);this.listenerMaps.splice(n,0,{id:t.id,map:t.listeners})}else t.listeners&&this.listenerMaps.push({id:t.id,map:t.listeners});return this}},{key:"addDocument",value:function(t,e){if(-1!==this.getDocIndex(t))return!1;var n=w.getWindow(t);e=e?o.extend({},e):{},this.documents.push({doc:t,options:e}),S.documents.push(t),t!==this.document&&S.add(n,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:t,window:n,scope:this,options:e})}},{key:"removeDocument",value:function(t){var e=this.getDocIndex(t),n=w.getWindow(t),i=this.documents[e].options;S.remove(n,"unload",this.onWindowUnload),this.documents.splice(e,1),S.documents.splice(e,1),this.fire("scope:remove-document",{doc:t,window:n,scope:this,options:i})}},{key:"getDocIndex",value:function(t){for(var e=0;e<this.documents.length;e++)if(this.documents[e].doc===t)return e;return-1}},{key:"getDocOptions",value:function(t){var e=this.getDocIndex(t);return-1===e?null:this.documents[e].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),t}();n.Scope=E}),i=t(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=l(L),r=l(j),o=l(Ct),a=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==u(t)&&"function"!=typeof t)return{default:t};var e=function(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return t}();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=i?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=t[r]}return n.default=t,e&&e.set(t,n),n}(dt),s=l(jn),c=l(qn);function l(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function p(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n({});var v=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function g(t,e){return function(n){var r=e.interactions.list,o=a.getPointerType(n),s=d(a.getEventTargets(n),2),c=s[0],l=s[1],u=[];if(/^touch/.test(n.type)){e.prevTouchTime=e.now();for(var p=0;p<n.changedTouches.length;p++){var f=n.changedTouches[p],h={pointer:f,pointerId:a.getPointerId(f),pointerType:o,eventType:n.type,eventTarget:c,curEventTarget:l,scope:e},v=m(h);u.push([h.pointer,h.eventTarget,h.curEventTarget,v])}}else{var g=!1;if(!i.default.supportsPointerEvent&&/mouse/.test(n.type)){for(var y=0;y<r.length&&!g;y++)g="mouse"!==r[y].pointerType&&r[y].pointerIsDown;g=g||e.now()-e.prevTouchTime<500||0===n.timeStamp}if(!g){var b={pointer:n,pointerId:a.getPointerId(n),pointerType:o,eventType:n.type,curEventTarget:l,eventTarget:c,scope:e},_=m(b);u.push([b.pointer,b.eventTarget,b.curEventTarget,_])}}for(var w=0;w<u.length;w++){var x=d(u[w],4),O=x[0],S=x[1],E=x[2];x[3][t](O,n,S,E)}}}function m(t){var e=t.pointerType,n=t.scope,i={interaction:c.default.search(t),searchDetails:t};return n.fire("interactions:find",i),i.interaction||n.interactions.new({pointerType:e})}function y(t,e){var n=t.doc,i=t.scope,r=t.options,a=i.interactions.docEvents,s=o.default[e];for(var c in i.browser.isIOS&&!r.events&&(r.events={passive:!1}),o.default.delegatedEvents)s(n,c,o.default.delegateListener),s(n,c,o.default.delegateUseCapture,!0);for(var l=r&&r.events,u=0;u<a.length;u++){var d=a[u];s(n,d.type,d.listener,l)}}var b={id:"core/interactions",install:function(t){for(var e={},n=0;n<v.length;n++){var o=v[n];e[o]=g(o,t)}var a,c=i.default.pEventTypes;function l(){for(var e=0;e<t.interactions.list.length;e++){var n=t.interactions.list[e];if(n.pointerIsDown&&"touch"===n.pointerType&&!n._interacting)for(var i=function(){var e=n.pointers[r];t.documents.some(function(t){var n=t.doc;return(0,Y.nodeContains)(n,e.downTarget)})||n.removePointer(e.pointer,e.event)},r=0;r<n.pointers.length;r++)i()}}(a=r.default.PointerEvent?[{type:c.down,listener:l},{type:c.down,listener:e.pointerDown},{type:c.move,listener:e.pointerMove},{type:c.up,listener:e.pointerUp},{type:c.cancel,listener:e.pointerUp}]:[{type:"mousedown",listener:e.pointerDown},{type:"mousemove",listener:e.pointerMove},{type:"mouseup",listener:e.pointerUp},{type:"touchstart",listener:l},{type:"touchstart",listener:e.pointerDown},{type:"touchmove",listener:e.pointerMove},{type:"touchend",listener:e.pointerUp},{type:"touchcancel",listener:e.pointerUp}]).push({type:"blur",listener:function(e){for(var n=0;n<t.interactions.list.length;n++)t.interactions.list[n].documentBlur(e)}}),t.prevTouchTime=0,t.Interaction=function(){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,f(e).apply(this,arguments))}var n,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,s.default),n=e,(i=[{key:"_now",value:function(){return t.now()}},{key:"pointerMoveTolerance",get:function(){return t.interactions.pointerMoveTolerance},set:function(e){t.interactions.pointerMoveTolerance=e}}])&&p(n.prototype,i),e}(),t.interactions={list:[],new:function(e){e.scopeFire=function(e,n){return t.fire(e,n)};var n=new t.Interaction(e);return t.interactions.list.push(n),n},listeners:e,docEvents:a,pointerMoveTolerance:1}},listeners:{"scope:add-document":function(t){return y(t,"add")},"scope:remove-document":function(t){return y(t,"remove")}},onDocSignal:y,doOnInteractions:g,methodNames:v};e.default=b}),r={};Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,r.default=function(t){return!(!t||!t.Window)&&t instanceof t.Window};var o={};Object.defineProperty(o,"__esModule",{value:!0}),o.init=l,o.getWindow=u,o.default=void 0;var a,s=(a=r)&&a.__esModule?a:{default:a},c={realWindow:void 0,window:void 0,getWindow:u,init:l};function l(t){var e=(c.realWindow=t).document.createTextNode("");e.ownerDocument!==t.document&&"function"==typeof t.wrap&&t.wrap(e)===e&&(t=t.wrap(t)),c.window=t}function u(t){return(0,s.default)(t)?t:(t.ownerDocument||t).defaultView||c.window}"undefined"==typeof window?(c.window=void 0,c.realWindow=void 0):l(window),c.init=l;var d=c;o.default=d;var p={};Object.defineProperty(p,"__esModule",{value:!0}),p.array=p.plainObject=p.element=p.string=p.bool=p.number=p.func=p.object=p.docFrag=p.window=void 0;var f=v(r),h=v(o);function v(t){return t&&t.__esModule?t:{default:t}}function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}p.window=function(t){return t===h.default.window||(0,f.default)(t)},p.docFrag=function(t){return m(t)&&11===t.nodeType};var m=function(t){return!!t&&"object"===g(t)};function y(t){return"function"==typeof t}p.object=m,p.func=y,p.number=function(t){return"number"==typeof t},p.bool=function(t){return"boolean"==typeof t},p.string=function(t){return"string"==typeof t},p.element=function(t){if(!t||"object"!==g(t))return!1;var e=h.default.getWindow(t)||h.default.window;return/object|function/.test(g(e.Element))?t instanceof e.Element:1===t.nodeType&&"string"==typeof t.nodeName},p.plainObject=function(t){return m(t)&&!!t.constructor&&/function Object\b/.test(t.constructor.toString())},p.array=function(t){return m(t)&&void 0!==t.length&&y(t.splice)};var b={};function _(t){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var w=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==_(t)&&"function"!=typeof t)return{default:t};var e=function(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return t}();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=i?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=t[r]}return n.default=t,e&&e.set(t,n),n}(p);function x(t){var e=t.interaction;if("drag"===e.prepared.name){var n=e.prepared.axis;"x"===n?(e.coords.cur.page.y=e.coords.start.page.y,e.coords.cur.client.y=e.coords.start.client.y,e.coords.velocity.client.y=0,e.coords.velocity.page.y=0):"y"===n&&(e.coords.cur.page.x=e.coords.start.page.x,e.coords.cur.client.x=e.coords.start.client.x,e.coords.velocity.client.x=0,e.coords.velocity.page.x=0)}}function O(t){var e=t.iEvent,n=t.interaction;if("drag"===n.prepared.name){var i=n.prepared.axis;if("x"===i||"y"===i){var r="x"===i?"y":"x";e.page[r]=n.coords.start.page[r],e.client[r]=n.coords.start.client[r],e.delta[r]=0}}}var S={id:"actions/drag",install:function(t){var e=t.actions,n=t.Interactable,i=t.defaults;n.prototype.draggable=S.draggable,e.map.drag=S,e.methodDict.drag="draggable",i.actions.drag=S.defaults},listeners:{"interactions:before-action-move":x,"interactions:action-resume":x,"interactions:action-move":O,"auto-start:check":function(t){var e=t.interaction,n=t.interactable,i=t.buttons,r=n.options.drag;if(r&&r.enabled&&(!e.pointerIsDown||!/mouse|pointer/.test(e.pointerType)||0!=(i&n.options.drag.mouseButtons)))return!(t.action={name:"drag",axis:"start"===r.lockAxis?r.startAxis:r.lockAxis})}},draggable:function(t){return w.object(t)?(this.options.drag.enabled=!1!==t.enabled,this.setPerAction("drag",t),this.setOnEvents("drag",t),/^(xy|x|y|start)$/.test(t.lockAxis)&&(this.options.drag.lockAxis=t.lockAxis),/^(xy|x|y)$/.test(t.startAxis)&&(this.options.drag.startAxis=t.startAxis),this):w.bool(t)?(this.options.drag.enabled=t,this):this.options.drag},beforeMove:x,move:O,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"}},E=S;b.default=E;var P={};function k(t,e){for(var n=0;n<e.length;n++){var i=e[n];t.push(i)}return t}function C(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1}Object.defineProperty(P,"__esModule",{value:!0}),P.contains=function(t,e){return-1!==t.indexOf(e)},P.remove=function(t,e){return t.splice(t.indexOf(e),1)},P.merge=k,P.from=function(t){return k([],t)},P.findIndex=C,P.find=function(t,e){return t[C(t,e)]};var j={};Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var T={init:function(t){var e=t;T.document=e.document,T.DocumentFragment=e.DocumentFragment||M,T.SVGElement=e.SVGElement||M,T.SVGSVGElement=e.SVGSVGElement||M,T.SVGElementInstance=e.SVGElementInstance||M,T.Element=e.Element||M,T.HTMLElement=e.HTMLElement||T.Element,T.Event=e.Event,T.Touch=e.Touch||M,T.PointerEvent=e.PointerEvent||e.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function M(){}var A=T;j.default=A;var L={};function I(t){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(L,"__esModule",{value:!0}),L.default=void 0;var D=z(j),F=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==I(t)&&"function"!=typeof t)return{default:t};var e=function(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return t}();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=i?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=t[r]}return n.default=t,e&&e.set(t,n),n}(p),R=z(o);function z(t){return t&&t.__esModule?t:{default:t}}var B={init:function(t){var e=D.default.Element,n=R.default.window.navigator;B.supportsTouch="ontouchstart"in t||F.func(t.DocumentTouch)&&D.default.document instanceof t.DocumentTouch,B.supportsPointerEvent=!1!==n.pointerEnabled&&!!D.default.PointerEvent,B.isIOS=/iP(hone|od|ad)/.test(n.platform),B.isIOS7=/iP(hone|od|ad)/.test(n.platform)&&/OS 7[^\d]/.test(n.appVersion),B.isIe9=/MSIE 9/.test(n.userAgent),B.isOperaMobile="Opera"===n.appName&&B.supportsTouch&&/Presto/.test(n.userAgent),B.prefixedMatchesSelector="matches"in e.prototype?"matches":"webkitMatchesSelector"in e.prototype?"webkitMatchesSelector":"mozMatchesSelector"in e.prototype?"mozMatchesSelector":"oMatchesSelector"in e.prototype?"oMatchesSelector":"msMatchesSelector",B.pEventTypes=B.supportsPointerEvent?D.default.PointerEvent===t.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,B.wheelEvent="onmousewheel"in D.default.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},N=B;L.default=N;var U={};function H(t){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(U,"__esModule",{value:!0}),U.default=function t(e){var n={};for(var i in e){var r=e[i];W.plainObject(r)?n[i]=t(r):W.array(r)?n[i]=V.from(r):n[i]=r}return n};var V=G(P),W=G(p);function q(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return q=function(){return t},t}function G(t){if(t&&t.__esModule)return t;if(null===t||"object"!==H(t)&&"function"!=typeof t)return{default:t};var e=q();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=i?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=t[r]}return n.default=t,e&&e.set(t,n),n}var Y={};function X(t){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(Y,"__esModule",{value:!0}),Y.nodeContains=function(t,e){for(;e;){if(e===t)return!0;e=e.parentNode}return!1},Y.closest=function(t,e){for(;Q.element(t);){if(it(t,e))return t;t=nt(t)}return null},Y.parentNode=nt,Y.matchesSelector=it,Y.indexOfDeepestElement=function(t){var e,n,i=[],r=t[0],o=r?0:-1;for(e=1;e<t.length;e++){var a=t[e];if(a&&a!==r)if(r){if(a.parentNode!==a.ownerDocument)if(r.parentNode!==a.ownerDocument)if(a.parentNode!==r.parentNode){if(!i.length)for(var s=r,c=void 0;(c=rt(s))&&c!==s.ownerDocument;)i.unshift(s),s=c;var l=void 0;if(r instanceof K.default.HTMLElement&&a instanceof K.default.SVGElement&&!(a instanceof K.default.SVGSVGElement)){if(a===r.parentNode)continue;l=a.ownerSVGElement}else l=a;for(var u=[];l.parentNode!==l.ownerDocument;)u.unshift(l),l=rt(l);for(n=0;u[n]&&u[n]===i[n];)n++;for(var d=[u[n-1],u[n],i[n]],p=d[0].lastChild;p;){if(p===d[1]){r=a,o=e,i=u;break}if(p===d[2])break;p=p.previousSibling}}else{var f=parseInt((0,J.getWindow)(r).getComputedStyle(r).zIndex,10)||0,h=parseInt((0,J.getWindow)(a).getComputedStyle(a).zIndex,10)||0;f<=h&&(r=a,o=e)}else r=a,o=e}else r=a,o=e}return o},Y.matchesUpTo=function(t,e,n){for(;Q.element(t);){if(it(t,e))return!0;if((t=nt(t))===n)return it(t,e)}return!1},Y.getActualElement=function(t){return t instanceof K.default.SVGElementInstance?t.correspondingUseElement:t},Y.getScrollXY=ot,Y.getElementClientRect=at,Y.getElementRect=function(t){var e=at(t);if(!Z.default.isIOS7&&e){var n=ot(J.default.getWindow(t));e.left+=n.x,e.right+=n.x,e.top+=n.y,e.bottom+=n.y}return e},Y.getPath=function(t){for(var e=[];t;)e.push(t),t=nt(t);return e},Y.trySelector=function(t){return!!Q.string(t)&&(K.default.document.querySelector(t),!0)};var Z=et(L),K=et(j),Q=tt(p),J=tt(o);function $(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return $=function(){return t},t}function tt(t){if(t&&t.__esModule)return t;if(null===t||"object"!==X(t)&&"function"!=typeof t)return{default:t};var e=$();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=i?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=t[r]}return n.default=t,e&&e.set(t,n),n}function et(t){return t&&t.__esModule?t:{default:t}}function nt(t){var e=t.parentNode;if(Q.docFrag(e)){for(;(e=e.host)&&Q.docFrag(e););return e}return e}function it(t,e){return J.default.window!==J.default.realWindow&&(e=e.replace(/\/deep\//g," ")),t[Z.default.prefixedMatchesSelector](e)}var rt=function(t){return t.parentNode?t.parentNode:t.host};function ot(t){return{x:(t=t||J.default.window).scrollX||t.document.documentElement.scrollLeft,y:t.scrollY||t.document.documentElement.scrollTop}}function at(t){var e=t instanceof K.default.SVGElement?t.getBoundingClientRect():t.getClientRects()[0];return e&&{left:e.left,right:e.right,top:e.top,bottom:e.bottom,width:e.width||e.right-e.left,height:e.height||e.bottom-e.top}}var st={};function ct(t,e){for(var n in e){var i=ct.prefixedPropREs,r=!1;for(var o in i)if(0===n.indexOf(o)&&i[o].test(n)){r=!0;break}r||"function"==typeof e[n]||(t[n]=e[n])}return t}Object.defineProperty(st,"__esModule",{value:!0}),st.default=void 0,ct.prefixedPropREs={webkit:/(Movement[XY]|Radius[XY]|RotationAngle|Force)$/,moz:/(Pressure)$/};var lt=ct;st.default=lt;var ut={};Object.defineProperty(ut,"__esModule",{value:!0}),ut.default=void 0,ut.default=function(t,e){return Math.sqrt(t*t+e*e)};var dt={};function pt(t){return(pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(dt,"__esModule",{value:!0}),dt.copyCoords=function(t,e){t.page=t.page||{},t.page.x=e.page.x,t.page.y=e.page.y,t.client=t.client||{},t.client.x=e.client.x,t.client.y=e.client.y,t.timeStamp=e.timeStamp},dt.setCoordDeltas=function(t,e,n){t.page.x=n.page.x-e.page.x,t.page.y=n.page.y-e.page.y,t.client.x=n.client.x-e.client.x,t.client.y=n.client.y-e.client.y,t.timeStamp=n.timeStamp-e.timeStamp},dt.setCoordVelocity=function(t,e){var n=Math.max(e.timeStamp/1e3,.001);t.page.x=e.page.x/n,t.page.y=e.page.y/n,t.client.x=e.client.x/n,t.client.y=e.client.y/n,t.timeStamp=n},dt.setZeroCoords=function(t){t.page.x=0,t.page.y=0,t.client.x=0,t.client.y=0},dt.isNativePointer=xt,dt.getXY=Ot,dt.getPageXY=St,dt.getClientXY=Et,dt.getPointerId=function(t){return mt.number(t.pointerId)?t.pointerId:t.identifier},dt.setCoords=function(t,e,n){var i=1<e.length?kt(e):e[0],r={};St(i,r),t.page.x=r.x,t.page.y=r.y,Et(i,r),t.client.x=r.x,t.client.y=r.y,t.timeStamp=n},dt.getTouchPair=Pt,dt.pointerAverage=kt,dt.touchBBox=function(t){if(!(t.length||t.touches&&1<t.touches.length))return null;var e=Pt(t),n=Math.min(e[0].pageX,e[1].pageX),i=Math.min(e[0].pageY,e[1].pageY),r=Math.max(e[0].pageX,e[1].pageX),o=Math.max(e[0].pageY,e[1].pageY);return{x:n,y:i,left:n,top:i,right:r,bottom:o,width:r-n,height:o-i}},dt.touchDistance=function(t,e){var n=e+"X",i=e+"Y",r=Pt(t),o=r[0][n]-r[1][n],a=r[0][i]-r[1][i];return(0,gt.default)(o,a)},dt.touchAngle=function(t,e){var n=e+"X",i=e+"Y",r=Pt(t),o=r[1][n]-r[0][n],a=r[1][i]-r[0][i];return 180*Math.atan2(a,o)/Math.PI},dt.getPointerType=function(t){return mt.string(t.pointerType)?t.pointerType:mt.number(t.pointerType)?[void 0,void 0,"touch","pen","mouse"][t.pointerType]:/touch/.test(t.type)||t instanceof ht.default.Touch?"touch":"mouse"},dt.getEventTargets=function(t){var e=mt.func(t.composedPath)?t.composedPath():t.path;return[vt.getActualElement(e?e[0]:t.target),vt.getActualElement(t.currentTarget)]},dt.newCoords=function(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},dt.coordsToEvent=function(t){return{coords:t,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons}}},Object.defineProperty(dt,"pointerExtend",{enumerable:!0,get:function(){return yt.default}});var ft=wt(L),ht=wt(j),vt=_t(Y),gt=wt(ut),mt=_t(p),yt=wt(st);function bt(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return bt=function(){return t},t}function _t(t){if(t&&t.__esModule)return t;if(null===t||"object"!==pt(t)&&"function"!=typeof t)return{default:t};var e=bt();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=i?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=t[r]}return n.default=t,e&&e.set(t,n),n}function wt(t){return t&&t.__esModule?t:{default:t}}function xt(t){return t instanceof ht.default.Event||t instanceof ht.default.Touch}function Ot(t,e,n){return(n=n||{}).x=e[(t=t||"page")+"X"],n.y=e[t+"Y"],n}function St(t,e){return e=e||{x:0,y:0},ft.default.isOperaMobile&&xt(t)?(Ot("screen",t,e),e.x+=window.scrollX,e.y+=window.scrollY):Ot("page",t,e),e}function Et(t,e){return e=e||{},ft.default.isOperaMobile&&xt(t)?Ot("screen",t,e):Ot("client",t,e),e}function Pt(t){var e=[];return mt.array(t)?(e[0]=t[0],e[1]=t[1]):"touchend"===t.type?1===t.touches.length?(e[0]=t.touches[0],e[1]=t.changedTouches[0]):0===t.touches.length&&(e[0]=t.changedTouches[0],e[1]=t.changedTouches[1]):(e[0]=t.touches[0],e[1]=t.touches[1]),e}function kt(t){for(var e={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},n=0;n<t.length;n++){var i=t[n];for(var r in e)e[r]+=i[r]}for(var o in e)e[o]/=t.length;return e}var Ct={};function jt(t){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.default=Ct.FakeEvent=void 0;var Tt,Mt=Ft(Y),At=Ft(p),Lt=(Tt=st)&&Tt.__esModule?Tt:{default:Tt},It=Ft(dt);function Dt(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return Dt=function(){return t},t}function Ft(t){if(t&&t.__esModule)return t;if(null===t||"object"!==jt(t)&&"function"!=typeof t)return{default:t};var e=Dt();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=i?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=t[r]}return n.default=t,e&&e.set(t,n),n}function Rt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function zt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Bt=[],Nt=[],Ut={},Ht=[];function Vt(t,e,n,i){var r=Yt(i),o=Bt.indexOf(t),a=Nt[o];a||(a={events:{},typeCount:0},o=Bt.push(t)-1,Nt.push(a)),a.events[e]||(a.events[e]=[],a.typeCount++),t.removeEventListener&&!(0,P.contains)(a.events[e],n)&&(t.addEventListener(e,n,Zt.supportsOptions?r:!!r.capture),a.events[e].push(n))}function Wt(t,e,n,i){var r=Yt(i),o=Bt.indexOf(t),a=Nt[o];if(a&&a.events)if("all"!==e){if(a.events[e]){var s=a.events[e].length;if("all"===n){for(var c=0;c<s;c++)Wt(t,e,a.events[e][c],r);return}for(var l=0;l<s;l++)if(t.removeEventListener&&a.events[e][l]===n){t.removeEventListener(e,n,Zt.supportsOptions?r:!!r.capture),a.events[e].splice(l,1);break}a.events[e]&&0===a.events[e].length&&(a.events[e]=null,a.typeCount--)}a.typeCount||(Nt.splice(o,1),Bt.splice(o,1))}else for(e in a.events)a.events.hasOwnProperty(e)&&Wt(t,e,"all")}function qt(t,e){for(var n=Yt(e),i=new Xt(t),r=Ut[t.type],o=zt(It.getEventTargets(t),1)[0],a=o;At.element(a);){for(var s=0;s<r.selectors.length;s++){var c=r.selectors[s],l=r.contexts[s];if(Mt.matchesSelector(a,c)&&Mt.nodeContains(l,o)&&Mt.nodeContains(l,a)){var u=r.listeners[s];i.currentTarget=a;for(var d=0;d<u.length;d++){var p=zt(u[d],3),f=p[0],h=p[1],v=p[2];h===!!n.capture&&v===n.passive&&f(i)}}}a=Mt.parentNode(a)}}function Gt(t){return qt.call(this,t,!0)}function Yt(t){return At.object(t)?t:{capture:t}}var Xt=function(){function t(e){var n,i,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.originalEvent=e,r=void 0,(i="currentTarget")in(n=this)?Object.defineProperty(n,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[i]=r,(0,Lt.default)(this,e)}var e,n;return e=t,(n=[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}])&&Rt(e.prototype,n),t}();Ct.FakeEvent=Xt;var Zt={add:Vt,remove:Wt,addDelegate:function(t,e,n,i,r){var o=Yt(r);if(!Ut[n]){Ut[n]={contexts:[],listeners:[],selectors:[]};for(var a=0;a<Ht.length;a++){var s=Ht[a];Vt(s,n,qt),Vt(s,n,Gt,!0)}}var c,l=Ut[n];for(c=l.selectors.length-1;0<=c&&(l.selectors[c]!==t||l.contexts[c]!==e);c--);-1===c&&(c=l.selectors.length,l.selectors.push(t),l.contexts.push(e),l.listeners.push([])),l.listeners[c].push([i,!!o.capture,o.passive])},removeDelegate:function(t,e,n,i,r){var o,a=Yt(r),s=Ut[n],c=!1;if(s)for(o=s.selectors.length-1;0<=o;o--)if(s.selectors[o]===t&&s.contexts[o]===e){for(var l=s.listeners[o],u=l.length-1;0<=u;u--){var d=zt(l[u],3),p=d[0],f=d[1],h=d[2];if(p===i&&f===!!a.capture&&h===a.passive){l.splice(u,1),l.length||(s.selectors.splice(o,1),s.contexts.splice(o,1),s.listeners.splice(o,1),Wt(e,n,qt),Wt(e,n,Gt,!0),s.selectors.length||(Ut[n]=null)),c=!0;break}}if(c)break}},delegateListener:qt,delegateUseCapture:Gt,delegatedEvents:Ut,documents:Ht,supportsOptions:!1,supportsPassive:!1,_elements:Bt,_targets:Nt,init:function(t){t.document.createElement("div").addEventListener("test",null,{get capture(){return Zt.supportsOptions=!0},get passive(){return Zt.supportsPassive=!0}})}},Kt=Zt;Ct.default=Kt;var Qt={};Object.defineProperty(Qt,"__esModule",{value:!0}),Qt.default=function(t,e){for(var n in e)t[n]=e[n];return t};var Jt={};function $t(t){return($t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(Jt,"__esModule",{value:!0}),Jt.default=function t(e,n,i){if(i=i||{},ne.string(e)&&-1!==e.search(" ")&&(e=ie(e)),ne.array(e))return e.reduce(function(e,r){return(0,ee.default)(e,t(r,n,i))},i);if(ne.object(e)&&(n=e,e=""),ne.func(n))i[e]=i[e]||[],i[e].push(n);else if(ne.array(n))for(var r=0;r<n.length;r++){var o=n[r];t(e,o,i)}else if(ne.object(n))for(var a in n){var s=ie(a).map(function(t){return"".concat(e).concat(t)});t(s,n[a],i)}return i};var te,ee=(te=Qt)&&te.__esModule?te:{default:te},ne=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==$t(t)&&"function"!=typeof t)return{default:t};var e=function(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return t}();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=i?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=t[r]}return n.default=t,e&&e.set(t,n),n}(p);function ie(t){return t.trim().split(/ +/)}var re={};function oe(t){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(re,"__esModule",{value:!0}),re.default=void 0;var ae=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==oe(t)&&"function"!=typeof t)return{default:t};var e=function(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return t}();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=i?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=t[r]}return n.default=t,e&&e.set(t,n),n}(P),se=le(Qt),ce=le(Jt);function le(t){return t&&t.__esModule?t:{default:t}}function ue(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function de(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pe(t,e){for(var n=0;n<e.length;n++){var i=e[n];if(t.immediatePropagationStopped)break;i(t)}}var fe=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),de(this,"options",void 0),de(this,"types",{}),de(this,"propagationStopped",!1),de(this,"immediatePropagationStopped",!1),de(this,"global",void 0),this.options=(0,se.default)({},e||{})}var e,n;return e=t,(n=[{key:"fire",value:function(t){var e,n=this.global;(e=this.types[t.type])&&pe(t,e),!t.propagationStopped&&n&&(e=n[t.type])&&pe(t,e)}},{key:"on",value:function(t,e){var n=(0,ce.default)(t,e);for(t in n)this.types[t]=ae.merge(this.types[t]||[],n[t])}},{key:"off",value:function(t,e){var n=(0,ce.default)(t,e);for(t in n){var i=this.types[t];if(i&&i.length)for(var r=0;r<n[t].length;r++){var o=n[t][r],a=i.indexOf(o);-1!==a&&i.splice(a,1)}}}},{key:"getRect",value:function(){return null}}])&&ue(e.prototype,n),t}();re.default=fe;var he={};function ve(t){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(he,"__esModule",{value:!0}),he.getStringOptionResult=be,he.resolveRectLike=function(t,e,n,i){var r=t;return ye.string(r)?r=be(r,e,n):ye.func(r)&&(r=r.apply(void 0,function(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(i))),ye.element(r)&&(r=(0,Y.getElementRect)(r)),r},he.rectToXY=function(t){return t&&{x:"x"in t?t.x:t.left,y:"y"in t?t.y:t.top}},he.xywhToTlbr=function(t){return!t||"left"in t&&"top"in t||((t=(0,me.default)({},t)).left=t.x||0,t.top=t.y||0,t.right=t.right||t.left+t.width,t.bottom=t.bottom||t.top+t.height),t},he.tlbrToXywh=function(t){return!t||"x"in t&&"y"in t||((t=(0,me.default)({},t)).x=t.left||0,t.y=t.top||0,t.width=t.width||t.right||0-t.x,t.height=t.height||t.bottom||0-t.y),t},he.addEdges=function(t,e,n){t.left&&(e.left+=n.x),t.right&&(e.right+=n.x),t.top&&(e.top+=n.y),t.bottom&&(e.bottom+=n.y),e.width=e.right-e.left,e.height=e.bottom-e.top};var ge,me=(ge=Qt)&&ge.__esModule?ge:{default:ge},ye=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==ve(t)&&"function"!=typeof t)return{default:t};var e=function(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return t}();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=i?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=t[r]}return n.default=t,e&&e.set(t,n),n}(p);function be(t,e,n){return"parent"===t?(0,Y.parentNode)(n):"self"===t?e.getRect(n):(0,Y.closest)(n,t)}var _e={};Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(t,e,n){var i=t.options[n],r=i&&i.origin||t.options.origin,o=(0,he.resolveRectLike)(r,t,e,[t&&e]);return(0,he.rectToXY)(o)||{x:0,y:0}};var we={};Object.defineProperty(we,"__esModule",{value:!0}),we.default=void 0;var xe,Oe,Se=0,Ee={request:function(t){return xe(t)},cancel:function(t){return Oe(t)},init:function(t){if(xe=t.requestAnimationFrame,Oe=t.cancelAnimationFrame,!xe)for(var e=["ms","moz","webkit","o"],n=0;n<e.length;n++){var i=e[n];xe=t["".concat(i,"RequestAnimationFrame")],Oe=t["".concat(i,"CancelAnimationFrame")]||t["".concat(i,"CancelRequestAnimationFrame")]}xe||(xe=function(t){var e=Date.now(),n=Math.max(0,16-(e-Se)),i=setTimeout(function(){t(e+n)},n);return Se=e+n,i},Oe=function(t){return clearTimeout(t)})}};we.default=Ee;var Pe={};function ke(t){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.warnOnce=function(t,e){var n=!1;return function(){return n||(Le.default.window.console.warn(e),n=!0),t.apply(this,arguments)}},Pe.copyAction=function(t,e){return t.name=e.name,t.axis=e.axis,t.edges=e.edges,t},Object.defineProperty(Pe,"win",{enumerable:!0,get:function(){return Le.default}}),Object.defineProperty(Pe,"browser",{enumerable:!0,get:function(){return Ie.default}}),Object.defineProperty(Pe,"clone",{enumerable:!0,get:function(){return De.default}}),Object.defineProperty(Pe,"events",{enumerable:!0,get:function(){return Fe.default}}),Object.defineProperty(Pe,"extend",{enumerable:!0,get:function(){return Re.default}}),Object.defineProperty(Pe,"getOriginXY",{enumerable:!0,get:function(){return ze.default}}),Object.defineProperty(Pe,"hypot",{enumerable:!0,get:function(){return Be.default}}),Object.defineProperty(Pe,"normalizeListeners",{enumerable:!0,get:function(){return Ne.default}}),Object.defineProperty(Pe,"raf",{enumerable:!0,get:function(){return Ue.default}}),Pe.rect=Pe.pointer=Pe.is=Pe.dom=Pe.arr=void 0;var Ce=We(P);Pe.arr=Ce;var je=We(Y);Pe.dom=je;var Te=We(p);Pe.is=Te;var Me=We(dt);Pe.pointer=Me;var Ae=We(he);Pe.rect=Ae;var Le=He(o),Ie=He(L),De=He(U),Fe=He(Ct),Re=He(Qt),ze=He(_e),Be=He(ut),Ne=He(Jt),Ue=He(we);function He(t){return t&&t.__esModule?t:{default:t}}function Ve(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return Ve=function(){return t},t}function We(t){if(t&&t.__esModule)return t;if(null===t||"object"!==ke(t)&&"function"!=typeof t)return{default:t};var e=Ve();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=i?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=t[r]}return n.default=t,e&&e.set(t,n),n}var qe={};Object.defineProperty(qe,"__esModule",{value:!0}),qe.default=qe.defaults=void 0;var Ge=qe.defaults={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};qe.default=Ge;var Ye={};function Xe(t){return(Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.default=void 0;var Ze,Ke=en(P),Qe=en(Y),Je=(Ze=Qt)&&Ze.__esModule?Ze:{default:Ze},$e=en(p);function tn(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return tn=function(){return t},t}function en(t){if(t&&t.__esModule)return t;if(null===t||"object"!==Xe(t)&&"function"!=typeof t)return{default:t};var e=tn();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=i?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=t[r]}return n.default=t,e&&e.set(t,n),n}function nn(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function rn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var on=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scope=e,rn(this,"list",[]),rn(this,"selectorMap",{}),e.addListeners({"interactable:unset":function(t){var e=t.interactable,i=e.target,r=e._context,o=$e.string(i)?n.selectorMap[i]:i[n.scope.id],a=o.findIndex(function(t){return t.context===r});o[a]&&(o[a].context=null,o[a].interactable=null),o.splice(a,1)}})}var e,n;return e=t,(n=[{key:"new",value:function(t,e){e=(0,Je.default)(e||{},{actions:this.scope.actions});var n=new this.scope.Interactable(t,e,this.scope.document),i={context:n._context,interactable:n};return this.scope.addDocument(n._doc),this.list.push(n),$e.string(t)?(this.selectorMap[t]||(this.selectorMap[t]=[]),this.selectorMap[t].push(i)):(n.target[this.scope.id]||Object.defineProperty(t,this.scope.id,{value:[],configurable:!0}),t[this.scope.id].push(i)),this.scope.fire("interactable:new",{target:t,options:e,interactable:n,win:this.scope._win}),n}},{key:"get",value:function(t,e){var n=e&&e.context||this.scope.document,i=$e.string(t),r=i?this.selectorMap[t]:t[this.scope.id];if(!r)return null;var o=Ke.find(r,function(e){return e.context===n&&(i||e.interactable.inContext(t))});return o&&o.interactable}},{key:"forEachMatch",value:function(t,e){for(var n=0;n<this.list.length;n++){var i=this.list[n],r=void 0;if(($e.string(i.target)?$e.element(t)&&Qe.matchesSelector(t,i.target):t===i.target)&&i.inContext(t)&&(r=e(i)),void 0!==r)return r}}}])&&nn(e.prototype,n),t}();Ye.default=on;var an={};function sn(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function cn(t,e,n){return e&&sn(t.prototype,e),n&&sn(t,n),t}function ln(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(an,"__esModule",{value:!0}),an.default=an.BaseEvent=void 0;var un=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),ln(this,"type",void 0),ln(this,"target",void 0),ln(this,"currentTarget",void 0),ln(this,"interactable",void 0),ln(this,"_interaction",void 0),ln(this,"timeStamp",void 0),ln(this,"immediatePropagationStopped",!1),ln(this,"propagationStopped",!1),this._interaction=e}return cn(t,[{key:"interaction",get:function(){return this._interaction._proxy}}]),cn(t,[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),t}(),dn=an.BaseEvent=un;an.default=dn;var pn={};Object.defineProperty(pn,"__esModule",{value:!0}),pn.default=pn.InteractEvent=void 0;var fn=yn(Qt),hn=yn(_e),vn=yn(ut),gn=yn(an),mn=yn(qe);function yn(t){return t&&t.__esModule?t:{default:t}}function bn(t){return(bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function wn(t){return(wn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function xn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function On(t,e){return(On=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Sn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var En=function(){function t(e,n,i,r,o,a,s){var c,l;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Sn(xn(c=!(l=wn(t).call(this,e))||"object"!==bn(l)&&"function"!=typeof l?xn(this):l),"target",void 0),Sn(xn(c),"currentTarget",void 0),Sn(xn(c),"relatedTarget",null),Sn(xn(c),"screenX",void 0),Sn(xn(c),"screenY",void 0),Sn(xn(c),"button",void 0),Sn(xn(c),"buttons",void 0),Sn(xn(c),"ctrlKey",void 0),Sn(xn(c),"shiftKey",void 0),Sn(xn(c),"altKey",void 0),Sn(xn(c),"metaKey",void 0),Sn(xn(c),"page",void 0),Sn(xn(c),"client",void 0),Sn(xn(c),"delta",void 0),Sn(xn(c),"rect",void 0),Sn(xn(c),"x0",void 0),Sn(xn(c),"y0",void 0),Sn(xn(c),"t0",void 0),Sn(xn(c),"dt",void 0),Sn(xn(c),"duration",void 0),Sn(xn(c),"clientX0",void 0),Sn(xn(c),"clientY0",void 0),Sn(xn(c),"velocity",void 0),Sn(xn(c),"speed",void 0),Sn(xn(c),"swipe",void 0),Sn(xn(c),"timeStamp",void 0),Sn(xn(c),"dragEnter",void 0),Sn(xn(c),"dragLeave",void 0),Sn(xn(c),"axes",void 0),Sn(xn(c),"preEnd",void 0),o=o||e.element;var u=e.interactable,d=(u&&u.options||mn.default).deltaSource,p=(0,hn.default)(u,o,i),f="start"===r,h="end"===r,v=f?xn(c):e.prevEvent,g=f?e.coords.start:h?{page:v.page,client:v.client,timeStamp:e.coords.cur.timeStamp}:e.coords.cur;return c.page=(0,fn.default)({},g.page),c.client=(0,fn.default)({},g.client),c.rect=(0,fn.default)({},e.rect),c.timeStamp=g.timeStamp,h||(c.page.x-=p.x,c.page.y-=p.y,c.client.x-=p.x,c.client.y-=p.y),c.ctrlKey=n.ctrlKey,c.altKey=n.altKey,c.shiftKey=n.shiftKey,c.metaKey=n.metaKey,c.button=n.button,c.buttons=n.buttons,c.target=o,c.currentTarget=o,c.preEnd=a,c.type=s||i+(r||""),c.interactable=u,c.t0=f?e.pointers[e.pointers.length-1].downTime:v.t0,c.x0=e.coords.start.page.x-p.x,c.y0=e.coords.start.page.y-p.y,c.clientX0=e.coords.start.client.x-p.x,c.clientY0=e.coords.start.client.y-p.y,c.delta=f||h?{x:0,y:0}:{x:c[d].x-v[d].x,y:c[d].y-v[d].y},c.dt=e.coords.delta.timeStamp,c.duration=c.timeStamp-c.t0,c.velocity=(0,fn.default)({},e.coords.velocity[d]),c.speed=(0,vn.default)(c.velocity.x,c.velocity.y),c.swipe=h||"inertiastart"===r?c.getSwipe():null,c}var e,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&On(t,e)}(t,gn.default),e=t,(n=[{key:"getSwipe",value:function(){var t=this._interaction;if(t.prevEvent.speed<600||150<this.timeStamp-t.prevEvent.timeStamp)return null;var e=180*Math.atan2(t.prevEvent.velocityY,t.prevEvent.velocityX)/Math.PI;e<0&&(e+=360);var n=112.5<=e&&e<247.5,i=202.5<=e&&e<337.5;return{up:i,down:!i&&22.5<=e&&e<157.5,left:n,right:!n&&(292.5<=e||e<67.5),angle:e,speed:t.prevEvent.speed,velocity:{x:t.prevEvent.velocityX,y:t.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"pageX",get:function(){return this.page.x},set:function(t){this.page.x=t}},{key:"pageY",get:function(){return this.page.y},set:function(t){this.page.y=t}},{key:"clientX",get:function(){return this.client.x},set:function(t){this.client.x=t}},{key:"clientY",get:function(){return this.client.y},set:function(t){this.client.y=t}},{key:"dx",get:function(){return this.delta.x},set:function(t){this.delta.x=t}},{key:"dy",get:function(){return this.delta.y},set:function(t){this.delta.y=t}},{key:"velocityX",get:function(){return this.velocity.x},set:function(t){this.velocity.x=t}},{key:"velocityY",get:function(){return this.velocity.y},set:function(t){this.velocity.y=t}}])&&_n(e.prototype,n),t}(),Pn=pn.InteractEvent=En;pn.default=Pn;var kn={};Object.defineProperty(kn,"__esModule",{value:!0}),kn.default=kn.PointerInfo=void 0;var Cn=kn.PointerInfo=function t(e,n,i,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=e,this.pointer=n,this.event=i,this.downTime=r,this.downTarget=o};kn.default=Cn;var jn={};function Tn(t){return(Tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(jn,"__esModule",{value:!0}),Object.defineProperty(jn,"PointerInfo",{enumerable:!0,get:function(){return Rn.default}}),jn.default=jn.Interaction=jn._ProxyMethods=jn._ProxyValues=void 0;var Mn,An,Ln,In,Dn=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==Tn(t)&&"function"!=typeof t)return{default:t};var e=function(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return t}();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=i?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=t[r]}return n.default=t,e&&e.set(t,n),n}(Pe),Fn=zn(pn),Rn=zn(kn);function zn(t){return t&&t.__esModule?t:{default:t}}function Bn(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Nn(t,e,n){return e&&Bn(t.prototype,e),n&&Bn(t,n),t}function Un(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}jn._ProxyValues=Mn,(An=Mn||(jn._ProxyValues=Mn={})).interactable="",An.element="",An.prepared="",An.pointerIsDown="",An.pointerWasMoved="",An._proxy="",jn._ProxyMethods=Ln,(In=Ln||(jn._ProxyMethods=Ln={})).start="",In.move="",In.end="",In.stop="",In.interacting="";var Hn=0,Vn=function(){function t(e){var n=this,i=e.pointerType,r=e.scopeFire;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Un(this,"interactable",null),Un(this,"element",null),Un(this,"rect",void 0),Un(this,"_rects",void 0),Un(this,"edges",void 0),Un(this,"_scopeFire",void 0),Un(this,"prepared",{name:null,axis:null,edges:null}),Un(this,"pointerType",void 0),Un(this,"pointers",[]),Un(this,"downEvent",null),Un(this,"downPointer",{}),Un(this,"_latestPointer",{pointer:null,event:null,eventTarget:null}),Un(this,"prevEvent",null),Un(this,"pointerIsDown",!1),Un(this,"pointerWasMoved",!1),Un(this,"_interacting",!1),Un(this,"_ending",!1),Un(this,"_stopped",!0),Un(this,"_proxy",null),Un(this,"simulation",null),Un(this,"doMove",Dn.warnOnce(function(t){this.move(t)},"The interaction.doMove() method has been renamed to interaction.move()")),Un(this,"coords",{start:Dn.pointer.newCoords(),prev:Dn.pointer.newCoords(),cur:Dn.pointer.newCoords(),delta:Dn.pointer.newCoords(),velocity:Dn.pointer.newCoords()}),Un(this,"_id",Hn++),this._scopeFire=r,this.pointerType=i;var o=this;function a(t){Object.defineProperty(n._proxy,t,{get:function(){return o[t]}})}for(var s in this._proxy={},Mn)a(s);function c(t){Object.defineProperty(n._proxy,t,{value:function(){return o[t].apply(o,arguments)}})}for(var l in Ln)c(l);this._scopeFire("interactions:new",{interaction:this})}return Nn(t,[{key:"pointerMoveTolerance",get:function(){return 1}}]),Nn(t,[{key:"pointerDown",value:function(t,e,n){var i=this.updatePointer(t,e,n,!0),r=this.pointers[i];this._scopeFire("interactions:down",{pointer:t,event:e,eventTarget:n,pointerIndex:i,pointerInfo:r,type:"down",interaction:this})}},{key:"start",value:function(t,e,n){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<("gesture"===t.name?2:1)||!e.options[t.name].enabled)&&(Dn.copyAction(this.prepared,t),this.interactable=e,this.element=n,this.rect=e.getRect(n),this.edges=this.prepared.edges?Dn.extend({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(t,e,n){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(t,e,n,!1);var i,r,o=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(i=this.coords.cur.client.x-this.coords.start.client.x,r=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=Dn.hypot(i,r)>this.pointerMoveTolerance);var a=this.getPointerIndex(t),s={pointer:t,pointerIndex:a,pointerInfo:this.pointers[a],event:e,type:"move",eventTarget:n,dx:i,dy:r,duplicate:o,interaction:this};o||Dn.pointer.setCoordVelocity(this.coords.velocity,this.coords.delta),this._scopeFire("interactions:move",s),o||this.simulation||(this.interacting()&&(s.type=null,this.move(s)),this.pointerWasMoved&&Dn.pointer.copyCoords(this.coords.prev,this.coords.cur))}},{key:"move",value:function(t){t&&t.event||Dn.pointer.setZeroCoords(this.coords.delta),(t=Dn.extend({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},t||{})).phase="move",this._doPhase(t)}},{key:"pointerUp",value:function(t,e,n,i){var r=this.getPointerIndex(t);-1===r&&(r=this.updatePointer(t,e,n,!1));var o=/cancel$/i.test(e.type)?"cancel":"up";this._scopeFire("interactions:".concat(o),{pointer:t,pointerIndex:r,pointerInfo:this.pointers[r],event:e,eventTarget:n,type:o,curEventTarget:i,interaction:this}),this.simulation||this.end(e),this.pointerIsDown=!1,this.removePointer(t,e)}},{key:"documentBlur",value:function(t){this.end(t),this._scopeFire("interactions:blur",{event:t,type:"blur",interaction:this})}},{key:"end",value:function(t){var e;this._ending=!0,t=t||this._latestPointer.event,this.interacting()&&(e=this._doPhase({event:t,interaction:this,phase:"end"})),!(this._ending=!1)===e&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(t){var e=Dn.pointer.getPointerId(t);return"mouse"===this.pointerType||"pen"===this.pointerType?this.pointers.length-1:Dn.arr.findIndex(this.pointers,function(t){return t.id===e})}},{key:"getPointerInfo",value:function(t){return this.pointers[this.getPointerIndex(t)]}},{key:"updatePointer",value:function(t,e,n,i){var r=Dn.pointer.getPointerId(t),o=this.getPointerIndex(t),a=this.pointers[o];return i=!1!==i&&(i||/(down|start)$/i.test(e.type)),a?a.pointer=t:(a=new Rn.default(r,t,e,null,null),o=this.pointers.length,this.pointers.push(a)),Dn.pointer.setCoords(this.coords.cur,this.pointers.map(function(t){return t.pointer}),this._now()),Dn.pointer.setCoordDeltas(this.coords.delta,this.coords.prev,this.coords.cur),i&&(this.pointerIsDown=!0,a.downTime=this.coords.cur.timeStamp,a.downTarget=n,Dn.pointer.pointerExtend(this.downPointer,t),this.interacting()||(Dn.pointer.copyCoords(this.coords.start,this.coords.cur),Dn.pointer.copyCoords(this.coords.prev,this.coords.cur),this.downEvent=e,this.pointerWasMoved=!1)),this._updateLatestPointer(t,e,n),this._scopeFire("interactions:update-pointer",{pointer:t,event:e,eventTarget:n,down:i,pointerInfo:a,pointerIndex:o,interaction:this}),o}},{key:"removePointer",value:function(t,e){var n=this.getPointerIndex(t);if(-1!==n){var i=this.pointers[n];this._scopeFire("interactions:remove-pointer",{pointer:t,event:e,eventTarget:null,pointerIndex:n,pointerInfo:i,interaction:this}),this.pointers.splice(n,1)}}},{key:"_updateLatestPointer",value:function(t,e,n){this._latestPointer.pointer=t,this._latestPointer.event=e,this._latestPointer.eventTarget=n}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(t,e,n,i){return new Fn.default(this,t,this.prepared.name,e,this.element,n,i)}},{key:"_fireEvent",value:function(t){this.interactable.fire(t),(!this.prevEvent||t.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=t)}},{key:"_doPhase",value:function(t){var e=t.event,n=t.phase,i=t.preEnd,r=t.type,o=this.rect;if(o&&"move"===n&&(Dn.rect.addEdges(this.edges,o,this.coords.delta[this.interactable.options.deltaSource]),o.width=o.right-o.left,o.height=o.bottom-o.top),!1===this._scopeFire("interactions:before-action-".concat(n),t))return!1;var a=t.iEvent=this._createPreparedEvent(e,n,i,r);return this._scopeFire("interactions:action-".concat(n),t),"start"===n&&(this.prevEvent=a),this._fireEvent(a),this._scopeFire("interactions:after-action-".concat(n),t),!0}},{key:"_now",value:function(){return Date.now()}}]),t}(),Wn=jn.Interaction=Vn;jn.default=Wn;var qn={};function Gn(t){return(Gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(qn,"__esModule",{value:!0}),qn.default=void 0;var Yn=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==Gn(t)&&"function"!=typeof t)return{default:t};var e=function(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return t}();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=i?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=t[r]}return n.default=t,e&&e.set(t,n),n}(Y),Xn={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(t){for(var e=0;e<Xn.methodOrder.length;e++){var n;n=Xn.methodOrder[e];var i=Xn[n](t);if(i)return i}return null},simulationResume:function(t){var e=t.pointerType,n=t.eventType,i=t.eventTarget,r=t.scope;if(!/down|start/i.test(n))return null;for(var o=0;o<r.interactions.list.length;o++){var a=r.interactions.list[o],s=i;if(a.simulation&&a.simulation.allowResume&&a.pointerType===e)for(;s;){if(s===a.element)return a;s=Yn.parentNode(s)}}return null},mouseOrPen:function(t){var e,n=t.pointerId,i=t.pointerType,r=t.eventType,o=t.scope;if("mouse"!==i&&"pen"!==i)return null;for(var a=0;a<o.interactions.list.length;a++){var s=o.interactions.list[a];if(s.pointerType===i){if(s.simulation&&!Zn(s,n))continue;if(s.interacting())return s;e=e||s}}if(e)return e;for(var c=0;c<o.interactions.list.length;c++){var l=o.interactions.list[c];if(!(l.pointerType!==i||/down/i.test(r)&&l.simulation))return l}return null},hasPointer:function(t){for(var e=t.pointerId,n=t.scope,i=0;i<n.interactions.list.length;i++){var r=n.interactions.list[i];if(Zn(r,e))return r}return null},idle:function(t){for(var e=t.pointerType,n=t.scope,i=0;i<n.interactions.list.length;i++){var r=n.interactions.list[i];if(1===r.pointers.length){var o=r.interactable;if(o&&(!o.options.gesture||!o.options.gesture.enabled))continue}else if(2<=r.pointers.length)continue;if(!r.interacting()&&e===r.pointerType)return r}return null}};function Zn(t,e){return t.pointers.some(function(t){return t.id===e})}var Kn=Xn;qn.default=Kn;var Qn={};Object.defineProperty(Qn,"__esModule",{value:!0}),Qn.default=void 0;var Jn,$n=(Jn=an)&&Jn.__esModule?Jn:{default:Jn},ti=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==ei(t)&&"function"!=typeof t)return{default:t};var e=function(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return t}();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=i?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=t[r]}return n.default=t,e&&e.set(t,n),n}(P);function ei(t){return(ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ni(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ii(t){return(ii=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ri(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oi(t,e){return(oi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ai(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var si=function(){function t(e,n,i){var r,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),ai(ri(r=!(o=ii(t).call(this,n._interaction))||"object"!==ei(o)&&"function"!=typeof o?ri(this):o),"target",void 0),ai(ri(r),"dropzone",void 0),ai(ri(r),"dragEvent",void 0),ai(ri(r),"relatedTarget",void 0),ai(ri(r),"draggable",void 0),ai(ri(r),"timeStamp",void 0),ai(ri(r),"propagationStopped",!1),ai(ri(r),"immediatePropagationStopped",!1);var a="dragleave"===i?e.prev:e.cur,s=a.element,c=a.dropzone;return r.type=i,r.target=s,r.currentTarget=s,r.dropzone=c,r.dragEvent=n,r.relatedTarget=n.target,r.draggable=n.interactable,r.timeStamp=n.timeStamp,r}var e,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&oi(t,e)}(t,$n.default),e=t,(n=[{key:"reject",value:function(){var e=this,n=this._interaction.dropState;if("dropactivate"===this.type||this.dropzone&&n.cur.dropzone===this.dropzone&&n.cur.element===this.target)if(n.prev.dropzone=this.dropzone,n.prev.element=this.target,n.rejected=!0,n.events.enter=null,this.stopImmediatePropagation(),"dropactivate"===this.type){var i=n.activeDrops,r=ti.findIndex(i,function(t){var n=t.dropzone,i=t.element;return n===e.dropzone&&i===e.target});n.activeDrops.splice(r,1);var o=new t(n,this.dragEvent,"dropdeactivate");o.dropzone=this.dropzone,o.target=this.target,this.dropzone.fire(o)}else this.dropzone.fire(new t(n,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&ni(e.prototype,n),t}();Qn.default=si;var ci={};function li(t){return(li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(ci,"__esModule",{value:!0}),ci.default=void 0,fi(e({})),n({});var ui=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==li(t)&&"function"!=typeof t)return{default:t};var e=function(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return t}();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=i?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=t[r]}return n.default=t,e&&e.set(t,n),n}(Pe),di=fi(b),pi=fi(Qn);function fi(t){return t&&t.__esModule?t:{default:t}}function hi(t,e){for(var n=0;n<t.slice().length;n++){var i=t.slice()[n],r=i.dropzone,o=i.element;e.dropzone=r,e.target=o,r.fire(e),e.propagationStopped=e.immediatePropagationStopped=!1}}function vi(t,e){for(var n=function(t,e){for(var n=t.interactables,i=[],r=0;r<n.list.length;r++){var o=n.list[r];if(o.options.drop.enabled){var a=o.options.drop.accept;if(!(ui.is.element(a)&&a!==e||ui.is.string(a)&&!ui.dom.matchesSelector(e,a)||ui.is.func(a)&&!a({dropzone:o,draggableElement:e})))for(var s=ui.is.string(o.target)?o._context.querySelectorAll(o.target):ui.is.array(o.target)?o.target:[o.target],c=0;c<s.length;c++){var l=s[c];l!==e&&i.push({dropzone:o,element:l})}}}return i}(t,e),i=0;i<n.length;i++){var r=n[i];r.rect=r.dropzone.getRect(r.element)}return n}function gi(t,e,n){for(var i=t.dropState,r=t.interactable,o=t.element,a=[],s=0;s<i.activeDrops.length;s++){var c=i.activeDrops[s],l=c.dropzone,u=c.element,d=c.rect;a.push(l.dropCheck(e,n,r,o,u,d)?u:null)}var p=ui.dom.indexOfDeepestElement(a);return i.activeDrops[p]||null}function mi(t,e,n){var i=t.dropState,r={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return"dragstart"===n.type&&(r.activate=new pi.default(i,n,"dropactivate"),r.activate.target=null,r.activate.dropzone=null),"dragend"===n.type&&(r.deactivate=new pi.default(i,n,"dropdeactivate"),r.deactivate.target=null,r.deactivate.dropzone=null),i.rejected||(i.cur.element!==i.prev.element&&(i.prev.dropzone&&(r.leave=new pi.default(i,n,"dragleave"),n.dragLeave=r.leave.target=i.prev.element,n.prevDropzone=r.leave.dropzone=i.prev.dropzone),i.cur.dropzone&&(r.enter=new pi.default(i,n,"dragenter"),n.dragEnter=i.cur.element,n.dropzone=i.cur.dropzone)),"dragend"===n.type&&i.cur.dropzone&&(r.drop=new pi.default(i,n,"drop"),n.dropzone=i.cur.dropzone,n.relatedTarget=i.cur.element),"dragmove"===n.type&&i.cur.dropzone&&(r.move=new pi.default(i,n,"dropmove"),(r.move.dragmove=n).dropzone=i.cur.dropzone)),r}function yi(t,e){var n=t.dropState,i=n.activeDrops,r=n.cur,o=n.prev;e.leave&&o.dropzone.fire(e.leave),e.move&&r.dropzone.fire(e.move),e.enter&&r.dropzone.fire(e.enter),e.drop&&r.dropzone.fire(e.drop),e.deactivate&&hi(i,e.deactivate),n.prev.dropzone=r.dropzone,n.prev.element=r.element}function bi(t,e){var n=t.interaction,i=t.iEvent,r=t.event;if("dragmove"===i.type||"dragend"===i.type){var o=n.dropState;e.dynamicDrop&&(o.activeDrops=vi(e,n.element));var a=i,s=gi(n,a,r);o.rejected=o.rejected&&!!s&&s.dropzone===o.cur.dropzone&&s.element===o.cur.element,o.cur.dropzone=s&&s.dropzone,o.cur.element=s&&s.element,o.events=mi(n,0,a)}}var _i={id:"actions/drop",install:function(t){var e=t.actions,n=t.interact,i=t.Interactable,r=t.defaults;t.usePlugin(di.default),i.prototype.dropzone=function(t){return function(t,e){if(ui.is.object(e)){if(t.options.drop.enabled=!1!==e.enabled,e.listeners){var n=ui.normalizeListeners(e.listeners),i=Object.keys(n).reduce(function(t,e){return t[/^(enter|leave)/.test(e)?"drag".concat(e):/^(activate|deactivate|move)/.test(e)?"drop".concat(e):e]=n[e],t},{});t.off(t.options.drop.listeners),t.on(i),t.options.drop.listeners=i}return ui.is.func(e.ondrop)&&t.on("drop",e.ondrop),ui.is.func(e.ondropactivate)&&t.on("dropactivate",e.ondropactivate),ui.is.func(e.ondropdeactivate)&&t.on("dropdeactivate",e.ondropdeactivate),ui.is.func(e.ondragenter)&&t.on("dragenter",e.ondragenter),ui.is.func(e.ondragleave)&&t.on("dragleave",e.ondragleave),ui.is.func(e.ondropmove)&&t.on("dropmove",e.ondropmove),/^(pointer|center)$/.test(e.overlap)?t.options.drop.overlap=e.overlap:ui.is.number(e.overlap)&&(t.options.drop.overlap=Math.max(Math.min(1,e.overlap),0)),"accept"in e&&(t.options.drop.accept=e.accept),"checker"in e&&(t.options.drop.checker=e.checker),t}return ui.is.bool(e)?(t.options.drop.enabled=e,t):t.options.drop}(this,t)},i.prototype.dropCheck=function(t,e,n,i,r,o){return function(t,e,n,i,r,o,a){var s=!1;if(!(a=a||t.getRect(o)))return!!t.options.drop.checker&&t.options.drop.checker(e,n,s,t,o,i,r);var c=t.options.drop.overlap;if("pointer"===c){var l=ui.getOriginXY(i,r,"drag"),u=ui.pointer.getPageXY(e);u.x+=l.x,u.y+=l.y;var d=u.x>a.left&&u.x<a.right,p=u.y>a.top&&u.y<a.bottom;s=d&&p}var f=i.getRect(r);if(f&&"center"===c){var h=f.left+f.width/2,v=f.top+f.height/2;s=h>=a.left&&h<=a.right&&v>=a.top&&v<=a.bottom}if(f&&ui.is.number(c)){var g=Math.max(0,Math.min(a.right,f.right)-Math.max(a.left,f.left))*Math.max(0,Math.min(a.bottom,f.bottom)-Math.max(a.top,f.top))/(f.width*f.height);s=c<=g}return t.options.drop.checker&&(s=t.options.drop.checker(e,n,s,t,o,i,r)),s}(this,t,e,n,i,r,o)},n.dynamicDrop=function(e){return ui.is.bool(e)?(t.dynamicDrop=e,n):t.dynamicDrop},ui.extend(e.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),e.methodDict.drop="dropzone",t.dynamicDrop=!1,r.actions.drop=_i.defaults},listeners:{"interactions:before-action-start":function(t){var e=t.interaction;"drag"===e.prepared.name&&(e.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(t,e){var n=t.interaction,i=(t.event,t.iEvent);if("drag"===n.prepared.name){var r=n.dropState;r.activeDrops=null,r.events=null,r.activeDrops=vi(e,n.element),r.events=mi(n,0,i),r.events.activate&&(hi(r.activeDrops,r.events.activate),e.fire("actions/drop:start",{interaction:n,dragEvent:i}))}},"interactions:action-move":bi,"interactions:action-end":bi,"interactions:after-action-move":function(t,e){var n=t.interaction,i=t.iEvent;"drag"===n.prepared.name&&(yi(n,n.dropState.events),e.fire("actions/drop:move",{interaction:n,dragEvent:i}),n.dropState.events={})},"interactions:after-action-end":function(t,e){var n=t.interaction,i=t.iEvent;"drag"===n.prepared.name&&(yi(n,n.dropState.events),e.fire("actions/drop:end",{interaction:n,dragEvent:i}))},"interactions:stop":function(t){var e=t.interaction;if("drag"===e.prepared.name){var n=e.dropState;n&&(n.activeDrops=null,n.events=null,n.cur.dropzone=null,n.cur.element=null,n.prev.dropzone=null,n.prev.element=null,n.rejected=!1)}}},getActiveDrops:vi,getDrop:gi,getDropEvents:mi,fireDropEvents:yi,defaults:{enabled:!1,accept:null,overlap:"pointer"}},wi=_i;ci.default=wi;var xi={};function Oi(t){return(Oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(xi,"__esModule",{value:!0}),xi.default=void 0;var Si=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==Oi(t)&&"function"!=typeof t)return{default:t};var e=function(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return t}();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=i?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=t[r]}return n.default=t,e&&e.set(t,n),n}(Pe);function Ei(t){var e=t.interaction,n=t.iEvent,i=t.phase;if("gesture"===e.prepared.name){var r=e.pointers.map(function(t){return t.pointer}),o="start"===i,a="end"===i,s=e.interactable.options.deltaSource;if(n.touches=[r[0],r[1]],o)n.distance=Si.pointer.touchDistance(r,s),n.box=Si.pointer.touchBBox(r),n.scale=1,n.ds=0,n.angle=Si.pointer.touchAngle(r,s),n.da=0,e.gesture.startDistance=n.distance,e.gesture.startAngle=n.angle;else if(a){var c=e.prevEvent;n.distance=c.distance,n.box=c.box,n.scale=c.scale,n.ds=0,n.angle=c.angle,n.da=0}else n.distance=Si.pointer.touchDistance(r,s),n.box=Si.pointer.touchBBox(r),n.scale=n.distance/e.gesture.startDistance,n.angle=Si.pointer.touchAngle(r,s),n.ds=n.scale-e.gesture.scale,n.da=n.angle-e.gesture.angle;e.gesture.distance=n.distance,e.gesture.angle=n.angle,Si.is.number(n.scale)&&n.scale!==1/0&&!isNaN(n.scale)&&(e.gesture.scale=n.scale)}}var Pi={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(t){var e=t.actions,n=t.Interactable,i=t.defaults;n.prototype.gesturable=function(t){return Si.is.object(t)?(this.options.gesture.enabled=!1!==t.enabled,this.setPerAction("gesture",t),this.setOnEvents("gesture",t),this):Si.is.bool(t)?(this.options.gesture.enabled=t,this):this.options.gesture},e.map.gesture=Pi,e.methodDict.gesture="gesturable",i.actions.gesture=Pi.defaults},listeners:{"interactions:action-start":Ei,"interactions:action-move":Ei,"interactions:action-end":Ei,"interactions:new":function(t){t.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(t){if(!(t.interaction.pointers.length<2)){var e=t.interactable.options.gesture;if(e&&e.enabled)return!(t.action={name:"gesture"})}}},defaults:{},getCursor:function(){return""}},ki=Pi;xi.default=ki;var Ci={};function ji(t){return(ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(Ci,"__esModule",{value:!0}),Ci.default=void 0;var Ti,Mi=Di(Y),Ai=(Ti=Qt)&&Ti.__esModule?Ti:{default:Ti},Li=Di(p);function Ii(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return Ii=function(){return t},t}function Di(t){if(t&&t.__esModule)return t;if(null===t||"object"!==ji(t)&&"function"!=typeof t)return{default:t};var e=Ii();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=i?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=t[r]}return n.default=t,e&&e.set(t,n),n}function Fi(t,e,n,i,r,o,a){if(!e)return!1;if(!0===e){var s=Li.number(o.width)?o.width:o.right-o.left,c=Li.number(o.height)?o.height:o.bottom-o.top;if(a=Math.min(a,("left"===t||"right"===t?s:c)/2),s<0&&("left"===t?t="right":"right"===t&&(t="left")),c<0&&("top"===t?t="bottom":"bottom"===t&&(t="top")),"left"===t)return n.x<(0<=s?o.left:o.right)+a;if("top"===t)return n.y<(0<=c?o.top:o.bottom)+a;if("right"===t)return n.x>(0<=s?o.right:o.left)-a;if("bottom"===t)return n.y>(0<=c?o.bottom:o.top)-a}return!!Li.element(i)&&(Li.element(e)?e===i:Mi.matchesUpTo(i,e,r))}function Ri(t){var e=t.iEvent,n=t.interaction;if("resize"===n.prepared.name&&n.resizeAxes){var i=e;n.interactable.options.resize.square?("y"===n.resizeAxes?i.delta.x=i.delta.y:i.delta.y=i.delta.x,i.axes="xy"):(i.axes=n.resizeAxes,"x"===n.resizeAxes?i.delta.y=0:"y"===n.resizeAxes&&(i.delta.x=0))}}var zi={id:"actions/resize",before:["actions/drag"],install:function(t){var e=t.actions,n=t.browser,i=t.Interactable,r=t.defaults;zi.cursors=n.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"},zi.defaultMargin=n.supportsTouch||n.supportsPointerEvent?20:10,i.prototype.resizable=function(e){return function(t,e,n){return Li.object(e)?(t.options.resize.enabled=!1!==e.enabled,t.setPerAction("resize",e),t.setOnEvents("resize",e),Li.string(e.axis)&&/^x$|^y$|^xy$/.test(e.axis)?t.options.resize.axis=e.axis:null===e.axis&&(t.options.resize.axis=n.defaults.actions.resize.axis),Li.bool(e.preserveAspectRatio)?t.options.resize.preserveAspectRatio=e.preserveAspectRatio:Li.bool(e.square)&&(t.options.resize.square=e.square),t):Li.bool(e)?(t.options.resize.enabled=e,t):t.options.resize}(this,e,t)},e.map.resize=zi,e.methodDict.resize="resizable",r.actions.resize=zi.defaults},listeners:{"interactions:new":function(t){t.interaction.resizeAxes="xy"},"interactions:action-start":function(t){!function(t){var e=t.iEvent,n=t.interaction;if("resize"===n.prepared.name&&n.prepared.edges){var i=e,r=n.rect;n._rects={start:(0,Ai.default)({},r),corrected:(0,Ai.default)({},r),previous:(0,Ai.default)({},r),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},i.edges=n.prepared.edges,i.rect=n._rects.corrected,i.deltaRect=n._rects.delta}}(t),Ri(t)},"interactions:action-move":function(t){!function(t){var e=t.iEvent,n=t.interaction;if("resize"===n.prepared.name&&n.prepared.edges){var i=e,r=n.interactable.options.resize.invert,o="reposition"===r||"negate"===r,a=n.rect,s=n._rects,c=s.start,l=s.corrected,u=s.delta,d=s.previous;if((0,Ai.default)(d,l),o){if((0,Ai.default)(l,a),"reposition"===r){if(l.top>l.bottom){var p=l.top;l.top=l.bottom,l.bottom=p}if(l.left>l.right){var f=l.left;l.left=l.right,l.right=f}}}else l.top=Math.min(a.top,c.bottom),l.bottom=Math.max(a.bottom,c.top),l.left=Math.min(a.left,c.right),l.right=Math.max(a.right,c.left);for(var h in l.width=l.right-l.left,l.height=l.bottom-l.top,l)u[h]=l[h]-d[h];i.edges=n.prepared.edges,i.rect=l,i.deltaRect=u}}(t),Ri(t)},"interactions:action-end":function(t){var e=t.iEvent,n=t.interaction;if("resize"===n.prepared.name&&n.prepared.edges){var i=e;i.edges=n.prepared.edges,i.rect=n._rects.corrected,i.deltaRect=n._rects.delta}},"auto-start:check":function(t){var e=t.interaction,n=t.interactable,i=t.element,r=t.rect,o=t.buttons;if(r){var a=(0,Ai.default)({},e.coords.cur.page),s=n.options.resize;if(s&&s.enabled&&(!e.pointerIsDown||!/mouse|pointer/.test(e.pointerType)||0!=(o&s.mouseButtons))){if(Li.object(s.edges)){var c={left:!1,right:!1,top:!1,bottom:!1};for(var l in c)c[l]=Fi(l,s.edges[l],a,e._latestPointer.eventTarget,i,r,s.margin||zi.defaultMargin);c.left=c.left&&!c.right,c.top=c.top&&!c.bottom,(c.left||c.right||c.top||c.bottom)&&(t.action={name:"resize",edges:c})}else{var u="y"!==s.axis&&a.x>r.right-zi.defaultMargin,d="x"!==s.axis&&a.y>r.bottom-zi.defaultMargin;(u||d)&&(t.action={name:"resize",axes:(u?"x":"")+(d?"y":"")})}return!t.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(t){var e=t.edges,n=t.axis,i=t.name,r=zi.cursors,o=null;if(n)o=r[i+n];else if(e){for(var a="",s=["top","bottom","left","right"],c=0;c<s.length;c++){var l=s[c];e[l]&&(a+=l)}o=r[a]}return o},defaultMargin:null},Bi=zi;Ci.default=Bi;var Ni={};Object.defineProperty(Ni,"__esModule",{value:!0}),Ni.install=function(t){t.usePlugin(Vi.default),t.usePlugin(Wi.default),t.usePlugin(Ui.default),t.usePlugin(Hi.default)},Object.defineProperty(Ni,"drag",{enumerable:!0,get:function(){return Ui.default}}),Object.defineProperty(Ni,"drop",{enumerable:!0,get:function(){return Hi.default}}),Object.defineProperty(Ni,"gesture",{enumerable:!0,get:function(){return Vi.default}}),Object.defineProperty(Ni,"resize",{enumerable:!0,get:function(){return Wi.default}}),Ni.id=void 0;var Ui=qi(b),Hi=qi(ci),Vi=qi(xi),Wi=qi(Ci);function qi(t){return t&&t.__esModule?t:{default:t}}Ni.id="actions";var Gi={};function Yi(t){return(Yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(Gi,"__esModule",{value:!0}),Gi.getContainer=er,Gi.getScroll=nr,Gi.getScrollSize=function(t){return Ki.window(t)&&(t=window.document.body),{x:t.scrollWidth,y:t.scrollHeight}},Gi.getScrollSizeDelta=function(t,e){var n=t.interaction,i=t.element,r=n&&n.interactable.options[n.prepared.name].autoScroll;if(!r||!r.enabled)return e(),{x:0,y:0};var o=er(r.container,n.interactable,i),a=nr(o);e();var s=nr(o);return{x:s.x-a.x,y:s.y-a.y}},Gi.default=void 0;var Xi,Zi=$i(Y),Ki=$i(p),Qi=(Xi=we)&&Xi.__esModule?Xi:{default:Xi};function Ji(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return Ji=function(){return t},t}function $i(t){if(t&&t.__esModule)return t;if(null===t||"object"!==Yi(t)&&"function"!=typeof t)return{default:t};var e=Ji();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=i?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=t[r]}return n.default=t,e&&e.set(t,n),n}var tr={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(t){tr.isScrolling=!0,Qi.default.cancel(tr.i),(t.autoScroll=tr).interaction=t,tr.prevTime=tr.now(),tr.i=Qi.default.request(tr.scroll)},stop:function(){tr.isScrolling=!1,tr.interaction&&(tr.interaction.autoScroll=null),Qi.default.cancel(tr.i)},scroll:function(){var t=tr.interaction,e=t.interactable,n=t.element,i=t.prepared.name,r=e.options[i].autoScroll,o=er(r.container,e,n),a=tr.now(),s=(a-tr.prevTime)/1e3,c=r.speed*s;if(1<=c){var l={x:tr.x*c,y:tr.y*c};if(l.x||l.y){var u=nr(o);Ki.window(o)?o.scrollBy(l.x,l.y):o&&(o.scrollLeft+=l.x,o.scrollTop+=l.y);var d=nr(o),p={x:d.x-u.x,y:d.y-u.y};(p.x||p.y)&&e.fire({type:"autoscroll",target:n,interactable:e,delta:p,interaction:t,container:o})}tr.prevTime=a}tr.isScrolling&&(Qi.default.cancel(tr.i),tr.i=Qi.default.request(tr.scroll))},check:function(t,e){var n=t.options;return n[e].autoScroll&&n[e].autoScroll.enabled},onInteractionMove:function(t){var e=t.interaction,n=t.pointer;if(e.interacting()&&tr.check(e.interactable,e.prepared.name))if(e.simulation)tr.x=tr.y=0;else{var i,r,o,a,s=e.interactable,c=e.element,l=e.prepared.name,u=s.options[l].autoScroll,d=er(u.container,s,c);if(Ki.window(d))a=n.clientX<tr.margin,i=n.clientY<tr.margin,r=n.clientX>d.innerWidth-tr.margin,o=n.clientY>d.innerHeight-tr.margin;else{var p=Zi.getElementClientRect(d);a=n.clientX<p.left+tr.margin,i=n.clientY<p.top+tr.margin,r=n.clientX>p.right-tr.margin,o=n.clientY>p.bottom-tr.margin}tr.x=r?1:a?-1:0,tr.y=o?1:i?-1:0,tr.isScrolling||(tr.margin=u.margin,tr.speed=u.speed,tr.start(e))}}};function er(t,e,n){return(Ki.string(t)?(0,he.getStringOptionResult)(t,e,n):t)||(0,o.getWindow)(n)}function nr(t){return Ki.window(t)&&(t=window.document.body),{x:t.scrollLeft,y:t.scrollTop}}var ir={id:"auto-scroll",install:function(t){var e=t.defaults,n=t.actions;(t.autoScroll=tr).now=function(){return t.now()},n.phaselessTypes.autoscroll=!0,e.perAction.autoScroll=tr.defaults},listeners:{"interactions:new":function(t){t.interaction.autoScroll=null},"interactions:destroy":function(t){t.interaction.autoScroll=null,tr.stop(),tr.interaction&&(tr.interaction=null)},"interactions:stop":tr.stop,"interactions:action-move":function(t){return tr.onInteractionMove(t)}}};Gi.default=ir;var rr={};function or(t){return(or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(rr,"__esModule",{value:!0}),rr.default=void 0;var ar=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==or(t)&&"function"!=typeof t)return{default:t};var e=function(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return t}();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=i?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=t[r]}return n.default=t,e&&e.set(t,n),n}(p);function sr(t){return ar.bool(t)?(this.options.styleCursor=t,this):null===t?(delete this.options.styleCursor,this):this.options.styleCursor}function cr(t){return ar.func(t)?(this.options.actionChecker=t,this):null===t?(delete this.options.actionChecker,this):this.options.actionChecker}var lr={id:"auto-start/interactableMethods",install:function(t){var e=t.Interactable;e.prototype.getAction=function(e,n,i,r){var o,a,s,c,l,u,d,p=(o=n,a=i,s=r,c=t,l=this.getRect(s),u=o.buttons||{0:1,1:4,3:8,4:16}[o.button],d={action:null,interactable:this,interaction:a,element:s,rect:l,buttons:u},c.fire("auto-start:check",d),d.action);return this.options.actionChecker?this.options.actionChecker(e,n,p,this,r,i):p},e.prototype.ignoreFrom=(0,Pe.warnOnce)(function(t){return this._backCompatOption("ignoreFrom",t)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),e.prototype.allowFrom=(0,Pe.warnOnce)(function(t){return this._backCompatOption("allowFrom",t)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),e.prototype.actionChecker=cr,e.prototype.styleCursor=sr}};rr.default=lr;var ur={};function dr(t){return(dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(ur,"__esModule",{value:!0}),ur.default=void 0;var pr,fr=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==dr(t)&&"function"!=typeof t)return{default:t};var e=function(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return t}();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=i?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=t[r]}return n.default=t,e&&e.set(t,n),n}(Pe),hr=(pr=rr)&&pr.__esModule?pr:{default:pr};function vr(t,e,n,i,r){return e.testIgnoreAllow(e.options[t.name],n,i)&&e.options[t.name].enabled&&br(e,n,t,r)?t:null}function gr(t,e,n,i,r,o,a){for(var s=0,c=i.length;s<c;s++){var l=i[s],u=r[s],d=l.getAction(e,n,t,u);if(d){var p=vr(d,l,u,o,a);if(p)return{action:p,interactable:l,element:u}}}return{action:null,interactable:null,element:null}}function mr(t,e,n,i,r){var o=[],a=[],s=i;function c(t){o.push(t),a.push(s)}for(;fr.is.element(s);){o=[],a=[],r.interactables.forEachMatch(s,c);var l=gr(t,e,n,o,a,i,r);if(l.action&&!l.interactable.options[l.action.name].manualStart)return l;s=fr.dom.parentNode(s)}return{action:null,interactable:null,element:null}}function yr(t,e,n){var i=e.action,r=e.interactable,o=e.element;i=i||{name:null},t.interactable=r,t.element=o,fr.copyAction(t.prepared,i),t.rect=r&&i.name?r.getRect(o):null,xr(t,n),n.fire("autoStart:prepared",{interaction:t})}function br(t,e,n,i){var r=t.options,o=r[n.name].max,a=r[n.name].maxPerElement,s=i.autoStart.maxInteractions,c=0,l=0,u=0;if(!(o&&a&&s))return!1;for(var d=0;d<i.interactions.list.length;d++){var p=i.interactions.list[d],f=p.prepared.name;if(p.interacting()){if(s<=++c)return!1;if(p.interactable===t){if(o<=(l+=f===n.name?1:0))return!1;if(p.element===e&&(u++,f===n.name&&a<=u))return!1}}}return 0<s}function _r(t,e){return fr.is.number(t)?(e.autoStart.maxInteractions=t,this):e.autoStart.maxInteractions}function wr(t,e,n){var i=n.autoStart.cursorElement;i&&i!==t&&(i.style.cursor=""),t.ownerDocument.documentElement.style.cursor=e,t.style.cursor=e,n.autoStart.cursorElement=e?t:null}function xr(t,e){var n=t.interactable,i=t.element,r=t.prepared;if("mouse"===t.pointerType&&n&&n.options.styleCursor){var o="";if(r.name){var a=n.options[r.name].cursorChecker;o=fr.is.func(a)?a(r,n,i,t._interacting):e.actions.map[r.name].getCursor(r)}wr(t.element,o||"",e)}else e.autoStart.cursorElement&&wr(e.autoStart.cursorElement,"",e)}var Or={id:"auto-start/base",before:["actions","action/drag","actions/resize","actions/gesture"],install:function(t){var e=t.interact,n=t.defaults;t.usePlugin(hr.default),n.base.actionChecker=null,n.base.styleCursor=!0,fr.extend(n.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),e.maxInteractions=function(e){return _r(e,t)},t.autoStart={maxInteractions:1/0,withinInteractionLimit:br,cursorElement:null}},listeners:{"interactions:down":function(t,e){var n=t.interaction,i=t.pointer,r=t.event,o=t.eventTarget;n.interacting()||yr(n,mr(n,i,r,o,e),e)},"interactions:move":function(t,e){var n,i,r,o,a,s;i=e,r=(n=t).interaction,o=n.pointer,a=n.event,s=n.eventTarget,"mouse"!==r.pointerType||r.pointerIsDown||r.interacting()||yr(r,mr(r,o,a,s,i),i),function(t,e){var n=t.interaction;if(n.pointerIsDown&&!n.interacting()&&n.pointerWasMoved&&n.prepared.name){e.fire("autoStart:before-start",t);var i=n.interactable,r=n.prepared.name;r&&i&&(i.options[r].manualStart||!br(i,n.element,n.prepared,e)?n.stop():(n.start(n.prepared,i,n.element),xr(n,e)))}}(t,e)},"interactions:stop":function(t,e){var n=t.interaction,i=n.interactable;i&&i.options.styleCursor&&wr(n.element,"",e)}},maxInteractions:_r,withinInteractionLimit:br,validateAction:vr};ur.default=Or;var Sr={};function Er(t){return(Er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(Sr,"__esModule",{value:!0}),Sr.default=void 0;var Pr,kr=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==Er(t)&&"function"!=typeof t)return{default:t};var e=function(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return t}();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=i?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=t[r]}return n.default=t,e&&e.set(t,n),n}(p),Cr=(Pr=ur)&&Pr.__esModule?Pr:{default:Pr},jr={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(t,e){var n=t.interaction,i=t.eventTarget,r=t.dx,o=t.dy;if("drag"===n.prepared.name){var a=Math.abs(r),s=Math.abs(o),c=n.interactable.options.drag,l=c.startAxis,u=s<a?"x":a<s?"y":"xy";if(n.prepared.axis="start"===c.lockAxis?u[0]:c.lockAxis,"xy"!=u&&"xy"!==l&&l!==u){function d(t){if(t!==n.interactable){var r=n.interactable.options.drag;if(!r.manualStart&&t.testIgnoreAllow(r,p,i)){var o=t.getAction(n.downPointer,n.downEvent,n,p);if(o&&"drag"===o.name&&function(t,e){if(!e)return!1;var n=e.options.drag.startAxis;return"xy"===t||"xy"===n||n===t}(u,t)&&Cr.default.validateAction(o,t,p,i,e))return t}}}n.prepared.name=null;for(var p=i;kr.element(p);){var f=e.interactables.forEachMatch(p,d);if(f){n.prepared.name="drag",n.interactable=f,n.element=p;break}p=(0,Y.parentNode)(p)}}}}}};Sr.default=jr;var Tr={};Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.default=void 0;var Mr,Ar=(Mr=ur)&&Mr.__esModule?Mr:{default:Mr};function Lr(t){var e=t.prepared&&t.prepared.name;if(!e)return null;var n=t.interactable.options;return n[e].hold||n[e].delay}var Ir={id:"auto-start/hold",install:function(t){var e=t.defaults;t.usePlugin(Ar.default),e.perAction.hold=0,e.perAction.delay=0},listeners:{"interactions:new":function(t){t.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(t){var e=t.interaction,n=Lr(e);0<n&&(e.autoStartHoldTimer=setTimeout(function(){e.start(e.prepared,e.interactable,e.element)},n))},"interactions:move":function(t){var e=t.interaction,n=t.duplicate;e.pointerWasMoved&&!n&&clearTimeout(e.autoStartHoldTimer)},"autoStart:before-start":function(t){var e=t.interaction;0<Lr(e)&&(e.prepared.name=null)}},getHoldDuration:Lr};Tr.default=Ir;var Dr={};Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.install=function(t){t.usePlugin(Fr.default),t.usePlugin(zr.default),t.usePlugin(Rr.default)},Object.defineProperty(Dr,"autoStart",{enumerable:!0,get:function(){return Fr.default}}),Object.defineProperty(Dr,"dragAxis",{enumerable:!0,get:function(){return Rr.default}}),Object.defineProperty(Dr,"hold",{enumerable:!0,get:function(){return zr.default}}),Dr.id=void 0;var Fr=Br(ur),Rr=Br(Sr),zr=Br(Tr);function Br(t){return t&&t.__esModule?t:{default:t}}Dr.id="auto-start";var Nr={};function Ur(t){return(Ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(Nr,"__esModule",{value:!0}),Nr.install=Yr,Nr.default=void 0;var Hr,Vr=(Hr=Ct)&&Hr.__esModule?Hr:{default:Hr},Wr=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==Ur(t)&&"function"!=typeof t)return{default:t};var e=function(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return t}();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=i?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=t[r]}return n.default=t,e&&e.set(t,n),n}(p);function qr(t){return/^(always|never|auto)$/.test(t)?(this.options.preventDefault=t,this):Wr.bool(t)?(this.options.preventDefault=t?"always":"never",this):this.options.preventDefault}function Gr(t){var e=t.interaction,n=t.event;e.interactable&&e.interactable.checkAndPreventDefault(n)}function Yr(t){var e=t.Interactable;e.prototype.preventDefault=qr,e.prototype.checkAndPreventDefault=function(e){return function(t,e,n){var i=t.options.preventDefault;if("never"!==i)if("always"!==i){if(Vr.default.supportsPassive&&/^touch(start|move)$/.test(n.type)){var r=(0,o.getWindow)(n.target).document,a=e.getDocOptions(r);if(!a||!a.events||!1!==a.events.passive)return}/^(mouse|pointer|touch)*(down|start)/i.test(n.type)||Wr.element(n.target)&&(0,Y.matchesSelector)(n.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||n.preventDefault()}else n.preventDefault()}(this,t,e)},t.interactions.docEvents.push({type:"dragstart",listener:function(e){for(var n=0;n<t.interactions.list.length;n++){var i=t.interactions.list[n];if(i.element&&(i.element===e.target||(0,Y.nodeContains)(i.element,e.target)))return void i.interactable.checkAndPreventDefault(e)}}})}var Xr={id:"core/interactablePreventDefault",install:Yr,listeners:["down","move","up","cancel"].reduce(function(t,e){return t["interactions:".concat(e)]=Gr,t},{})};Nr.default=Xr;var Zr,Kr,Qr={};function Jr(t){return(Jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(Qr,"__esModule",{value:!0}),Qr.default=void 0,$r(j),$r(Qt),function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==Jr(t)&&"function"!=typeof t)return{default:t};var e=function(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return t}();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=i?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=t[r]}n.default=t,e&&e.set(t,n)}(p),$r(o),(Kr=Zr=Zr||{}).touchAction="touchAction",Kr.boxSizing="boxSizing",Kr.noListeners="noListeners",Zr.touchAction,Zr.boxSizing,Zr.noListeners;var to={id:"dev-tools",install:function(){}};Qr.default=to;var eo={};function no(t){return(no="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(eo,"__esModule",{value:!0}),eo.getRectOffset=fo,eo.default=void 0;var io=ao(U),ro=ao(Qt),oo=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==no(t)&&"function"!=typeof t)return{default:t};var e=function(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return t}();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=i?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=t[r]}return n.default=t,e&&e.set(t,n),n}(he);function ao(t){return t&&t.__esModule?t:{default:t}}function so(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function co(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function lo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var uo=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.interaction=e,lo(this,"states",[]),lo(this,"startOffset",{left:0,right:0,top:0,bottom:0}),lo(this,"startDelta",null),lo(this,"result",null),lo(this,"endResult",null),lo(this,"edges",void 0)}var e,n;return e=t,(n=[{key:"start",value:function(t,e){var n=t.phase,i=this.interaction,r=function(t){var e=t.interactable.options[t.prepared.name],n=e.modifiers;return n&&n.length?n.filter(function(t){return!t.options||!1!==t.options.enabled}):["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(t){var n=e[t];return n&&n.enabled&&{options:n,methods:n._methods}}).filter(function(t){return!!t})}(i);this.prepareStates(r),this.edges=(0,ro.default)({},i.edges),this.startOffset=fo(i.rect,e);var o={phase:n,pageCoords:e,preEnd:!(this.startDelta={x:0,y:0})};return this.result=po(),this.startAll(o),this.result=this.setAll(o)}},{key:"fillArg",value:function(t){var e=this.interaction;t.interaction=e,t.interactable=e.interactable,t.element=e.element,t.rect=t.rect||e.rect,t.edges=this.edges,t.startOffset=this.startOffset}},{key:"startAll",value:function(t){this.fillArg(t);for(var e=0;e<this.states.length;e++){var n=this.states[e];n.methods.start&&(t.state=n).methods.start(t)}}},{key:"setAll",value:function(t){this.fillArg(t);var e=t.phase,n=t.preEnd,i=t.skipModifiers,r=t.rect;t.coords=(0,ro.default)({},t.pageCoords),t.rect=(0,ro.default)({},r);for(var o=i?this.states.slice(i):this.states,a=po(t.coords,t.rect),s=0;s<o.length;s++){var c=o[s],l=c.options,u=(0,ro.default)({},t.coords),d=null;c.methods.set&&this.shouldDo(l,n,e)&&(d=(t.state=c).methods.set(t),oo.addEdges(this.interaction.edges,t.rect,{x:t.coords.x-u.x,y:t.coords.y-u.y})),a.eventProps.push(d)}a.delta.x=t.coords.x-t.pageCoords.x,a.delta.y=t.coords.y-t.pageCoords.y,a.rectDelta.left=t.rect.left-r.left,a.rectDelta.right=t.rect.right-r.right,a.rectDelta.top=t.rect.top-r.top,a.rectDelta.bottom=t.rect.bottom-r.bottom;var p=this.result.coords,f=this.result.rect,h=!f||a.rect.left!==f.left||a.rect.right!==f.right||a.rect.top!==f.top||a.rect.bottom!==f.bottom;return a.changed=h||p.x!==a.coords.x||p.y!==a.coords.y,a.rect=t.rect,a}},{key:"applyToInteraction",value:function(t){var e=this.interaction,n=t.phase,i=e.coords.cur,r=e.coords.start,o=this.result,a=this.startDelta,s=o.delta;"start"===n&&(0,ro.default)(this.startDelta,o.delta);for(var c=0;c<[[r,a],[i,s]].length;c++){var l=so([[r,a],[i,s]][c],2),u=l[0],d=l[1];u.page.x+=d.x,u.page.y+=d.y,u.client.x+=d.x,u.client.y+=d.y}var p=this.result.rectDelta,f=t.rect||e.rect;f.left+=p.left,f.right+=p.right,f.top+=p.top,f.bottom+=p.bottom,f.width=f.right-f.left,f.height=f.bottom-f.top}},{key:"setAndApply",value:function(t){var e=this.interaction,n=t.phase,i=t.preEnd,r=t.skipModifiers,o=this.setAll({preEnd:i,phase:n,pageCoords:t.modifiedCoords||e.coords.cur.page});if(!(this.result=o).changed&&(!r||r<this.states.length)&&e.interacting())return!1;if(t.modifiedCoords){var a=e.coords.cur.page,s=t.modifiedCoords.x-a.x,c=t.modifiedCoords.y-a.y;o.coords.x+=s,o.coords.y+=c,o.delta.x+=s,o.delta.y+=c}this.applyToInteraction(t)}},{key:"beforeEnd",value:function(t){var e=t.interaction,n=t.event,i=this.states;if(i&&i.length){for(var r=!1,o=0;o<i.length;o++){var a=i[o],s=(t.state=a).options,c=a.methods,l=c.beforeEnd&&c.beforeEnd(t);if(l)return this.endResult=l,!1;r=r||!r&&this.shouldDo(s,!0)}r||e.move({event:n,preEnd:!0})}}},{key:"stop",value:function(t){var e=t.interaction;if(this.states&&this.states.length){var n=(0,ro.default)({states:this.states,interactable:e.interactable,element:e.element,rect:null},t);this.fillArg(n);for(var i=0;i<this.states.length;i++){var r=this.states[i];(n.state=r).methods.stop&&r.methods.stop(n)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(t){this.states=[];for(var e=0;e<t.length;e++){var n=t[e],i=n.options,r=n.methods,o=n.name;i&&!1===i.enabled||this.states.push({options:i,methods:r,index:e,name:o})}return this.states}},{key:"restoreInteractionCoords",value:function(t){var e=t.interaction,n=e.coords,i=e.rect,r=e.modification;if(r.result){for(var o=r.startDelta,a=r.result,s=a.delta,c=a.rectDelta,l=[[n.start,o],[n.cur,s]],u=0;u<l.length;u++){var d=so(l[u],2),p=d[0],f=d[1];p.page.x-=f.x,p.page.y-=f.y,p.client.x-=f.x,p.client.y-=f.y}i.left-=c.left,i.right-=c.right,i.top-=c.top,i.bottom-=c.bottom}}},{key:"shouldDo",value:function(t,e,n){return!t||!1!==t.enabled&&(e||!t.endOnly)&&(t.setStart||"start"!==n)}},{key:"copyFrom",value:function(t){this.startOffset=t.startOffset,this.startDelta=t.startDelta,this.edges=t.edges,this.states=t.states.map(function(t){return(0,io.default)(t)}),this.result=po((0,ro.default)({},t.result.coords),(0,ro.default)({},t.result.rect))}},{key:"destroy",value:function(){for(var t in this)this[t]=null}}])&&co(e.prototype,n),t}();function po(t,e){return{rect:e,coords:t,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function fo(t,e){return t?{left:e.x-t.left,top:e.y-t.top,right:t.right-e.x,bottom:t.bottom-e.y}:{left:0,top:0,right:0,bottom:0}}eo.default=uo;var ho={};Object.defineProperty(ho,"__esModule",{value:!0}),ho.makeModifier=function(t,e){function n(t){var n=t||{};for(var o in n.enabled=!1!==n.enabled,i)o in n||(n[o]=i[o]);return{options:n,methods:r,name:e}}var i=t.defaults,r={start:t.start,set:t.set,beforeEnd:t.beforeEnd,stop:t.stop};return e&&"string"==typeof e&&(n._defaults=i,n._methods=r),n},ho.addEventModifiers=mo,ho.default=void 0;var vo,go=(vo=eo)&&vo.__esModule?vo:{default:vo};function mo(t){var e=t.iEvent,n=t.interaction.modification.result;n&&(e.modifiers=n.eventProps)}var yo={id:"modifiers/base",install:function(t){t.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(t){var e=t.interaction;e.modification=new go.default(e)},"interactions:before-action-start":function(t){var e=t.interaction.modification;e.start(t,t.interaction.coords.start.page),t.interaction.edges=e.edges,e.applyToInteraction(t)},"interactions:before-action-move":function(t){return t.interaction.modification.setAndApply(t)},"interactions:before-action-end":function(t){return t.interaction.modification.beforeEnd(t)},"interactions:action-start":mo,"interactions:action-move":mo,"interactions:action-end":mo,"interactions:after-action-start":function(t){return t.interaction.modification.restoreInteractionCoords(t)},"interactions:after-action-move":function(t){return t.interaction.modification.restoreInteractionCoords(t)},"interactions:stop":function(t){return t.interaction.modification.stop(t)}},before:["actions","action/drag","actions/resize","actions/gesture"]};ho.default=yo;var bo={};function _o(t){return(_o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(bo,"__esModule",{value:!0}),bo.addTotal=xo,bo.applyPending=So,bo.default=void 0;var wo=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==_o(t)&&"function"!=typeof t)return{default:t};var e=function(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return t}();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=i?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=t[r]}return n.default=t,e&&e.set(t,n),n}(he);function xo(t){t.pointerIsDown&&(Po(t.coords.cur,t.offset.total),t.offset.pending.x=0,t.offset.pending.y=0)}function Oo(t){So(t.interaction)}function So(t){if(!(e=t).offset.pending.x&&!e.offset.pending.y)return!1;var e,n=t.offset.pending;return Po(t.coords.cur,n),Po(t.coords.delta,n),wo.addEdges(t.edges,t.rect,n),n.x=0,!(n.y=0)}function Eo(t){var e=t.x,n=t.y;this.offset.pending.x+=e,this.offset.pending.y+=n,this.offset.total.x+=e,this.offset.total.y+=n}function Po(t,e){var n=t.page,i=t.client,r=e.x,o=e.y;n.x+=r,n.y+=o,i.x+=r,i.y+=o}jn._ProxyMethods.offsetBy="";var ko={id:"offset",install:function(t){t.Interaction.prototype.offsetBy=Eo},listeners:{"interactions:new":function(t){t.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(t){return xo(t.interaction)},"interactions:before-action-start":Oo,"interactions:before-action-move":Oo,"interactions:before-action-end":function(t){var e=t.interaction;if(So(e))return e.move({offset:!0}),e.end(),!1},"interactions:stop":function(t){var e=t.interaction;e.offset.total.x=0,e.offset.total.y=0,e.offset.pending.x=0,e.offset.pending.y=0}}};bo.default=ko;var Co={};function jo(t){return(jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(Co,"__esModule",{value:!0}),Co.default=Co.InertiaState=void 0;var To=Bo(ho),Mo=Ro(eo),Ao=Ro(bo),Lo=Bo(Y),Io=Ro(ut),Do=Bo(p),Fo=Ro(we);function Ro(t){return t&&t.__esModule?t:{default:t}}function zo(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return zo=function(){return t},t}function Bo(t){if(t&&t.__esModule)return t;if(null===t||"object"!==jo(t)&&"function"!=typeof t)return{default:t};var e=zo();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=i?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=t[r]}return n.default=t,e&&e.set(t,n),n}function No(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Uo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ho=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.interaction=e,Uo(this,"active",!1),Uo(this,"isModified",!1),Uo(this,"smoothEnd",!1),Uo(this,"allowResume",!1),Uo(this,"modification",null),Uo(this,"modifierCount",0),Uo(this,"modifierArg",null),Uo(this,"startCoords",null),Uo(this,"t0",0),Uo(this,"v0",0),Uo(this,"te",0),Uo(this,"targetOffset",null),Uo(this,"modifiedOffset",null),Uo(this,"currentOffset",null),Uo(this,"lambda_v0",0),Uo(this,"one_ve_v0",0),Uo(this,"timeout",null)}var e,n;return e=t,(n=[{key:"start",value:function(t){var e=this.interaction,n=Vo(e);if(!n||!n.enabled)return!1;var i=e.coords.velocity.client,r=(0,Io.default)(i.x,i.y),o=this.modification||(this.modification=new Mo.default(e));if(o.copyFrom(e.modification),this.t0=e._now(),this.allowResume=n.allowResume,this.v0=r,this.currentOffset={x:0,y:0},this.startCoords=e.coords.cur.page,this.modifierArg={interaction:e,interactable:e.interactable,element:e.element,rect:e.rect,edges:e.edges,pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"},this.t0-e.coords.cur.timeStamp<50&&r>n.minSpeed&&r>n.endSpeed)this.startInertia();else{if(o.result=o.setAll(this.modifierArg),!o.result.changed)return!1;this.startSmoothEnd()}return e.modification.result.rect=null,e.offsetBy(this.targetOffset),e._doPhase({interaction:e,event:t,phase:"inertiastart"}),e.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),e.modification.result.rect=null,this.active=!0,e.simulation=this,!0}},{key:"startInertia",value:function(){var t=this,e=this.interaction.coords.velocity.client,n=Vo(this.interaction),i=n.resistance,r=-Math.log(n.endSpeed/this.v0)/i;this.targetOffset={x:(e.x-r)/i,y:(e.y-r)/i},this.te=r,this.lambda_v0=i/this.v0,this.one_ve_v0=1-n.endSpeed/this.v0;var o=this.modification,a=this.modifierArg;a.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},o.result=o.setAll(a),o.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+o.result.delta.x,y:this.targetOffset.y+o.result.delta.y}),this.timeout=Fo.default.request(function(){return t.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var t=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.timeout=Fo.default.request(function(){return t.smoothEndTick()})}},{key:"inertiaTick",value:function(){var t,e,n,i,r,o,a,s=this,c=this.interaction,l=Vo(c).resistance,u=(c._now()-this.t0)/1e3;if(u<this.te){var d,p=1-(Math.exp(-l*u)-this.lambda_v0)/this.one_ve_v0,f={x:(d=this.isModified?(e=t=0,n=this.targetOffset.x,i=this.targetOffset.y,r=this.modifiedOffset.x,o=this.modifiedOffset.y,{x:Wo(a=p,t,n,r),y:Wo(a,e,i,o)}):{x:this.targetOffset.x*p,y:this.targetOffset.y*p}).x-this.currentOffset.x,y:d.y-this.currentOffset.y};this.currentOffset.x+=f.x,this.currentOffset.y+=f.y,c.offsetBy(f),c.move(),this.timeout=Fo.default.request(function(){return s.inertiaTick()})}else c.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var t=this,e=this.interaction,n=e._now()-this.t0,i=Vo(e).smoothEndDuration;if(n<i){var r=qo(n,0,this.targetOffset.x,i),o=qo(n,0,this.targetOffset.y,i),a={x:r-this.currentOffset.x,y:o-this.currentOffset.y};this.currentOffset.x+=a.x,this.currentOffset.y+=a.y,e.offsetBy(a),e.move({skipModifiers:this.modifierCount}),this.timeout=Fo.default.request(function(){return t.smoothEndTick()})}else e.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(t){var e=t.pointer,n=t.event,i=t.eventTarget,r=this.interaction;r.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),r.updatePointer(e,n,i,!0),r._doPhase({interaction:r,event:n,phase:"resume"}),(0,dt.copyCoords)(r.coords.prev,r.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,Fo.default.cancel(this.timeout)}}])&&No(e.prototype,n),t}();function Vo(t){var e=t.interactable,n=t.prepared;return e&&e.options&&n.name&&e.options[n.name].inertia}function Wo(t,e,n,i){var r=1-t;return r*r*e+2*r*t*n+t*t*i}function qo(t,e,n,i){return-n*(t/=i)*(t-2)+e}Co.InertiaState=Ho;var Go={id:"inertia",before:["modifiers/base"],install:function(t){var e=t.defaults;t.usePlugin(Ao.default),t.usePlugin(To.default),t.actions.phases.inertiastart=!0,t.actions.phases.resume=!0,e.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(t){var e=t.interaction;e.inertia=new Ho(e)},"interactions:before-action-end":function(t){var e=t.interaction,n=t.event;return!e._interacting||e.simulation?null:!e.inertia.start(n)&&null},"interactions:down":function(t){var e=t.interaction,n=t.eventTarget,i=e.inertia;if(i.active)for(var r=n;Do.element(r);){if(r===e.element){i.resume(t);break}r=Lo.parentNode(r)}},"interactions:stop":function(t){var e=t.interaction.inertia;e.active&&e.stop()},"interactions:before-action-resume":function(t){var e=t.interaction.modification;e.stop(t),e.start(t,t.interaction.coords.cur.page),e.applyToInteraction(t)},"interactions:before-action-inertiastart":function(t){return t.interaction.modification.setAndApply(t)},"interactions:action-resume":To.addEventModifiers,"interactions:action-inertiastart":To.addEventModifiers,"interactions:after-action-inertiastart":function(t){return t.interaction.modification.restoreInteractionCoords(t)},"interactions:after-action-resume":function(t){return t.interaction.modification.restoreInteractionCoords(t)}}};Co.default=Go;var Yo={};Object.defineProperty(Yo,"__esModule",{value:!0}),Yo.default=void 0;var Xo=Ko(Qt),Zo=Ko(eo);function Ko(t){return t&&t.__esModule?t:{default:t}}function Qo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function Jo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Qo(Object(n),!0).forEach(function(e){$o(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qo(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function $o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ta(t,e,n){var i=t.startCoords,r=t.edgeSign;e?n.y=i.y+(n.x-i.x)*r:n.x=i.x+(n.y-i.y)*r}function ea(t,e,n,i){var r=t.startRect,o=t.startCoords,a=t.ratio,s=t.edgeSign;if(e){var c=i.width/a;n.y=o.y+(c-r.height)*s}else{var l=i.height*a;n.x=o.x+(l-r.width)*s}}var na={start:function(t){var e=t.state,n=t.rect,i=t.edges,r=t.pageCoords,o=e.options.ratio,a=e.options,s=a.equalDelta,c=a.modifiers;"preserve"===o&&(o=n.width/n.height),e.startCoords=(0,Xo.default)({},r),e.startRect=(0,Xo.default)({},n),e.ratio=o,e.equalDelta=s;var l=e.linkedEdges={top:i.top||i.left&&!i.bottom,left:i.left||i.top&&!i.right,bottom:i.bottom||i.right&&!i.top,right:i.right||i.bottom&&!i.left};if(e.xIsPrimaryAxis=!(!i.left&&!i.right),e.equalDelta)e.edgeSign=(l.left?1:-1)*(l.top?1:-1);else{var u=e.xIsPrimaryAxis?l.top:l.left;e.edgeSign=u?-1:1}if((0,Xo.default)(t.edges,l),c&&c.length){var d=new Zo.default(t.interaction);d.copyFrom(t.interaction.modification),d.prepareStates(c),(e.subModification=d).startAll(Jo({},t))}},set:function(t){var e=t.state,n=t.rect,i=t.coords,r=(0,Xo.default)({},i),o=e.equalDelta?ta:ea;if(o(e,e.xIsPrimaryAxis,i,n),!e.subModification)return null;var a=(0,Xo.default)({},n);(0,he.addEdges)(e.linkedEdges,a,{x:i.x-r.x,y:i.y-r.y});var s=e.subModification.setAll(Jo({},t,{rect:a,edges:e.linkedEdges,pageCoords:i,prevCoords:i,prevRect:a})),c=s.delta;return s.changed&&(o(e,Math.abs(c.x)>Math.abs(c.y),s.coords,s.rect),(0,Xo.default)(i,s.coords)),s.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};Yo.default=na;var ia={};function ra(t){return(ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(ia,"__esModule",{value:!0}),ia.getRestrictionRect=da,ia.default=void 0;var oa,aa=(oa=Qt)&&oa.__esModule?oa:{default:oa},sa=ua(p),ca=ua(he);function la(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return la=function(){return t},t}function ua(t){if(t&&t.__esModule)return t;if(null===t||"object"!==ra(t)&&"function"!=typeof t)return{default:t};var e=la();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=i?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=t[r]}return n.default=t,e&&e.set(t,n),n}function da(t,e,n){return sa.func(t)?ca.resolveRectLike(t,e.interactable,e.element,[n.x,n.y,e]):ca.resolveRectLike(t,e.interactable,e.element)}var pa={start:function(t){var e=t.rect,n=t.startOffset,i=t.state,r=t.interaction,o=t.pageCoords,a=i.options,s=a.elementRect,c=(0,aa.default)({left:0,top:0,right:0,bottom:0},a.offset||{});if(e&&s){var l=da(a.restriction,r,o);if(l){var u=l.right-l.left-e.width,d=l.bottom-l.top-e.height;u<0&&(c.left+=u,c.right+=u),d<0&&(c.top+=d,c.bottom+=d)}c.left+=n.left-e.width*s.left,c.top+=n.top-e.height*s.top,c.right+=n.right-e.width*(1-s.right),c.bottom+=n.bottom-e.height*(1-s.bottom)}i.offset=c},set:function(t){var e=t.coords,n=t.interaction,i=t.state,r=i.options,o=i.offset,a=da(r.restriction,n,e);if(a){var s=ca.xywhToTlbr(a);e.x=Math.max(Math.min(s.right-o.right,e.x),s.left+o.left),e.y=Math.max(Math.min(s.bottom-o.bottom,e.y),s.top+o.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}};ia.default=pa;var fa={};function ha(t){return(ha="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(fa,"__esModule",{value:!0}),fa.default=void 0;var va,ga=(va=Qt)&&va.__esModule?va:{default:va},ma=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==ha(t)&&"function"!=typeof t)return{default:t};var e=function(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return t}();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=i?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=t[r]}return n.default=t,e&&e.set(t,n),n}(he),ya={top:1/0,left:1/0,bottom:-1/0,right:-1/0},ba={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function _a(t,e){for(var n=["top","left","bottom","right"],i=0;i<n.length;i++){var r=n[i];r in t||(t[r]=e[r])}return t}var wa={noInner:ya,noOuter:ba,start:function(t){var e,n=t.interaction,i=t.startOffset,r=t.state,o=r.options;if(o){var a=(0,ia.getRestrictionRect)(o.offset,n,n.coords.start.page);e=ma.rectToXY(a)}e=e||{x:0,y:0},r.offset={top:e.y+i.top,left:e.x+i.left,bottom:e.y-i.bottom,right:e.x-i.right}},set:function(t){var e=t.coords,n=t.edges,i=t.interaction,r=t.state,o=r.offset,a=r.options;if(n){var s=(0,ga.default)({},e),c=(0,ia.getRestrictionRect)(a.inner,i,s)||{},l=(0,ia.getRestrictionRect)(a.outer,i,s)||{};_a(c,ya),_a(l,ba),n.top?e.y=Math.min(Math.max(l.top+o.top,s.y),c.top+o.top):n.bottom&&(e.y=Math.max(Math.min(l.bottom+o.bottom,s.y),c.bottom+o.bottom)),n.left?e.x=Math.min(Math.max(l.left+o.left,s.x),c.left+o.left):n.right&&(e.x=Math.max(Math.min(l.right+o.right,s.x),c.right+o.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}};fa.default=wa;var xa={};Object.defineProperty(xa,"__esModule",{value:!0}),xa.default=void 0;var Oa=Ea(Qt),Sa=Ea(ia);function Ea(t){return t&&t.__esModule?t:{default:t}}var Pa=(0,Oa.default)({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(t){}},Sa.default.defaults),ka={start:Sa.default.start,set:Sa.default.set,defaults:Pa};xa.default=ka;var Ca={};function ja(t){return(ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(Ca,"__esModule",{value:!0}),Ca.default=void 0;var Ta=La(Qt),Ma=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==ja(t)&&"function"!=typeof t)return{default:t};var e=function(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return t}();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=i?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=t[r]}return n.default=t,e&&e.set(t,n),n}(he),Aa=La(fa);function La(t){return t&&t.__esModule?t:{default:t}}var Ia={width:-1/0,height:-1/0},Da={width:1/0,height:1/0},Fa={start:function(t){return Aa.default.start(t)},set:function(t){var e=t.interaction,n=t.state,i=t.rect,r=t.edges,o=n.options;if(r){var a=Ma.tlbrToXywh((0,ia.getRestrictionRect)(o.min,e,t.coords))||Ia,s=Ma.tlbrToXywh((0,ia.getRestrictionRect)(o.max,e,t.coords))||Da;n.options={endOnly:o.endOnly,inner:(0,Ta.default)({},Aa.default.noInner),outer:(0,Ta.default)({},Aa.default.noOuter)},r.top?(n.options.inner.top=i.bottom-a.height,n.options.outer.top=i.bottom-s.height):r.bottom&&(n.options.inner.bottom=i.top+a.height,n.options.outer.bottom=i.top+s.height),r.left?(n.options.inner.left=i.right-a.width,n.options.outer.left=i.right-s.width):r.right&&(n.options.inner.right=i.left+a.width,n.options.outer.right=i.left+s.width),Aa.default.set(t),n.options=o}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}};Ca.default=Fa;var Ra={};function za(t){return(za="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(Ra,"__esModule",{value:!0}),Ra.default=void 0;var Ba=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==za(t)&&"function"!=typeof t)return{default:t};var e=function(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return t}();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=i?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=t[r]}return n.default=t,e&&e.set(t,n),n}(Pe),Na={start:function(t){var e,n,i,r=t.interaction,o=t.interactable,a=t.element,s=t.rect,c=t.state,l=t.startOffset,u=c.options,d=u.offsetWithOrigin?(n=(e=t).interaction.element,Ba.rect.rectToXY(Ba.rect.resolveRectLike(e.state.options.origin,null,null,[n]))||Ba.getOriginXY(e.interactable,n,e.interaction.prepared.name)):{x:0,y:0};if("startCoords"===u.offset)i={x:r.coords.start.page.x,y:r.coords.start.page.y};else{var p=Ba.rect.resolveRectLike(u.offset,o,a,[r]);(i=Ba.rect.rectToXY(p)||{x:0,y:0}).x+=d.x,i.y+=d.y}var f=u.relativePoints;c.offsets=s&&f&&f.length?f.map(function(t,e){return{index:e,relativePoint:t,x:l.left-s.width*t.x+i.x,y:l.top-s.height*t.y+i.y}}):[Ba.extend({index:0,relativePoint:null},i)]},set:function(t){var e=t.interaction,n=t.coords,i=t.state,r=i.options,o=i.offsets,a=Ba.getOriginXY(e.interactable,e.element,e.prepared.name),s=Ba.extend({},n),c=[];r.offsetWithOrigin||(s.x-=a.x,s.y-=a.y);for(var l=0;l<o.length;l++)for(var u=o[l],d=s.x-u.x,p=s.y-u.y,f=0,h=r.targets.length;f<h;f++){var v=r.targets[f],g=void 0;(g=Ba.is.func(v)?v(d,p,e,u,f):v)&&c.push({x:(Ba.is.number(g.x)?g.x:d)+u.x,y:(Ba.is.number(g.y)?g.y:p)+u.y,range:Ba.is.number(g.range)?g.range:r.range,source:v,index:f,offset:u})}for(var m={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},y=0;y<c.length;y++){var b=c[y],_=b.range,w=b.x-s.x,x=b.y-s.y,O=Ba.hypot(w,x),S=O<=_;_===1/0&&m.inRange&&m.range!==1/0&&(S=!1),m.target&&!(S?m.inRange&&_!==1/0?O/_<m.distance/m.range:_===1/0&&m.range!==1/0||O<m.distance:!m.inRange&&O<m.distance)||(m.target=b,m.distance=O,m.range=_,m.inRange=S,m.delta.x=w,m.delta.y=x)}return m.inRange&&(n.x=m.target.x,n.y=m.target.y),i.closest=m},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}};Ra.default=Na;var Ua={};function Ha(t){return(Ha="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(Ua,"__esModule",{value:!0}),Ua.default=void 0;var Va=Ga(Qt),Wa=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==Ha(t)&&"function"!=typeof t)return{default:t};var e=function(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return t}();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=i?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=t[r]}return n.default=t,e&&e.set(t,n),n}(p),qa=Ga(Ra);function Ga(t){return t&&t.__esModule?t:{default:t}}function Ya(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Xa={start:function(t){var e=t.state,n=t.edges,i=e.options;if(!n)return null;t.state={options:{targets:null,relativePoints:[{x:n.left?0:1,y:n.top?0:1}],offset:i.offset||"self",origin:{x:0,y:0},range:i.range}},e.targetFields=e.targetFields||[["width","height"],["x","y"]],qa.default.start(t),e.offsets=t.state.offsets,t.state=e},set:function(t){var e=t.interaction,n=t.state,i=t.coords,r=n.options,o=n.offsets,a={x:i.x-o[0].x,y:i.y-o[0].y};n.options=(0,Va.default)({},r),n.options.targets=[];for(var s=0;s<(r.targets||[]).length;s++){var c=(r.targets||[])[s],l=void 0;if(l=Wa.func(c)?c(a.x,a.y,e):c){for(var u=0;u<n.targetFields.length;u++){var d=Ya(n.targetFields[u],2),p=d[0],f=d[1];if(p in l||f in l){l.x=l[p],l.y=l[f];break}}n.options.targets.push(l)}}var h=qa.default.set(t);return n.options=r,h},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}};Ua.default=Xa;var Za={};Object.defineProperty(Za,"__esModule",{value:!0}),Za.default=void 0;var Ka=$a(U),Qa=$a(Qt),Ja=$a(Ua);function $a(t){return t&&t.__esModule?t:{default:t}}var ts={start:function(t){var e=t.edges;return e?(t.state.targetFields=t.state.targetFields||[[e.left?"left":"right",e.top?"top":"bottom"]],Ja.default.start(t)):null},set:Ja.default.set,defaults:(0,Qa.default)((0,Ka.default)(Ja.default.defaults),{targets:null,range:null,offset:{x:0,y:0}})};Za.default=ts;var es={};Object.defineProperty(es,"__esModule",{value:!0}),es.aspectRatio=es.restrictSize=es.restrictEdges=es.restrictRect=es.restrict=es.snapEdges=es.snapSize=es.snap=void 0;var ns=us(Yo),is=us(fa),rs=us(ia),os=us(xa),as=us(Ca),ss=us(Za),cs=us(Ra),ls=us(Ua);function us(t){return t&&t.__esModule?t:{default:t}}var ds=(0,ho.makeModifier)(cs.default,"snap");es.snap=ds;var ps=(0,ho.makeModifier)(ls.default,"snapSize");es.snapSize=ps;var fs=(0,ho.makeModifier)(ss.default,"snapEdges");es.snapEdges=fs;var hs=(0,ho.makeModifier)(rs.default,"restrict");es.restrict=hs;var vs=(0,ho.makeModifier)(os.default,"restrictRect");es.restrictRect=vs;var gs=(0,ho.makeModifier)(is.default,"restrictEdges");es.restrictEdges=gs;var ms=(0,ho.makeModifier)(as.default,"restrictSize");es.restrictSize=ms;var ys=(0,ho.makeModifier)(ns.default,"aspectRatio");es.aspectRatio=ys;var bs={};Object.defineProperty(bs,"__esModule",{value:!0}),bs.PointerEvent=bs.default=void 0;var _s,ws=(_s=an)&&_s.__esModule?_s:{default:_s},xs=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==Os(t)&&"function"!=typeof t)return{default:t};var e=function(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return t}();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=i?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=t[r]}return n.default=t,e&&e.set(t,n),n}(dt);function Os(t){return(Os="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ss(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Es(t){return(Es=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ps(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ks(t,e){return(ks=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Cs(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var js=function(){function t(e,n,i,r,o,a){var s,c;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Cs(Ps(s=!(c=Es(t).call(this,o))||"object"!==Os(c)&&"function"!=typeof c?Ps(this):c),"type",void 0),Cs(Ps(s),"originalEvent",void 0),Cs(Ps(s),"pointerId",void 0),Cs(Ps(s),"pointerType",void 0),Cs(Ps(s),"double",void 0),Cs(Ps(s),"pageX",void 0),Cs(Ps(s),"pageY",void 0),Cs(Ps(s),"clientX",void 0),Cs(Ps(s),"clientY",void 0),Cs(Ps(s),"dt",void 0),Cs(Ps(s),"eventable",void 0),xs.pointerExtend(Ps(s),i),i!==n&&xs.pointerExtend(Ps(s),n),s.timeStamp=a,s.originalEvent=i,s.type=e,s.pointerId=xs.getPointerId(n),s.pointerType=xs.getPointerType(n),s.target=r,s.currentTarget=null,"tap"===e){var l=o.getPointerIndex(n);s.dt=s.timeStamp-o.pointers[l].downTime;var u=s.timeStamp-o.tapTime;s.double=!!(o.prevTap&&"doubletap"!==o.prevTap.type&&o.prevTap.target===s.target&&u<500)}else"doubletap"===e&&(s.dt=n.timeStamp-o.tapTime);return s}var e,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ks(t,e)}(t,ws.default),e=t,(n=[{key:"_subtractOrigin",value:function(t){var e=t.x,n=t.y;return this.pageX-=e,this.pageY-=n,this.clientX-=e,this.clientY-=n,this}},{key:"_addOrigin",value:function(t){var e=t.x,n=t.y;return this.pageX+=e,this.pageY+=n,this.clientX+=e,this.clientY+=n,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}])&&Ss(e.prototype,n),t}();bs.PointerEvent=bs.default=js;var Ts={};function Ms(t){return(Ms="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(Ts,"__esModule",{value:!0}),Ts.default=void 0,Is(jn),n({});var As=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==Ms(t)&&"function"!=typeof t)return{default:t};var e=function(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return t}();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=i?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=t[r]}return n.default=t,e&&e.set(t,n),n}(Pe),Ls=Is(bs);function Is(t){return t&&t.__esModule?t:{default:t}}var Ds={id:"pointer-events/base",install:function(t){t.pointerEvents=Ds,t.defaults.actions.pointerEvents=Ds.defaults,As.extend(t.actions.phaselessTypes,Ds.types)},listeners:{"interactions:new":function(t){var e=t.interaction;e.prevTap=null,e.tapTime=0},"interactions:update-pointer":function(t){var e=t.down,n=t.pointerInfo;!e&&n.hold||(n.hold={duration:1/0,timeout:null})},"interactions:move":function(t,e){var n=t.interaction,i=t.pointer,r=t.event,o=t.eventTarget,a=t.duplicate,s=n.getPointerIndex(i);a||n.pointerIsDown&&!n.pointerWasMoved||(n.pointerIsDown&&clearTimeout(n.pointers[s].hold.timeout),Fs({interaction:n,pointer:i,event:r,eventTarget:o,type:"move"},e))},"interactions:down":function(t,e){!function(t,e){for(var n=t.interaction,i=t.pointer,r=t.event,o=t.eventTarget,a=t.pointerIndex,s=n.pointers[a].hold,c=As.dom.getPath(o),l={interaction:n,pointer:i,event:r,eventTarget:o,type:"hold",targets:[],path:c,node:null},u=0;u<c.length;u++){var d=c[u];l.node=d,e.fire("pointerEvents:collect-targets",l)}if(l.targets.length){for(var p=1/0,f=0;f<l.targets.length;f++){var h=l.targets[f].eventable.options.holdDuration;h<p&&(p=h)}s.duration=p,s.timeout=setTimeout(function(){Fs({interaction:n,eventTarget:o,pointer:i,event:r,type:"hold"},e)},p)}}(t,e),Fs(t,e)},"interactions:up":function(t,e){var n,i,r,o,a,s;zs(t),Fs(t,e),i=e,r=(n=t).interaction,o=n.pointer,a=n.event,s=n.eventTarget,r.pointerWasMoved||Fs({interaction:r,eventTarget:s,pointer:o,event:a,type:"tap"},i)},"interactions:cancel":function(t,e){zs(t),Fs(t,e)}},PointerEvent:Ls.default,fire:Fs,collectEventTargets:Rs,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function Fs(t,e){var n=t.interaction,i=t.pointer,r=t.event,o=t.eventTarget,a=t.type,s=t.targets,c=void 0===s?Rs(t,e):s,l=new Ls.default(a,i,r,o,n,e.now());e.fire("pointerEvents:new",{pointerEvent:l});for(var u={interaction:n,pointer:i,event:r,eventTarget:o,targets:c,type:a,pointerEvent:l},d=0;d<c.length;d++){var p=c[d];for(var f in p.props||{})l[f]=p.props[f];var h=As.getOriginXY(p.eventable,p.node);if(l._subtractOrigin(h),l.eventable=p.eventable,l.currentTarget=p.node,p.eventable.fire(l),l._addOrigin(h),l.immediatePropagationStopped||l.propagationStopped&&d+1<c.length&&c[d+1].node!==l.currentTarget)break}if(e.fire("pointerEvents:fired",u),"tap"===a){var v=l.double?Fs({interaction:n,pointer:i,event:r,eventTarget:o,type:"doubletap"},e):l;n.prevTap=v,n.tapTime=v.timeStamp}return l}function Rs(t,e){var n=t.interaction,i=t.pointer,r=t.event,o=t.eventTarget,a=t.type,s=n.getPointerIndex(i),c=n.pointers[s];if("tap"===a&&(n.pointerWasMoved||!c||c.downTarget!==o))return[];for(var l=As.dom.getPath(o),u={interaction:n,pointer:i,event:r,eventTarget:o,type:a,path:l,targets:[],node:null},d=0;d<l.length;d++){var p=l[d];u.node=p,e.fire("pointerEvents:collect-targets",u)}return"hold"===a&&(u.targets=u.targets.filter(function(t){return t.eventable.options.holdDuration===n.pointers[s].hold.duration})),u.targets}function zs(t){var e=t.interaction,n=t.pointerIndex;e.pointers[n].hold&&clearTimeout(e.pointers[n].hold.timeout)}var Bs=Ds;Ts.default=Bs;var Ns={};Object.defineProperty(Ns,"__esModule",{value:!0}),Ns.default=void 0;var Us=Hs(Ts);function Hs(t){return t&&t.__esModule?t:{default:t}}function Vs(t){var e=t.interaction;e.holdIntervalHandle&&(clearInterval(e.holdIntervalHandle),e.holdIntervalHandle=null)}Hs(bs);var Ws={id:"pointer-events/holdRepeat",install:function(t){t.usePlugin(Us.default);var e=t.pointerEvents;e.defaults.holdRepeatInterval=0,e.types.holdrepeat=t.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(t,e){return t["pointerEvents:".concat(e)]=Vs,t},{"pointerEvents:new":function(t){var e=t.pointerEvent;"hold"===e.type&&(e.count=(e.count||0)+1)},"pointerEvents:fired":function(t,e){var n=t.interaction,i=t.pointerEvent,r=t.eventTarget,o=t.targets;if("hold"===i.type&&o.length){var a=o[0].eventable.options.holdRepeatInterval;a<=0||(n.holdIntervalHandle=setTimeout(function(){e.pointerEvents.fire({interaction:n,eventTarget:r,type:"hold",pointer:i,event:i},e)},a))}}})};Ns.default=Ws;var qs={};Object.defineProperty(qs,"__esModule",{value:!0}),qs.default=void 0;var Gs,Ys=(Gs=Qt)&&Gs.__esModule?Gs:{default:Gs};function Xs(t){return(0,Ys.default)(this.events.options,t),this}var Zs={id:"pointer-events/interactableTargets",install:function(t){var e=t.Interactable;e.prototype.pointerEvents=Xs;var n=e.prototype._backCompatOption;e.prototype._backCompatOption=function(t,e){var i=n.call(this,t,e);return i===this&&(this.events.options[t]=e),i}},listeners:{"pointerEvents:collect-targets":function(t,e){var n=t.targets,i=t.node,r=t.type,o=t.eventTarget;e.interactables.forEachMatch(i,function(t){var e=t.events,a=e.options;e.types[r]&&e.types[r].length&&t.testIgnoreAllow(a,i,o)&&n.push({node:i,eventable:e,props:{interactable:t}})})},"interactable:new":function(t){var e=t.interactable;e.events.getRect=function(t){return e.getRect(t)}},"interactable:set":function(t,e){var n=t.interactable,i=t.options;(0,Ys.default)(n.events.options,e.pointerEvents.defaults),(0,Ys.default)(n.events.options,i.pointerEvents||{})}}};qs.default=Zs;var Ks={};function Qs(t){return(Qs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(Ks,"__esModule",{value:!0}),Ks.install=function(t){t.usePlugin(Js),t.usePlugin($s.default),t.usePlugin(tc.default)},Object.defineProperty(Ks,"holdRepeat",{enumerable:!0,get:function(){return $s.default}}),Object.defineProperty(Ks,"interactableTargets",{enumerable:!0,get:function(){return tc.default}}),Ks.pointerEvents=Ks.id=void 0;var Js=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==Qs(t)&&"function"!=typeof t)return{default:t};var e=function(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return t}();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=i?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=t[r]}return n.default=t,e&&e.set(t,n),n}(Ts);Ks.pointerEvents=Js;var $s=ec(Ns),tc=ec(qs);function ec(t){return t&&t.__esModule?t:{default:t}}Ks.id="pointer-events";var nc,ic={};function rc(t){var e=t.Interactable;t.actions.phases.reflow=!0,e.prototype.reflow=function(e){return function(t,e,n){function i(){var i=r[s],c=t.getRect(i);if(!c)return"break";var l=Pe.arr.find(n.interactions.list,function(n){return n.interacting()&&n.interactable===t&&n.element===i&&n.prepared.name===e.name}),u=void 0;if(l)l.move(),a&&(u=l._reflowPromise||new o(function(t){l._reflowResolve=t}));else{var d=Pe.rect.tlbrToXywh(c),p={page:{x:d.x,y:d.y},client:{x:d.x,y:d.y},timeStamp:n.now()},f=Pe.pointer.coordsToEvent(p);u=function(t,e,n,i,r){var o=t.interactions.new({pointerType:"reflow"}),a={interaction:o,event:r,pointer:r,eventTarget:n,phase:"reflow"};o.interactable=e,o.element=n,o.prepared=(0,Pe.extend)({},i),o.prevEvent=r,o.updatePointer(r,r,n,!0),o._doPhase(a);var s=Pe.win.window.Promise?new Pe.win.window.Promise(function(t){o._reflowResolve=t}):null;return o._reflowPromise=s,o.start(i,e,n),o._interacting?(o.move(a),o.end(r)):o.stop(),o.removePointer(r,r),o.pointerIsDown=!1,s}(n,t,i,e,f)}a&&a.push(u)}for(var r=Pe.is.string(t.target)?Pe.arr.from(t._context.querySelectorAll(t.target)):[t.target],o=Pe.win.window.Promise,a=o?[]:null,s=0;s<r.length&&"break"!==i();s++);return a&&o.all(a).then(function(){return t})}(this,e,t)}}Object.defineProperty(ic,"__esModule",{value:!0}),ic.install=rc,ic.default=void 0,(nc=e({}))&&nc.__esModule;var oc={id:"reflow",install:rc,listeners:{"interactions:stop":function(t,e){var n=t.interaction;"reflow"===n.pointerType&&(n._reflowResolve&&n._reflowResolve(),Pe.arr.remove(e.interactions.list,n))}}};ic.default=oc;var ac={};function sc(t){return(sc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(ac,"__esModule",{value:!0}),ac.default=ac.scope=ac.interact=void 0;var cc=n({}),lc=pc(L),uc=pc(Ct),dc=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==sc(t)&&"function"!=typeof t)return{default:t};var e=function(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return t}();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=i?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=t[r]}return n.default=t,e&&e.set(t,n),n}(Pe);function pc(t){return t&&t.__esModule?t:{default:t}}var fc={},hc=new cc.Scope;function vc(t,e){var n=hc.interactables.get(t,e);return n||((n=hc.interactables.new(t,e)).events.global=fc),n}ac.scope=hc,(ac.interact=vc).use=function(t,e){return hc.usePlugin(t,e),vc},vc.isSet=function(t,e){return!!hc.interactables.get(t,e&&e.context)},vc.on=function(t,e,n){if(dc.is.string(t)&&-1!==t.search(" ")&&(t=t.trim().split(/ +/)),dc.is.array(t)){for(var i=0;i<t.length;i++){var r;r=t[i],vc.on(r,e,n)}return vc}if(dc.is.object(t)){for(var o in t)vc.on(o,t[o],e);return vc}return(0,cc.isNonNativeEvent)(t,hc.actions)?fc[t]?fc[t].push(e):fc[t]=[e]:uc.default.add(hc.document,t,e,{options:n}),vc},vc.off=function(t,e,n){if(dc.is.string(t)&&-1!==t.search(" ")&&(t=t.trim().split(/ +/)),dc.is.array(t)){for(var i=0;i<t.length;i++){var r;r=t[i],vc.off(r,e,n)}return vc}if(dc.is.object(t)){for(var o in t)vc.off(o,t[o],e);return vc}var a;return(0,cc.isNonNativeEvent)(t,hc.actions)?t in fc&&-1!==(a=fc[t].indexOf(e))&&fc[t].splice(a,1):uc.default.remove(hc.document,t,e,n),vc},vc.debug=function(){return hc},vc.getPointerAverage=dc.pointer.pointerAverage,vc.getTouchBBox=dc.pointer.touchBBox,vc.getTouchDistance=dc.pointer.touchDistance,vc.getTouchAngle=dc.pointer.touchAngle,vc.getElementRect=dc.dom.getElementRect,vc.getElementClientRect=dc.dom.getElementClientRect,vc.matchesSelector=dc.dom.matchesSelector,vc.closest=dc.dom.closest,vc.supportsTouch=function(){return lc.default.supportsTouch},vc.supportsPointerEvent=function(){return lc.default.supportsPointerEvent},vc.stop=function(){for(var t=0;t<hc.interactions.list.length;t++)hc.interactions.list[t].stop();return vc},vc.pointerMoveTolerance=function(t){return dc.is.number(t)?(hc.interactions.pointerMoveTolerance=t,vc):hc.interactions.pointerMoveTolerance},hc.addListeners({"interactable:unset":function(t){var e=t.interactable;hc.interactables.list.splice(hc.interactables.list.indexOf(e),1);for(var n=0;n<hc.interactions.list.length;n++){var i=hc.interactions.list[n];i.interactable===e&&i.interacting()&&!i._ending&&i.stop()}}}),vc.addDocument=function(t,e){return hc.addDocument(t,e)},vc.removeDocument=function(t){return hc.removeDocument(t)};var gc=hc.interact=vc;ac.default=gc;var mc={};function yc(t){return(yc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(mc,"__esModule",{value:!0}),mc.init=function(t){for(var e in jc.scope.init(t),jc.default.use(xc.default),jc.default.use(Pc.default),jc.default.use(kc),jc.default.use(Oc.default),jc.default.use(Sc.default),jc.default.use(wc),jc.default.use(bc),Ec){var n=Ec[e],i=n._defaults,r=n._methods;i._methods=r,jc.scope.defaults.perAction[e]=i}return jc.default.use(_c.default),jc.default.use(Cc.default),jc.default},mc.default=void 0;var bc=Ac(Ni),_c=Tc(Gi),wc=Ac(Dr),xc=Tc(Nr),Oc=(Tc(Qr),Tc(Co)),Sc=Tc(ho),Ec=Ac(es),Pc=Tc(bo),kc=Ac(Ks),Cc=Tc(ic),jc=Ac(ac);function Tc(t){return t&&t.__esModule?t:{default:t}}function Mc(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return Mc=function(){return t},t}function Ac(t){if(t&&t.__esModule)return t;if(null===t||"object"!==yc(t)&&"function"!=typeof t)return{default:t};var e=Mc();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=i?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=t[r]}return n.default=t,e&&e.set(t,n),n}jc.default.version="1.8.5";var Lc=jc.default;mc.default=Lc;var Ic={};function Dc(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(Ic,"__esModule",{value:!0}),Ic.default=void 0,Ic.default=function(t){function e(e,i){for(var r=t.range,o=t.limits,a=void 0===o?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:o,s=t.offset,c=void 0===s?{x:0,y:0}:s,l={range:r,grid:t,x:null,y:null},u=0;u<n.length;u++){var d=Dc(n[u],2),p=d[0],f=d[1],h=Math.round((e-c.x)/t[p]),v=Math.round((i-c.y)/t[f]);l[p]=Math.max(a.left,Math.min(a.right,h*t[p]+c.x)),l[f]=Math.max(a.top,Math.min(a.bottom,v*t[f]+c.y))}return l}var n=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(e){var n=Dc(e,2),i=n[0],r=n[1];return i in t||r in t});return e.grid=t,e.coordFields=n,e};var Fc={};Object.defineProperty(Fc,"__esModule",{value:!0}),Object.defineProperty(Fc,"grid",{enumerable:!0,get:function(){return zc.default}});var Rc,zc=(Rc=Ic)&&Rc.__esModule?Rc:{default:Rc},Bc={};Object.defineProperty(Bc,"__esModule",{value:!0}),Bc.init=Xc,Bc.default=void 0;var Nc,Uc=Gc(mc),Hc=Gc(es),Vc=(Nc=Qt)&&Nc.__esModule?Nc:{default:Nc},Wc=Gc(Fc);function qc(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return qc=function(){return t},t}function Gc(t){if(t&&t.__esModule)return t;if(null===t||"object"!==Yc(t)&&"function"!=typeof t)return{default:t};var e=qc();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=i?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=t[r]}return n.default=t,e&&e.set(t,n),n}function Yc(t){return(Yc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xc(t){return(0,Uc.init)(t),Uc.default.use({id:"interactjs",install:function(){Uc.default.modifiers=(0,Vc.default)({},Hc),Uc.default.snappers=Wc,Uc.default.createSnapGrid=Uc.default.snappers.grid}})}"object"===("undefined"==typeof window?"undefined":Yc(window))&&window&&Xc(window);var Zc=Uc.default;Bc.default=Zc;var Kc={exports:{}};Object.defineProperty(Kc.exports,"__esModule",{value:!0});var Qc={};Kc.exports.default=void 0;var Jc=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==$c(t)&&"function"!=typeof t)return{default:t};var e=function(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return t}();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=i?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=t[r]}return n.default=t,e&&e.set(t,n),n}(Bc);function $c(t){return($c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}if(Object.keys(Jc).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(Qc,t)||Object.defineProperty(Kc.exports,t,{enumerable:!0,get:function(){return Jc[t]}}))}),"object"===$c(Kc)&&Kc)try{Kc.exports=Jc.default}catch(t){}Jc.default.default=Jc.default,Jc.default.init=Jc.init;var tl=Jc.default;return Kc.exports.default=tl,Kc=Kc.exports}()},,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImageHelper=void 0;var i=function(){function t(){}return t.test=function(t,e,n){return void 0===e&&(e=null),void 0===n&&(n=null),new Promise(function(i,r){var o=new Image;o.addEventListener("load",function(){e&&"function"==typeof e&&e();i()}),o.addEventListener("error",function(){n&&"function"==typeof n&&n();r()}),o.src=t})},t}();e.ImageHelper=i},,,,,,,,,,,,,,,,,function(t,e,n){"use strict";(function(t){var n,i;Object.defineProperty(e,"__esModule",{value:!0}),e.InputManager=e.MOUSE=e.KEYBOARD=void 0,function(t){t[t.Backspace=8]="Backspace",t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Shift=16]="Shift",t[t.Ctrl=17]="Ctrl",t[t.Escape=27]="Escape",t[t.Spacebar=32]="Spacebar",t[t.Supr=46]="Supr",t[t.Cmd=91]="Cmd",t[t.F2=113]="F2",t[t.LeftArrow=37]="LeftArrow",t[t.UpArrow=38]="UpArrow",t[t.RightArrow=39]="RightArrow",t[t.DownArrow=40]="DownArrow",t[t.x=88]="x",t[t.c=67]="c",t[t.v=86]="v",t[t.g=71]="g"}(n=e.KEYBOARD||(e.KEYBOARD={})),function(t){t[t.LeftClick=1]="LeftClick",t[t.MiddleClick=2]="MiddleClick",t[t.RightClick=3]="RightClick"}(i=e.MOUSE||(e.MOUSE={}));var r=function(){function e(){this.pressed_keys={},this.callbacks={pressed:{}};var e=t(window);e.keydown(this.onKeyDown.bind(this)),e.keyup(this.onKeyUp.bind(this)),e.mousedown(this.onMouseDown.bind(this)),e.mouseup(this.onMouseUp.bind(this))}return e.getInstance=function(){return this.instance||(this.instance=new e),this.instance},e.prototype.isBeingPressed=function(t){return t in this.pressed_keys&&this.pressed_keys[t]},e.prototype.onKeyPressed=function(t,e){t in this.callbacks.pressed||(this.callbacks.pressed[t]=[]),this.callbacks.pressed[t].push(e)},e.prototype.onKeyDown=function(t){if(t.keyCode in n){var e=n[t.keyCode];!0!==this.pressed_keys[e]&&(this.pressed_keys[e]=!0,e in this.callbacks.pressed&&this.callbacks.pressed[e].forEach(function(e){return e(!0,t)}))}},e.prototype.onKeyUp=function(t){if(t.keyCode in n){var e=n[t.keyCode];!1!==this.pressed_keys[e]&&(this.pressed_keys[e]=!1,e in this.callbacks.pressed&&this.callbacks.pressed[e].forEach(function(e){return e(!1,t)}))}},e.prototype.onMouseDown=function(t){if(t.which in i){var e=i[t.which];!0!==this.pressed_keys[e]&&(this.pressed_keys[e]=!0)}},e.prototype.onMouseUp=function(t){if(t.which in i){var e=i[t.which];!1!==this.pressed_keys[e]&&(this.pressed_keys[e]=!1)}},e.prototype.onKeyCombinationPressed=function(t,e){var n=this,i=t.split("+").map(function(t){return t.trim()}),r=!1;i.forEach(function(t){n.onKeyPressed(t,function(t){var o=i.every(function(t){return n.isBeingPressed(t)});o?e(!0):!1===o&&r&&e(!1),r=o})})},e.instance=null,e}();e.InputManager=r}).call(this,n(1))},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.SubmenuBase=void 0;var i=n(321),r=n(281),o=n(461),a=n(286),s=n(17),c=n(8),l=function(){function e(t,e){this.afterRenderCallbacks=[],this.blocks=[],this.internalEventCallbacks={},this.showRecycleBin=!0,this.alwaysBlockAlign=!1,this.design_mediaQueryBlockAlignment_minWidth=1600,this.menu=e,this.canvasObject=t}return e.prototype.design_alignFirstBlockWithMainMenu=function(){var e=t(this.blocks[0][0]),n=s.Tools.isRTL(),i=n?"margin-right":"margin-left";if(this.alwaysBlockAlign||this.mustAlignSubmenuToCenter()){var r,o=this.menu.menu.find(".editpdf__menu__block--text");n?r=window.innerWidth-o.offset().left-o.width():(r=o.offset().left,r+=2),e.css(i,r+"px")}else e.css(i,"0px")},e.prototype.mustAlignSubmenuToCenter=function(){var t=this.design_mediaQueryBlockAlignment_minWidth;return window.innerWidth>=t},e.prototype.isPreviewSidebarOpened=function(){return t(".tool__preview__toggle.closed").length<=0},e.prototype.block=function(t,e){var n=this.menu.getTemplate("block");n.attr("data-name",t),this.currBlock=n,e(n),this.blocks.push(this.currBlock),this.currBlock=null},e.prototype.inputNumberElement=function(e,n,i,o){var a=this;void 0===o&&(o={});var c=this.currBlock,l=this.createItem();l.addClass("editpdf__submenu__input-number"),c.append(l),i=this.resolveValue(i),n.unit?n.unit=" "+n.unit:n.unit="";var u=t('<input type="text" id="'+e+'_inputNumber" value="'+i+n.unit+'">'),d=t(r.IconRepository.unfoldArrow());d.addClass("substraction-arrow");var p=t(r.IconRepository.unfoldArrow());p.addClass("addition-arrow"),o.leftIcon&&(o.leftIcon=t(r.IconRepository[o.leftIcon]()),o.leftIcon.addClass("editpdf-icon"),o.leftIcon.addClass("leftside-icon"),l.prepend(o.leftIcon));var f=function(t){var i,r=parseInt(u.val());r&&!isNaN(r)||0!==r&&(r=0);var o=s.Tools.keepInNumericBounds(n.from,n.to,r+t);u.val(o+n.unit),a.canvasObject.setUserAttributes(((i={})[e]=o,i))},h=null,v=function(t){return function(){t(),g(),h=setInterval(t,85)}},g=function(){t(document).one("mouseup",function(){clearInterval(h)})};p.mousedown(v(function(){f(1)})),d.mousedown(v(function(){f(-1)})),u.blur(function(){return f(0)}),u.keydown(function(t){13===t.which&&f(0),38===t.which&&f(1),40===t.which&&f(-1)}),l.append(u),l.append(p),l.append(d),o.disabled&&l.addClass("disabled"),o.tooltip&&this.addTooltip(l,o.tooltip)},e.prototype.selectElement=function(e,n,i,o){var a=this;void 0===o&&(o={});var s=this.currBlock,c=this.createItem(),l=t("<select id='"+e+"_select'>");s.append(c),c.append(l),o.leftsideIcon&&(o.leftsideIcon=t(r.IconRepository[o.leftsideIcon]()),o.leftsideIcon.addClass("editpdf-icon"),o.leftsideIcon.addClass("leftside-icon"),c.prepend(o.leftsideIcon)),n=this.resolveValue(n),this.fillSelectWithOptions(l,n,this.resolveValue(i)),l.change(function(t){var n,i=l.val();i=a.str_humanize(i),a.canvasObject.setUserAttributes(((n={})[e]=i,n))}),o.tooltip&&this.addTooltip(c,o.tooltip)},e.prototype.switchButton=function(e,n,i){var o=this;void 0===i&&(i={});var a=this.currBlock,s=this.createItem(),c=t("<div class='switch-button "+e+"'>");s.append(c),a.append(s),i.innerIcon&&(i.innerIcon=t(r.IconRepository[i.innerIcon]()),i.innerIcon.addClass("editpdf-icon"),c.html(i.innerIcon));var l=this.resolveValue(n);l?c.addClass("switch-on"):c.addClass("switch-off"),c.attr("data-value",l),c.click(function(){var t;c.removeClass("switch-on"),c.removeClass("switch-off");var n=!("true"===c.attr("data-value"));c.attr("data-value",String(n)),c.addClass(n?"switch-on":"switch-off"),o.canvasObject.setUserAttributes(((t={})[e]=n,t))}),i.tooltip&&this.addTooltip(s,i.tooltip)},e.prototype.actionButton=function(e,n,i){var o=this;void 0===i&&(i={});var a=this.currBlock,s=this.createItem(),c=t("<div class='action-button "+e+"'>");s.append(c),a.append(s),i.innerIcon&&(i.innerIcon=t(r.IconRepository[i.innerIcon]()),i.innerIcon.addClass("editpdf-icon"),c.html(i.innerIcon)),c.click(function(){n(),o.canvasObject&&o.canvasObject.updateDom()}),i.tooltip&&this.addTooltip(s,i.tooltip)},e.prototype.contextualMenu=function(e,n,i,o){void 0===o&&(o={});var a=this,s=this.currBlock,c=this.createItem(),l=e+"_ContextualMenu",u=t("<div class='"+e+"'></div>");c.attr("id",l),c.addClass("contextual-menu-wrapper"),c.append(u),s.append(c);var d=this.resolveValue(n),p=this.resolveValue(i),f=t(d[p]);f.addClass("editpdf-icon"),u.append(f);var h=t(r.IconRepository.unfoldArrow());h.addClass("unfold-arrow-icon"),u.append(h);var v="";for(var g in d)v+="<div data-value='"+g+"'>"+d[g]+"</div>\n";this.afterRenderCallbacks.push(function(){window.tippy("#"+l,{content:v,allowHTML:!0,trigger:"click",theme:"light editpdf-submenu-contextual-menu",interactive:!0,placement:"bottom",arrow:!1,offset:[0,5],onHide:function(){c.removeClass("tippy-active")},onMount:function(n){var i=t(n.popper).find(".tippy-content");c.addClass("tippy-active"),i.hasClass("bootstrapped")||(i.addClass("bootstrapped"),i.addClass("belongs-to-submenu"),i.find("[data-value]").click(function(){var i,r=t(this),o=r.data("value");a.canvasObject.setUserAttributes(((i={})[e]=o,i)),u.find(".editpdf-icon").html(r.html()),n.hide()}))}})}),o.tooltip&&this.addTooltip(c,o.tooltip)},e.prototype.symbolsMenu=function(e,n){void 0===n&&(n={});var i=this,a=this.currBlock,s=this.createItem(),l=e+"_ContextualMenu",u=t("<div class='"+e+"'></div>");s.attr("id",l),s.addClass("contextual-menu-wrapper"),s.addClass("contextual-menu-wrapper--with-rows"),s.append(u),a.append(s);var d=t(r.IconRepository.symbols());d.addClass("editpdf-icon"),u.append(d);var p=o.SymbolRepository.getAllAsObject(),f=null,h=t("<div></div>");for(var v in p)(f?f.children().length:0)%6==0&&(f=t("<div class='symbol-row'></div>"),h.append(f)),f.append("<div data-value='"+v+"'>"+p[v]+"</div>");n.tooltip&&this.addTooltip(s,n.tooltip),this.afterRenderCallbacks.push(function(){window.tippy("#"+l,{content:h.html(),allowHTML:!0,trigger:"click",theme:"light editpdf-submenu-contextual-menu",interactive:!0,placement:"bottom",arrow:!1,offset:[0,5],onHide:function(){s.removeClass("tippy-active")},onMount:function(e){var n=t(e.popper).find(".tippy-content");if(s.addClass("tippy-active"),!n.hasClass("bootstrapped")){var r=n.find("[data-value]");r.each(function(){var e=t(this);i.addTooltip(t(this),{text:c.Lang.t("tooltip_symbol_"+e.attr("data-value"))})}),n.addClass("bootstrapped"),n.addClass("belongs-to-submenu"),r.click(function(){t(this).data("value");i.menu.onMenuItemClick("symbol",{svg:t(this).html()}),e.hide()})}}})})},e.prototype.colorPalette=function(e,n,i,o){var a=this;void 0===o&&(o={}),n=this.resolveValue(n);var s=this,c=this.currBlock,l=this.createItem(),u=e+"_ColorPalette",d=t("<div class='"+e+"'></div>");l.attr("id",u),l.addClass("color-palette-wrapper"),l.append(d),c.append(l);var p=this.resolveValue(i),f=r.IconRepository.transparentColorSample(),h=function(e,n){void 0===n&&(n=!1);var i=n?" for-border":"",r=n?"border-color":"background";return"transparent"===e?t("<div class='color-col'><div class='color-sample"+i+"' data-value='"+e+"' "+(n?"":"style='"+r+": "+e+"'")+">"+(n?"":f)+"</div></div>"):"#ffffff"===e.toLowerCase()?t("<div class='color-col color-col-white'><div class='color-sample"+i+"' data-value='"+e+"' style='"+r+": "+e+"'></div></div>"):t("<div class='color-col'><div class='color-sample"+i+"' data-value='"+e+"' style='"+r+": "+e+"'></div></div>")},v=function(t){d.find(".color-sample").detach(),a.triggerInternalEvent("color_palette:change",{eventOriginator:e,newValue:t});var n=d.hasClass("strokeColor");"displayColorSampleAsFillColor"in o&&(n=!o.displayColorSampleAsFillColor),d.prepend(h(t,n).find(".color-sample"))};o.innerIcon?(o.innerIcon=t(r.IconRepository[o.innerIcon]()),o.innerIcon.addClass("editpdf-icon"),d.append(o.innerIcon),v=function(t){if(d.find("g.color-palette").hide(),"transparent"===t)d.find("g.color-palette.color-palette--transparent").show();else if("#ffffff"===t.toLowerCase())d.find("g.color-palette.color-palette--white").show();else{var e=d.find("g.color-palette.color-palette--default");e.find("rect").css("fill",t),e.show()}}):o.leftIcon&&(o.leftIcon=t(r.IconRepository[o.leftIcon]()),o.leftIcon.addClass("editpdf-icon"),o.leftIcon.addClass("leftside-icon"),l.prepend(o.leftIcon)),p&&v(p);var g=t(r.IconRepository.unfoldArrow());g.addClass("unfold-arrow-icon"),d.append(g);var m=0,y=t("<div class='color-palette'>"),b=null,_=function(){b=t("<div class='color-row'>"),y.append(b)};_();var w=!0;n.forEach(function(t){b.append(h(t)),++m%(w?3:6)==0&&(w&&(w=!1,m=0),_())}),o.tooltip&&this.addTooltip(l,o.tooltip);var x=[0,5];this.afterRenderCallbacks.push(function(){window.tippy("#"+u,{content:y[0].outerHTML,allowHTML:!0,trigger:"click",theme:"light color-palette color-palette-"+e,interactive:!0,placement:"bottom",arrow:!1,offset:x,onHide:function(){l.removeClass("tippy-active")},onMount:function(n){var i=t(n.popper).find(".tippy-content");l.addClass("tippy-active"),o.tooltip_mount_reposition_callback&&o.tooltip_mount_reposition_callback(n),i.hasClass("bootstrapped")||(t(n.popper).find(".tippy-box").css("position","relative"),i.addClass("bootstrapped"),i.addClass("belongs-to-submenu"),i.find("[data-value]").click(function(){var o,a=t(this),c=a.data("value");s.canvasObject.setUserAttributes(((o={})[e]=c,o));var l=a.data("value");i.find("[data-value]").find(".check-icon").detach();var u=t(r.IconRepository.check());u.addClass("check-icon"),a.append(u),s.triggerInternalEvent("submenu:color_palette:change",{newColor:l,dom:a}),v(l),n.hide()}))}})})},Object.defineProperty(e.prototype,"lastItemInCurrentBlock",{get:function(){var t=this.currBlock.children();return t.eq(t.length-1)},enumerable:!1,configurable:!0}),e.prototype.fillColorTooltip=function(){return{text:c.Lang.t("tooltip_fillColor")}},e.prototype.strokeColorTooltip=function(){return{text:c.Lang.t("tooltip_borderColor")}},e.prototype.colorTooltip=function(){return{text:c.Lang.t("tooltip_color")}},e.prototype.opacityTooltip=function(){return{on:".editpdf-icon",text:c.Lang.t("tooltip_opacity")}},e.prototype.strokeTooltip=function(){return{on:".editpdf-icon",text:c.Lang.t("tooltip_stroke")}},e.prototype.rotateLeftTooltip=function(){return{text:c.Lang.t("tooltip_rotateLeft")}},e.prototype.rotateRightTooltip=function(){return{text:c.Lang.t("tooltip_rotateRight")}},e.prototype.getTooltip=function(t){return{text:c.Lang.t("tooltip_"+t)}},e.prototype.applyDrawTooltip=function(){return{text:c.Lang.t("tooltip_applyDraw")}},e.prototype.textAlignTooltip=function(){return{text:c.Lang.t("tooltip_textAlign")}},e.prototype.textBoldTooltip=function(){return{text:c.Lang.t("tooltip_textBold")}},e.prototype.textItalicTooltip=function(){return{text:c.Lang.t("tooltip_textItalic")}},e.prototype.textUnderlineTooltip=function(){return{text:c.Lang.t("tooltip_textUnderline")}},e.prototype.textColorTooltip=function(){return{text:c.Lang.t("tooltip_textColor")}},e.prototype.textBgColorTooltip=function(){return{text:c.Lang.t("tooltip_textBgColor")}},e.prototype.addTooltip=function(t,e){var n=t;return e.on&&(n=t.find(e.on)),n.is(".wrapper")&&(n=n.children().eq(0)),window.tippy(n[0],{content:e.text,placement:"bottom",arrow:!0,animation:"fade"})},e.prototype.getAvailableFonts=function(){var t=this.canvasObject,e=a.AssetsManager.fontsForWritingSystems(t.writingSystems);for(var n in e)e[n].text=e[n].human_name;return e},e.prototype.getAvailableFontSizes=function(){return i.Text.getAvailableFontSizes()},e.prototype.getAvailableShapesStrokeValues=function(){for(var t=[],e=0;e<=40;e++)t.push(e);return t},e.prototype.getOpacityCollection=function(){return[["1","100%"],["0.75","75%"],["0.5","50%"],["0.25","25%"],["0","0%"]]},e.prototype.getDefaultAvailableColors=function(){return["transparent","#FFFFFF","#000000","#F44336","#E91E64","#9C28B0","#2196F3","#00BCD4","#4CAF50","#FFEC3A","#FF5722","#795548","#E0E0E0","#9E9E9E","#424242"]},e.prototype.createItem=function(){return t("<div class='wrapper'></div>")},e.prototype.fillSelectWithOptions=function(e,n,i){var r=this,o=[],a=function(t,e,n){void 0===n&&(n={});var r=void 0!==i&&String(i)===String(t)?"selected":"",a="enabled"in n&&!1===n.enabled?"disabled":"";o.push("<option "+a+" value='"+t+"' "+r+">"+e+"</option>")};if(Array.isArray(n))n.forEach(function(t){Array.isArray(t)?a(t[0],t[1]):a(r.str_underscore(t),t)});else{if("object"!=typeof n)throw"[Editpdf SubmenuBase] Uknown 'options' type";for(var s in n)a(s,n[s].text,n[s])}e.append(t(o.join("")))},e.prototype.resolveValue=function(t){if(void 0!==t){var e=typeof t;switch(e){case"object":return t;case"string":if(this.isLiteralValue(t))return this.removeLiterals(t);var n=void 0,i=void 0,r=t.match(/(.+)\.(.+)/);return r?"function"==typeof(i=this[r[1]])[n=r[2]]?i[n].call(i):i[n]:(i=this)[n=t].call(i);case"function":return t();default:throw"[Editpdf][SubmenuBase] Do not know how to resolveValue "+e}}},e.prototype.str_underscore=function(t){return String(t).replace(/\s/g,"_")},e.prototype.str_humanize=function(t){return String(t).replace(/_/g," ")},e.prototype.render=function(){var t=this,e=this.compose();this.showRecycleBin&&this.block("recycle_bin",function(e){t.appendRecycleBin(e)}),e.forEach(function(e){return t.submenu.append(e)}),this.afterRenderCallbacks.forEach(function(t){return t()}),this.design_alignFirstBlockWithMainMenu(),this.setSubMenuName()},e.prototype.setSubMenuName=function(){var t=this.constructor.name.replace(/^Submenu/,"");this.submenu.attr("data-name",t)},e.prototype.makeLiteral=function(t){return"!!!"+t+"!!!"},e.prototype.removeLiterals=function(t){var e=String(t);return e=(e=e.replace(/^!!!/,"")).replace(/!!!$/,"")},e.prototype.isLiteralValue=function(t){return null!==String(t).match(/!!!.+!!!/)},e.prototype.appendRecycleBin=function(e){var n=this,i=t("\n      <div class=\"wrapper\">\n        <div class='editpdf__submenu__btn recycle-bin'>\n          "+r.IconRepository.recycleBin()+"\n        </div>\n      </div>\n    ");i.click(function(){var t=new CustomEvent("canvas_object:remove_request",{detail:{canvasObject:n.menu.submenuCanvasObject,trigger:"recycle-bin"}});window.dispatchEvent(t)}),e.append(i),this.addTooltip(i.find(".recycle-bin"),{text:c.Lang.t("tooltip_removeLayer")})},Object.defineProperty(e.prototype,"submenu",{get:function(){return this.menu.subMenu},enumerable:!1,configurable:!0}),e.prototype.triggerEvent=function(t,e){void 0===e&&(e={});var n=new CustomEvent(t,{detail:e});window.dispatchEvent(n)},e.prototype.onInternalEvent=function(t,e){t in this.internalEventCallbacks||(this.internalEventCallbacks[t]=[]),this.internalEventCallbacks[t].push(e)},e.prototype.triggerInternalEvent=function(t,e){t in this.internalEventCallbacks&&this.internalEventCallbacks[t].forEach(function(t){t(e)})},e}();e.SubmenuBase=l}).call(this,n(1))},,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasObject=void 0;var i=n(311),r=n(279),o=function(){function e(t){this.isActiveElement=!1,this.inUpdateDom=!1,this.markedForDestruction=!1,this.cloned=!1,this.cloning=!1,this._transformOrigin="left top",this.translate={x:0,y:0},this.beingHighlighted=!1,this.customEventHandlers={},this.transformCssScaleX=1,this.transformCssScaleY=1,this.interactiveMode={enabled:!1},this.coords={x:0,y:0},this.size={w:0,h:0},this.coords_x1={x:0,y:0},this.size_x1={w:0,h:0},this._zoomLevel=1,this.opacity=1,this._rotation=0,this.bag={},this.placedInCanvas=!1,this.highestSafeZIndex=2e3,this._minWidth=10,this._minHeight=10,this.minPermittedHeight=10,this.minPermittedWidth=10,this.id=this.makeid(20),this.pdfPage=t,this.init()}return e.prototype.isInteractiveModeEnabled=function(){return!0===this.interactiveMode.enabled},Object.defineProperty(e.prototype,"zoomLevel",{get:function(){return this._zoomLevel},set:function(t){this._zoomLevel=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this._rotation},set:function(t){var e=t;t>=360&&(t=360-t),t<=-360&&(t=360+t),(e=t)<0&&(e=360+e),this.rotateCoords(e),this._rotation=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isObjectFinished",{get:function(){if(this.isCreatedViaUserInteraction())throw"[Editpdf] You need to override this method in child interactive object";return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isFormObject",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isExportable",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isCreatedViaUserInteraction=function(){return e.isObjectCreatedViaUserInteraction(this.type)},Object.defineProperty(e.prototype,"centerPoint",{get:function(){var t=this.getSize(),e=function(t){return t*(Math.PI/180)},n=Math.sin(e(this.rotation)),i=Math.cos(e(this.rotation));return{x:this.coords.x+.5*(t.w*i-t.h*n),y:this.coords.y+.5*(t.w*n+t.h*i)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"centerPoint_x1",{get:function(){var t=this.centerPoint;return t.x/=this.zoomLevel,t.y/=this.zoomLevel,t},enumerable:!1,configurable:!0}),e.prototype.initControls=function(){this.controls=new i.StandardControls(this),this.initEventsHandlersControls()},e.prototype.initEventsHandlersControls=function(){this.controls.on("drag:end",function(){this.updateZindex()}.bind(this))},Object.defineProperty(e.prototype,"hasControls",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.init=function(){this.hasControls&&this.initControls(),this.setAttributes(this.getDefaultAttributes())},e.prototype.hide=function(){this.dom.addClass("canvas-object--hidden")},e.prototype.show=function(){this.dom.removeClass("canvas-object--hidden")},e.prototype.remove=function(t){void 0===t&&(t=!0),this.pdfPage.removeObject(this),this.markedForDestruction=!0,this.placedInCanvas=!1,t&&this.triggerCustomEvent("canvas_object:removed",{canvasObject:this})},Object.defineProperty(e.prototype,"minWidth",{get:function(){return this._minWidth*this.zoomLevel},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minHeight",{get:function(){return this._minHeight*this.zoomLevel},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"controlAnchors",{get:function(){return["top","left","right","bottom","top_left","top_right","bottom_left","bottom_right"]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"keepAlwaysAspectRatio",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.postInit=function(){},e.prototype.applyZoomAndTranslate=function(t){this.zoomLevel=t,this._updateInternalDims(),this._updateInternalCoords()},e.prototype.activateHighlight=function(){this.controls.refreshGizmo(),this.controls.showGizmo(),this.controls.disableResizing(),this.controls.disableDragging(),this.beingHighlighted=!0},e.prototype.deactivateHighlight=function(){this.controls.hideGizmo(),this.beingHighlighted=!1},e.prototype.clone=function(t){throw"This must be implemented in child class"},e.prototype.moveTo=function(t,e){return this._updateInternalCoords(t,e),this},e.prototype.moveBy=function(t,e){return this.moveTo(this.coords.x+t,this.coords.y+e),this},e.prototype._updateInternalDims=function(t,e){void 0!==t&&void 0!==e&&(this.size_x1.w=t/this.zoomLevel,this.size_x1.h=e/this.zoomLevel),this.size.w=this.size_x1.w*this.zoomLevel,this.size.h=this.size_x1.h*this.zoomLevel},e.prototype._updateInternalCoords=function(t,e,n){void 0===n&&(n=!1),void 0!==t&&(this.coords_x1.x=t/(n?1:this.zoomLevel)),void 0!==e&&(this.coords_x1.y=e/(n?1:this.zoomLevel)),this.coords.x=this.coords_x1.x*this.zoomLevel,this.coords.y=this.coords_x1.y*this.zoomLevel},Object.defineProperty(e.prototype,"dom",{get:function(){return this._dom||this.initDom(),this._dom},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"aspectRatio",{get:function(){return{w:this.size_x1.w/this.size_x1.h,h:this.size_x1.h/this.size_x1.w}},enumerable:!1,configurable:!0}),e.prototype.getMinPermittedWidth=function(){return this.minPermittedWidth*this.zoomLevel},e.prototype.getMinPermittedHeight=function(){return this.minPermittedHeight*this.zoomLevel},e.prototype.getSize=function(){return{w:this.size.w,h:this.size.h}},e.prototype.getSize_x1=function(){return{w:this.size_x1.w,h:this.size_x1.h}},e.prototype.getFullSize=function(){return this.getSize()},e.prototype.setSize_x1=function(t,e){this.size_x1.w=t,this.size_x1.h=e,this._updateInternalDims()},e.prototype.notifyDomAttachment=function(){this.coords.x||(this.coords.x=0),this.coords.y||(this.coords.y=0)},e.prototype.calcCenteredCoords=function(t,e){var n={x:e.x,y:e.y};return n.x-=.5*t.w,n.y-=.5*t.h,n},e.prototype.calcNewCoordsThroughOptions=function(t){var e={x:t.x,y:t.y};if(t.centered){var n=this.calcCenteredCoords(this.getFullSize(),e);e.x=n.x,e.y=n.y}if(t.keepInPageBoundaries){var i=this.pdfPage.getSafePageRect();e=this.calcSafeLimitCoords(e,i)}return e},e.prototype.setSizeInProportionToPageSize=function(t){},e.prototype.setAttributes=function(t){if(void 0===t&&(t={}),"coords_x1"in t&&(this.coords_x1=t.coords_x1,this._updateInternalCoords(),t.coords=this.getCoords()),"coords"in t){var e=this.calcNewCoordsThroughOptions(t.coords);this._updateInternalCoords(e.x,e.y)}t.size?this.setSize(t.size.w,t.size.h):t.size_x1&&(this.size_x1=t.size_x1,this._updateInternalDims(),this.cloned&&this.setSize(this.size.w,this.size.h)),"opacity"in t&&(this.opacity=Number(t.opacity)),"rotation"in t&&(this.rotation=Number(t.rotation)),"zindex"in t&&(this.zindex=Number(t.zindex)),"pdfPage"in t&&(this.pdfPage=t.pdfPage)},e.prototype.getDefaultAttributes=function(){return{size_x1:{w:30,h:30}}},e.prototype.calcSafeLimitCoords=function(t,e){var n,i,r=t.x,o=t.y,a=this.getFullSize();return n=r+a.w,i=o+a.h,e.x1<n&&(r=e.x1-a.w),e.y1<i&&(o=e.y1-a.h),e.x0>r&&(r=e.x0),e.y0>o&&(o=e.y0),{x:r,y:o}},e.prototype.getCoords=function(){return{x:this.coords.x,y:this.coords.y}},e.prototype.getCoords_x1=function(){return{x:this.coords_x1.x,y:this.coords_x1.y}},e.prototype.getViewportCoordsAlt=function(){var t=this.dom[0].getBoundingClientRect();return{x:t.left,y:t.top}},e.prototype.getViewportCoords=function(){var t=this.getCoords(),e=this.pdfPage.img[0].getBoundingClientRect();return{x:e.left+t.x,y:e.top+t.y}},e.prototype.isPresentInDom=function(){return document.body.contains(this.dom[0])},e.prototype.detach=function(){this.bag.domAttachedTo||(this.bag.domAttachedTo=this.dom.parent(),this.dom.detach())},e.prototype.reattach=function(){this.bag.domAttachedTo&&(this.bag.domAttachedTo.append(this.dom),this.bag.domAttachedTo=null)},e.prototype.getAttributes=function(){var t=this.getSize_x1(),e=this.getCoords_x1();return{zoomLevel:this.zoomLevel,coords_x1:e,size_x1:t,zindex:this.zindex,opacity:this.opacity,rotation:this.rotation,pdfPage:this.pdfPage}},e.prototype.setUserAttributes=function(t){void 0===t&&(t={}),this.setAttributes(t),this._setUserAttributes(t),this.updateDom()},e.prototype._setUserAttributes=function(t){},e.prototype.initDom=function(){var n=t("<div>");n.addClass(e.CSS_CLASS),n.addClass("editpdf-selectable-text"),n.attr("data-type",this.type),n.attr("id",this.id),this._dom=n},e.prototype.updateDom=function(){this.markedForDestruction||(this.inUpdateDom=!0,this._dom||this.initDom(),this.opacityTarget.css("opacity",this.opacity),this._updateDom(),this.updateDomCoordinates(),this.updateZindex(),this.updateRotation(),this.controls&&this.controls.refreshGizmo(),this.triggerCustomEvent("canvas_object:dom_updated",{canvasObject:this}),this.inUpdateDom=!1)},e.prototype.updateDomCoordinates=function(){var t={x:this.coords.x,y:this.coords.y};this.dom.css({left:t.x,top:t.y})},e.prototype.updateZindex=function(){var t=this.controls&&(this.controls.isDragging||this.isActiveElement)?this.highestSafeZIndex:this.zindex;this.dom.css("z-index",t)},e.prototype.rotateRight=function(){this.rotation+=45},e.prototype.rotateLeft=function(){this.rotation-=45},e.prototype.updateRotation=function(){this.dom.css("transform","scale("+this.transformCssScaleX+", "+this.transformCssScaleY+") translate("+this.translate.x+"px, "+this.translate.y+"px) rotate("+this.rotation+"deg)"),this.dom.css("transform-origin",this.transformOrigin)},e.prototype.rotateCoords=function(t){var e=t-this.rotation,n=(0,r.CoordUtils.rotatePoint)(e,this.getCoords(),this.centerPoint);this._updateInternalCoords(n.x,n.y)},e.prototype.getGizmoSize=function(){return this.getFullSize()},Object.defineProperty(e.prototype,"transformOrigin",{get:function(){return this._transformOrigin},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivotPoint",{get:function(){switch(this.transformOrigin){case"left top":return{x:this.coords.x,y:this.coords.y};case"center center":throw"No longer implemented"}throw"Not defined pivot point for transform origin '"+this.transformOrigin+"'"},enumerable:!1,configurable:!0}),e.prototype.addCssTransformation=function(t,e,n){t.css("transform",e+"("+n+")"),t.css("transform-origin",this.transformOrigin)},Object.defineProperty(e.prototype,"opacityTarget",{get:function(){return this.dom.find("> :not(.controls)")},enumerable:!1,configurable:!0}),e.prototype.setCoords=function(t,e){this._updateInternalCoords(t,e)},e.prototype.setCoords_x1=function(t,e){this._updateInternalCoords(t,e,!0)},e.prototype.isSelectableArea=function(t){return!0},e.prototype.makeid=function(t){for(var e="a",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=n.length,r=0;r<t;r++)e+=n.charAt(Math.floor(Math.random()*i));return e},e.prototype.getDomSize=function(){return{w:this.dom.width(),h:this.dom.height()}},e.prototype.makeActiveElement=function(){this.isActiveElement||(this.isActiveElement=!0,this.dom.addClass("canvas-object--active-element"),this.controls&&(this.controls.refreshGizmo(),this.controls.showGizmo(),this.controls.enable(),this.controls.enableDragging(),this.controls.enableResizing()),this._makeActiveElement(),this.updateDom())},e.prototype.makeInactiveElement=function(){this.isActiveElement&&(this.dom.removeClass("canvas-object--active-element"),this.isActiveElement=!1,this.controls&&(this.controls.hideGizmo(),this.controls.enable(),this.controls.disableResizing()),this._makeInactiveElement(),this.updateDom())},e.prototype._makeActiveElement=function(){},e.prototype._makeInactiveElement=function(){},e.prototype.triggerCustomEvent=function(t,e){void 0===e&&(e={});var n=new CustomEvent(t,{detail:e});window.dispatchEvent(n),t in this.customEventHandlers&&this.customEventHandlers[t].forEach(function(t){t(e)})},e.prototype.onCustomEvent=function(t,e){t in this.customEventHandlers||(this.customEventHandlers[t]=[]),this.customEventHandlers[t].push(e)},e.prototype.firstTimeActiveElement=function(){},e.isObjectCreatedViaUserInteraction=function(t){switch(t){case"line":case"freehand":return!0}return!1},e.prototype.extractSvg=function(){return null},e.prototype.resizeBy=function(t,e){var n=this.getSize(),i=n.w+t,r=n.h+e;this.setSize(i,r)},e.CSS_CLASS="canvas-object",e}();e.CanvasObject=o}).call(this,n(1))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";(function(t){var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.Editor=void 0;var s=n(439),c=n(457),l=n(17),u=n(312),d=n(279),p=n(208),f=n(234),h=n(278),v=n(8),g=a(n(16)),m=n(77),y=n(459),b=function(){function e(n){var i=this;this.aroundWorkAreaMargin=48,this._operationMode="none",this._prevOperationMode="none",this.disableDefaultBehaviour_panOnSpacebar=!0,this.allowPanning=!0,this.fitViewportOnResize=!1,this.zoomOnMouseWheel=!0,this.activePageNumber=1,this.panningIsBeingPerformed=!1,this.clipboardCanvasObject=null,this.lastCollidablePlacedObject=null,this.objectCreationAutomaticPlacementDirection=null,this.inTransientOpMode=!1,this.lastMouseMovement=null,this.viewportHelper=null,this._infoModal=null,this.infoModalTimeout=null,this.bag={},this.interactiveMode={enabled:!1,obj:null,isCursorIn:function(e,n){var i=t(e.target),r=i.closest(".editor__content").length>0,o=t(e.target).is(".editpdf__submenu")||t(e.target).closest(".editpdf__submenu").length>0;o=o||i.is(".belongs-to-submenu")||i.closest(".belongs-to-submenu").length>0;var a=i.is("#editpdf-menu-toolbar")||i.closest("#editpdf-menu-toolbar").length>0;switch(n){case"workarea":return r||o;case"toolSubmenu":return o;case"drawingArea":return r&&!o;case"mainMenu":return a;default:throw"[Editpdf][InteractiveMode] Unknown query area '"+n+"'"}},callbacks:{mousedown:function(e){if(i.interactiveMode.enabled&&i.can("interactive_mode:perform")){var n=i,r=(t(e.target),i.interactiveMode.obj),o=i.interactiveMode.obj,a=new h.Viewport(n.viewport,e).pdfPage,s=null,c=!1;if(a)s=new d.CoordUtils(i.viewport).fromWindowToPageCoords(e,a),c=o.pdfPage.pageNumber!=a.pageNumber;var l=i.interactiveMode.isCursorIn(e,"toolSubmenu"),u=i.interactiveMode.isCursorIn(e,"mainMenu");if((!a||s.isOutsidePage)&&!(l||u))o.bag.interactive_finalize=!0;else if(!l&&!u){if(c){var p=r,f=p;i.interactiveMode.obj=o=i.createInteractiveObject(a,o.type,p),r=i.interactiveMode.obj,p.setInteractiveModeOff(),p.interactiveMode_isObjectEmpty()&&f.remove()}o.bag.interactive_once=!0,i.changeOperationMode("interactive_mode:mousedown"),r.interactiveMode_mousedown(e,{pageCoords:s}),o.interactiveMode.firstInteraction||(o.interactiveMode.firstInteraction=!0,i.triggerEvent("editor:interactive:first_interaction",{canvasObject:o})),!0!==o.interactiveMode.noLongerEmpty&&(r.interactiveMode_isObjectEmpty()||(o.interactiveMode.noLongerEmpty=!0,i.triggerEvent("editor:interactive:no_longer_empty",{canvasObject:o})))}}},mouseup:function(t){if(i.interactiveMode.enabled&&i.can("interactive_mode:perform")&&i.interactiveMode.obj){var e=i.interactiveMode.obj,n=i.interactiveMode.obj;if(n.bag.interactive_finalize){var r=e.interactiveMode_isObjectEmpty();return i.finalizeInteractiveMode(),void(r||i.setActiveCanvasObject(n))}i.changeOperationMode("interactive_mode");var o=new d.CoordUtils(i.viewport).fromWindowToPageCoords(t,n.pdfPage);!0===e.interactiveMode_mouseup(t,{pageCoords:o})&&(i.finalizeInteractiveMode(),i.setActiveCanvasObject(n)),!0!==n.interactiveMode.noLongerEmpty&&(e.interactiveMode_isObjectEmpty()||(n.interactiveMode.noLongerEmpty=!0,i.triggerEvent("editor:interactive:no_longer_empty",{canvasObject:n})))}},mousemove:function(t){if(i.interactiveMode.enabled&&i.can("interactive_mode:perform")&&i.interactiveMode.obj&&["interactive_mode:mousedown","interactive_mode:mousemove"].includes(i.operationMode)){var e=i.interactiveMode.obj,n=i.interactiveMode.obj,r=new d.CoordUtils(i.viewport).fromWindowToPageCoords(t,e.pdfPage);e.interactiveMode_mousemove(t,{pageCoords:r}),!0!==n.interactiveMode.noLongerEmpty&&(e.interactiveMode_isObjectEmpty()||(n.interactiveMode.noLongerEmpty=!0,i.triggerEvent("editor:interactive:no_longer_empty",{canvasObject:n})))}}}},this.setTransientOperationMode=function(t){i.storedOpMode=i.operationMode,i.inTransientOpMode=!0,i.operationMode=t},this.config=n.config,this.pdfRenderer=n.pdfRenderer,e.viewport=this.viewport,this.optionsInstance=n.optionsInstance,this.container=n.container,this.eventHandlers={},this.assetsManager=n.assetsManager,this.pageStack=new s.PageStack(n.file,this.viewport,this.pdfRenderer),this.coordUtils=new d.CoordUtils(this.viewport),this.inputManager=p.InputManager.getInstance(),this.operationMode="none",this.clipboard=new y.EditpdfClipboard(this),this.bootstrap(),this.initKeyboardBindings(),this.initInteractiveMode(),this.config.formsEnabled&&this.initForms(n.forms)}return e.prototype.createInteractiveObject=function(t,e,n){void 0===n&&(n=null);var i=this.pageStack.createObjectInPage(t,e);return n&&i.setAttributes(n.getInteractiveModeCopyAttrs()),i.setInteractiveModeOn(),this.triggerEvent("editpdf_menu:show_submenu",{canvasObject:i}),this.triggerEvent("canvas_object:created",{canvasObject:i,interactiveMode:!0}),i},e.prototype.finalizeInteractiveMode=function(){if(this.interactiveMode.enabled){var t=this.interactiveMode.obj,e=this.interactiveMode.obj,n=e.interactiveMode_isObjectEmpty()&&!e.markedForDestruction,i=!t.markedForDestruction&&!e.interactiveMode_isObjectEmpty();n&&t.remove(),this.clearInteractiveMode(),i&&this.triggerEvent("canvas_object:created",{canvasObject:t})}},e.prototype.isSinglePagePdf=function(){return 1===this.pageStack.pages.length},e.prototype.isTwoPagePdf=function(){return 2===this.pageStack.pages.length},e.prototype.splitTextInLinesAndCalculatePositions=function(t,e){void 0===e&&(e=null);var n,i=this.splitTextInLines(t).foundLines,r=t.getCoords_x1(),o=(t.getSize_x1(),0),a=t.clone(t);if(this.pageStack.appendToPage(a.pdfPage,a),a.setAttributes({text:i[0]}),a.setCoords(r.x,r.y),a.dom.addClass("replica-text"),a.updateDom(),0===(o=a.getSize_x1().h)){var s=t.textElem.find(".contenteditable-wrapper [contenteditable]")[0];if(!s)throw"[Editpdf] Not possible to get the first Child in Text Element";(s=s.firstElementChild?s.firstElementChild:s.firstChild).nodeType===Node.TEXT_NODE?o=m.TextHelper.getExistantTextNodeHeight(s):s.nodeType===Node.ELEMENT_NODE?o=s.getBoundingClientRect().height:g.captureMessage("[Editpdf] Not possible to identify the Node type of the firstChild")}0===o&&g.captureMessage("[Editpdf] Even after falling back method to get the height of a single line. Alt. methods output 0"),n=t.getSize_x1().w,a.remove(!1),i.length;for(var c=[],l=0;l<i.length;l++){var u=(o+0)*l;u+=t.getCoords_x1().y;var d={text:i[l],coords:{x:t.getCoords_x1().x,y:u},size:{w:n,h:o+0}};d.size.h<=0&&g.captureMessage("[Editpdf] Single line size is equal or lower than 0. ("+o+",0)"),c.push(d)}return c},e.prototype.createReplicaMultilineText=function(t,e){void 0===e&&(e=null);for(var n=this.splitTextInLinesAndCalculatePositions(t,e),i=[],r=0;r<n.length;r++){var o=n[r],a=t.clone(t);a.setAttributes({text:o.text}),a.setCoords_x1(o.coords.x,o.coords.y),a.dom.addClass("hidden-text"),this.pageStack.appendToPage(a.pdfPage,a),a.updateDom(),i.push(a)}return i},e.prototype.splitTextInLines=function(t,e){void 0===e&&(e=null);var n=this.pageStack.cloneObject(t,{textBackgroundColor:"#f44336",opacity:1});n.unlockWidth(),n.updateDom(),n.zindex=n.zindex+5;var i=0,r=(n.textElem[0],t.getSize_x1()),o="",a=[],s=function(t){a.push(t)},c=function(t){var e=t.replace(/[\u00A0-\u9999<>\&]/gim,function(t){return"&#"+t.charCodeAt(0)+";"});n.contentEditableElem.html(e),n.text=t,o=t},l=function(){for(var t=[],e="",n=0;n<o.length;n++){var i=o[n];" "===i?(t.push(e),e=""):e+=i}return e.length>0&&t.push(e),t},u=function(){var t,e=(t=l())[t.length-1],n=o.length-e.length;s(o.substring(0,n)),c(o.substring(n,o.length))},d=[],p=!1,f=t.text;return function t(e,n){for(n(e),e=e.firstChild;e;)t(e,n),e=e.nextSibling}((new DOMParser).parseFromString(f,"text/html"),function(t){var e=String(t.tagName).toLowerCase();if("body"!==e){if(!p)return}else if(p=!0,"body"===e)return;t.nodeType===t.TEXT_NODE?0===d.length?d.push(t.wholeText):d[d.length-1]+=t.wholeText:"div"===e.toLowerCase()&&d.push("")}),d.forEach(function(t){var a,d=0===t.length;for(c(""),i=0;i<t.length;i++){var p=t[i];c(o+p),Math.round(n.getSize_x1().w)>(e||Math.round(r.w))&&(1===l().length?(void 0,a=o[o.length-1],s(o.substring(0,o.length-1)),c(a)):u())}(o.length>0||d)&&s(o)}),n.remove(!1),d.map(function(t){return t.replace(/\n/g,"")}),{foundLines:a}},e.prototype.initForms=function(e){var n=this;!1!==e&&(Array.isArray(e)&&0===e.length||e&&(this.formManager=new c.FormManager(e),this.formManager.render(this),t(document).on("keydown",function(t){t.keyCode==p.KEYBOARD.Tab&&t.preventDefault()}),["Tab","Shift+Tab"].forEach(function(e){n.inputManager.onKeyCombinationPressed(e,function(i){if(i){var r=t(document.activeElement).closest(".canvas-object"),o=r.attr("data-type");if(o)if(o.match(new RegExp("^form"))){var a=n.pageStack.getCanvasObjectById(r.attr("id"));"Tab"===e?n.inputManager.isBeingPressed("Shift")||n.formManager.focusOnNextFormObject(a):n.formManager.focusOnPrevFormObject(a)}}})})))},e.prototype.initInteractiveMode=function(){var e=this;t(window).mousedown(this.interactiveMode.callbacks.mousedown.bind(this)),t(window).mouseup(this.interactiveMode.callbacks.mouseup.bind(this)),t(window).mousemove(this.interactiveMode.callbacks.mousemove.bind(this));var n=null;t(window).on("touchstart",function(t){n=t,e.interactiveMode.callbacks.mousedown.call(e,t)}),t(window).on("touchmove",function(t){e.interactiveMode.callbacks.mousemove.call(e,t),n=t}),t(window).on("touchend",function(t){e.interactiveMode.callbacks.mouseup.call(e,n)}),window.addEventListener("editor:finalize_interactive_mode",function(t){var n=e.interactiveMode.obj;e.finalizeInteractiveMode(),e.setActiveCanvasObject(n)})},e.prototype.getAllCanvasObjects=function(){return Object.values(this.pageStack.allCanvasObjects)},e.prototype.getAllExportableCanvasObjects=function(){return this.getAllCanvasObjects().filter(function(t){return t.isExportable})},e.prototype.notifyOfToolSelection=function(t,e){if(void 0===e&&(e={}),"img"!==t||e.imgDom)if("show_shape_selector_submenu"!==t)if(f.CanvasObject.isObjectCreatedViaUserInteraction(t)){if(this.interactiveMode.enabled&&this.interactiveMode.obj&&this.interactiveMode.obj.type===t)return void this.triggerEvent("editpdf_menu:show_submenu",{canvasObject:this.interactiveMode.obj});this.finalizeInteractiveMode(),this.enableInteractiveMode(t)}else this.finalizeInteractiveMode(),this.createCanvasObjectInActivePage(t,e);else this.finalizeInteractiveMode();else this.finalizeInteractiveMode()},e.prototype.flattenCoords=function(t){return{x:Math.floor(t.x),y:Math.floor(t.y)}},e.prototype.offsetObjectPositionInRelationTo=function(t,e,n){var i=e.getCoords(),r=t.pdfPage,o={x:i.x+40*n.x,y:i.y+40*n.y},a=r.isOffLimits(o,t.getSize());return a.inside||(!function(t,e){0!==e.x&&(t.x*=-1),0!==e.y&&(t.y*=-1)}(n,a),o={x:i.x+40*n.x,y:i.y+40*n.y}),o},e.prototype.resetAutomaticObjectPlacementDirection=function(t){this.objectCreationAutomaticPlacementDirection={x:1,y:1,mode:t}},e.prototype.createCanvasObjectInActivePage=function(t,e){void 0===e&&(e={});var n=this.getVisiblePageAndCenteredCoords(),i=n.pdfPage,r=n.centeredPageCoords,o=this.pageStack.createObject(i,t,e);(this.pageStack.appendToPage(i,o),"text"===t&&o.setSizeInProportionToPageSize(.075),e.coords)||(e.coords=o.calcNewCoordsThroughOptions(Object.assign({},r,{centered:!0,keepInPageBoundaries:!0})),o.moveTo(e.coords.x,e.coords.y),this.lastCollidablePlacedObject===this.pageStack.lastPlacedObject&&this.wouldCanvasObjectCollide(o)&&("create"!=this.objectCreationAutomaticPlacementDirection.mode&&this.resetAutomaticObjectPlacementDirection("create"),e.coords=this.offsetObjectPositionInRelationTo(o,this.lastCollidablePlacedObject,this.objectCreationAutomaticPlacementDirection)));return o.moveTo(e.coords.x,e.coords.y),this.lastCollidablePlacedObject=o,this.triggerEvent("canvas_object:created",{canvasObject:o}),this.setActiveCanvasObject(o),o.firstTimeActiveElement(),o},e.prototype.addCreatedObjectInPage=function(t,e){void 0===e&&(e={}),this.pageStack.appendToPage(t.pdfPage,t),this.triggerEvent("canvas_object:created",i({canvasObject:t},e)),e.onAdded&&e.onAdded()},e.prototype.cloneObject=function(t,e){void 0===e&&(e={});var n=this.pageStack.cloneObject(t,e);return n.updateDom(),this.triggerEvent("canvas_object:created",{canvasObject:n}),this.setActiveCanvasObject(n),this.triggerEvent("editpdf_menu:show_submenu",{canvasObject:n}),n},e.prototype.enableInteractiveMode=function(t){this.setActiveCanvasObject(null),this.interactiveMode.enabled=!0,this.interactiveMode.obj=this.createInteractiveObject(this.activePage,t),this.viewport.addClass("interactive-mode-on"),this.changeOperationMode("interactive_mode")},e.prototype.clearInteractiveMode=function(t){void 0===t&&(t=!1);var e=this.interactiveMode.obj;this.viewport.removeClass("interactive-mode-on"),this.interactiveMode.pdfPage=null,this.interactiveMode.obj=null,this.interactiveMode.enabled=!1,this.changeOperationMode("none"),e&&e.setInteractiveModeOff(),null===this.activeCanvasObject&&this.setActiveCanvasObject(null)},e.prototype.getActivePageNeighbor=function(){var t=this.pageStack.pageLayout;return"single"===t?null:"double"===t||"cover"===t&&this.activePage.pageNumber>1?this.pageStack.getPage(this.activePage.pageNumber+1):null},e.prototype.getVisiblePageAndCenteredCoords=function(t,e){void 0===t&&(t=!1),void 0===e&&(e={});var n=new h.Viewport(this.viewport),i=null,r=null;switch(this.pageStack.pageLayout){case"double":case"cover":var o=this.getActivePageNeighbor(),a=[this.activePage];o&&a.push(o);var s=a.map(function(t){var e=n.visiblePageArea(t,!1);return{pdfPage:t,visibleRect:e.intersection?e:null}}).sort(function(t,e){var n=t.visibleRect?t.visibleRect.area:0;return(e.visibleRect?e.visibleRect.area:0)-n});r=s[0].pdfPage,i=s[0].visibleRect;break;default:r=this.activePage,i=n.visiblePageArea(this.activePage,!1)}var c=i,l={x:c.x0+(c.x1-c.x0)/2,y:c.y0+(c.y1-c.y0)/2};t&&(l.x/=r.dimensions.w,l.y/=r.dimensions.h),t&&(c.x0/=r.dimensions.w,c.x1/=r.dimensions.w,c.y0/=r.dimensions.h,c.y1/=r.dimensions.h);var u={x:(c={x0:i.viewportRect.x0,x1:i.viewportRect.x1,y0:i.viewportRect.y0,y1:i.viewportRect.y1}).x0+(c.x1-c.x0)/2,y:c.y0+(c.y1-c.y0)/2};return t&&(u.x/=r.dimensions.w,u.y/=r.dimensions.h),t&&(c.x0/=r.dimensions.w,c.x1/=r.dimensions.w,c.y0/=r.dimensions.h,c.y1/=r.dimensions.h,i.viewportRect.x0/=r.dimensions.w,i.viewportRect.x1/=r.dimensions.w,i.viewportRect.y0/=r.dimensions.h,i.viewportRect.y1/=r.dimensions.h),{pdfPage:r,centeredPageCoords:l,centeredViewportCoords:u,info:i}},e.prototype.updateVisiblePageRange=function(){var t=this.pageStack.numPages,e=this.activePageNumber,n=10;"single"!=this.pageStack.pageLayout&&(n*=2);var i=l.Tools.keepInNumericBounds(1,t,e-n),r=l.Tools.keepInNumericBounds(1,t,e+n);this.pageStack.setVisiblePageRange(i,r)},e.prototype.changeOperationMode=function(t){if(!this.inTransientOpMode)return this.storedOpMode=null,this.prevOperationMode=this.operationMode,this.operationMode=t,!0;this.storedOpMode=t},e.prototype.unsetTransientOperationMode=function(){this.inTransientOpMode=!1,this.storedOpMode&&this.changeOperationMode(this.storedOpMode)},e.prototype.deselectActiveCanvasObjectHandler=function(e){if(e.which===p.MOUSE.LeftClick){var n=this.activeCanvasObject;if(!this.panningIsBeingPerformed){if(n)if(n.controls.isResizing||n.controls.isDragging)return;var i=t(e.target),r=i.is(".editpdf-menu-wrapper")||i.closest(".editpdf-menu-wrapper").length>0,o=i.is(".canvas-object")?i:i.closest(".canvas-object");if(r||o.length>0){var a=this.pageStack.getCanvasObjectById(o.attr("id"),o.closest(".editor__page").data("page"));if(a||(g.configureScope(function(t){t.setExtra("canvas_object_id",o.attr("id")),t.setExtra("page_number",o.closest(".editor__page").data("page")),t.setExtra("target_html_class",i.attr("class"))}),g.captureMessage("[Editpdf] deselectActiveCanvasObject, selectableArea not found")),a&&a.isSelectableArea(i))return}if(this.activeCanvasObject){if(!(t(this.lastMouseDownTarget).is(".editpdf-selectable-text")||t(this.lastMouseDownTarget).closest(".editpdf-selectable-text").length>0))(n=this.activeCanvasObject).makeInactiveElement(),this.setActiveCanvasObject(null)}else"ShapeSelector"===t(".editpdf__submenu").attr("data-name")&&this.setActiveCanvasObject(null)}}},e.prototype.clipboard_copyAndPasteAtOnce=function(){this.clipboard_copyObject(!0),this.clipboard_pasteObject(!0)},e.prototype.initKeyboardBindings=function(){var e=this,n=this;["Supr","Backspace"].forEach(function(n){e.inputManager.onKeyPressed(n,function(i){var r=e.activeCanvasObject,o=r&&"text"===r.type&&r.inEditingMode;if((!document.activeElement||!t(document.activeElement).is(":input"))&&!i&&r&&!o){var a=new CustomEvent("canvas_object:remove_request",{detail:{canvasObject:e.activeCanvasObject,trigger:"keyboard:supr",key:n}});window.dispatchEvent(a)}})});var i=!1;document.addEventListener("keydown",function(t){(t.ctrlKey||t.metaKey)&&"D"===String.fromCharCode(t.keyCode)&&(t.preventDefault(),i||(i=!0,n.clipboard_copyAndPasteAtOnce()))},!0),document.addEventListener("keyup",function(t){(t.ctrlKey||t.metaKey)&&"D"===String.fromCharCode(t.keyCode)&&(t.preventDefault(),i&&(i=!1))},!0),this.inputManager.onKeyPressed("Escape",function(t){if(!t){var n=e.activeCanvasObject;n&&(n.makeInactiveElement(),e.setActiveCanvasObject(null))}}),this.inputManager.onKeyCombinationPressed("Ctrl+x",function(t){return e.clipboard_cutObject(t)}),this.inputManager.onKeyCombinationPressed("Ctrl+c",function(t){return e.clipboard_copyObject(t)}),this.inputManager.onKeyCombinationPressed("Ctrl+v",function(t){return e.clipboard_pasteObject(t)}),this.inputManager.onKeyCombinationPressed("Cmd+x",function(t){return e.clipboard_cutObject(t)}),this.inputManager.onKeyCombinationPressed("Cmd+c",function(t){return e.clipboard_copyObject(t)}),this.inputManager.onKeyCombinationPressed("Cmd+v",function(t){return e.clipboard_pasteObject(t)}),this.inputManager.onKeyCombinationPressed("F2",function(t){"text"!==e.operationMode&&t&&e.activeCanvasObject&&"text"===e.activeCanvasObject.type&&e.activeCanvasObject.setEditMode()}),this.inputManager.onKeyCombinationPressed("Escape",function(t){"text"===e.operationMode&&(t||"text"===e.activeCanvasObject.type&&e.setActiveCanvasObject(null))}),this.inputManager.onKeyPressed("Spacebar",function(n){t(document.activeElement).is(":input")||!1===e.inTransientOpMode&&"hand"===e.operationMode||(n&&e.can("viewport:pan")?e.setTransientOperationMode("hand"):e.unsetTransientOperationMode())})},e.prototype.wouldCanvasObjectCollide=function(e,n){var i=this;void 0===n&&(n="iteration");var r=e.getViewportCoords(),o=r.x,a=r.y;if(!o||!a)throw"[Editpdf] Bad coords!";if(!["iteration","dom"].includes(n))throw"[Editpdf] Invalid argument (strategy) '"+n+"'";var s=function(t,e){var n=i.flattenCoords(t),r=i.flattenCoords(e);return n.x===r.x&&n.y===r.y};if("iteration"===n)return e.pdfPage.canvasObjects.find(function(t){return s(e.getCoords(),t.getCoords())&&e.id!==t.id});if("dom"===n){e.isPresentInDom()&&e.detach();var c=document.elementFromPoint(o,a);if(e.reattach(),c){var l=null,u=null;if((c=t(c)).hasClass(f.CanvasObject.CSS_CLASS)?(l=c,u=c.attr("id")):(l=c.closest("."+f.CanvasObject.CSS_CLASS))&&l.length>0&&(u=l.attr("id")),u){var d=this.pageStack.getCanvasObjectById(u),p=e.getCoords(),h=d.getCoords();if(s(p,h))return d}}}return null},e.prototype.debug_matchCoords=function(t,e){var n=t.getCoords();e.setCoords(n.x,n.y),e.updateDom()},e.prototype.debug_placeObjectGivenRef=function(t){var e=t.getViewportCoords(),n=e.x,i=e.y;this.debug_placeObject(n,i)},e.prototype.debug_placeObject=function(e,n){var i=t('<div class="debug-placed-object"></div>');t(".debug-placed-object").detach(),i.css({"z-index":3e7,width:"30px",height:"30px","background-color":"red",left:e+"px",top:n+"px",position:"fixed"}),t(document.body).append(i)},e.prototype.setPageLayoutMode=function(t,e){void 0===e&&(e="all");var n=new h.Viewport(this.viewport),i=this.getVisiblePageAndCenteredCoords(!0),r=i.pdfPage;i.centeredViewportCoords;this.pageStack.setPageLayoutMode(t),this.fitViewport(e),this.panTo(r,{x:0,y:-.025,asRatio:!0},{x:0,y:0,asRatio:!0}),this.viewport.scrollLeft(n.scrollDistance.w/2)},e.prototype.scrollToCanvasObject=function(e){var n=e.detail.canvasObject;"string"==typeof n&&(n=this.pageStack.getCanvasObjectById(n,parseInt(e.detail.pageNum)));var i=t(n.dom).parent().position().top+t(n.dom).position().top,r=t(n.dom).parent().position().left+t(n.dom).position().left;t("#workArea").animate({scrollTop:i-parseInt((t(".tool__workarea").height()/3).toString()),scrollLeft:r-parseInt((t(".tool__workarea").width()/3).toString())},500)},e.prototype.handleRearrangeZindex=function(t){var e=t.detail.pageNum,n=t.detail.order;this.pageStack.orderObjects(n,e)},e.prototype.storeClickedDomElemHandler=function(t){this.lastMouseDownTarget=t.target},e.prototype.highlightHoveredCanvasObjectHandler=function(e){var n=t(e.currentTarget),i=null;if(n.hasClass("canvas-object"))i=n.attr("id");else{if(!n.hasClass("layer"))throw"[Editpdf] Not handled hover situation";i=n.attr("data-canvas-object-id")}var r=this.pageStack.getCanvasObjectById(i);r.controls&&r!==this.activeCanvasObject&&("mouseenter"===e.type?r.activateHighlight():"mouseleave"===e.type&&r.deactivateHighlight())},e.prototype.bootstrap=function(){var e=this,n=this;this.resetAutomaticObjectPlacementDirection("create");t(window)[0].addEventListener("mousedown",this.storeClickedDomElemHandler.bind(this),!0),t(".editor__content")[0].addEventListener("mouseup",this.deselectActiveCanvasObjectHandler.bind(this),!0),this.viewport.on({mouseenter:this.highlightHoveredCanvasObjectHandler.bind(this),mouseleave:this.highlightHoveredCanvasObjectHandler.bind(this)},".canvas-object"),t("#sidebar .layers").on({mouseenter:this.highlightHoveredCanvasObjectHandler.bind(this),mouseleave:this.highlightHoveredCanvasObjectHandler.bind(this)},".layer"),t(document).on("keydown",".canvas-object .text-content",function(t){t.keyCode==p.KEYBOARD.Tab&&t.preventDefault()}),t(document).on("keyup",".canvas-object .text-content",function(t){t.keyCode==p.KEYBOARD.Tab&&t.preventDefault()}),t(document).on("input",'.canvas-object[data-type="text"]:not(.hidden-text) .text-content',function(e){if(1===Object.keys(n.getAllCanvasObjects()).length){var i=t(this).closest(".canvas-object").attr("id");n.pageStack.getCanvasObjectById(i).isEmpty()?(n.optionsInstance.disableProcessBtn(v.Lang.t("processBtn_atLeastOneElem")),t("#processTask").removeClass("pulse")):n.optionsInstance.enableProcessBtn()}}),window.onbeforeunload=function(){var n=t(".tool-editpdf.process-run").length>0;if(e.getAllCanvasObjects().length>0&&!n)return!0},window.addEventListener("editor:canvas_object:scroll_to_view",this.scrollToCanvasObject.bind(this)),window.addEventListener("editor:canvas_object:rearrange_zindex",this.handleRearrangeZindex.bind(this)),window.addEventListener("canvas_object:selected",function(t){var n=t.detail.canvasObject;"string"==typeof n&&(n=e.pageStack.getCanvasObjectById(n,parseInt(t.detail.pageNum))),e.setActiveCanvasObject(n)}),document.addEventListener("contextmenu",function(e){if(!e||!e.target)return!0;var n=t(e.target);return n.is("#workArea")||n.closest("#workArea").length>0?!!(n.is(".editpdf-menu-wrapper")||n.closest(".editpdf-menu-wrapper").length>0)||(e.preventDefault(),!1):void 0},!0),window.addEventListener("canvas_object:text_mode",function(t){var n=t.detail.enabled;n&&"text"!=e.operationMode?e.changeOperationMode("text"):n||"text"!==e.operationMode||(e.operationMode=e.prevOperationMode)}),this.disableDefaultBehaviour_panOnSpacebar&&t(window).keydown(function(n){e.activeCanvasObject&&"text"===e.activeCanvasObject.type&&!0===e.activeCanvasObject.inEditingMode||t(document.activeElement).is(":input")||n.keyCode===p.KEYBOARD.Spacebar&&n.preventDefault()}),this.allowPanning&&this.initPanning(),this.fitViewportOnResize&&this.attachViewportResizeHandlers(),this.zoomOnMouseWheel&&this.initWheelZoom(),window.addEventListener("pdf_page:canvas_object:detached",this.handleDetachedCanvasObject.bind(this)),window.addEventListener("editpdf:menu:ready",function(){t("body").addClass("editpdf--ready"),e.setPageLayoutMode(e.config.defaultPageLayoutMode,"width"),e.viewport.scrollTop(0)}),window.addEventListener("editor:add_canvas_object",function(t){var n=t.detail.canvasObject,i=t.detail;e.addCreatedObjectInPage(n,i)}),window.addEventListener("canvas_object:remove_request",function(t){["keyboard:supr","recycle-bin"].includes(t.detail.trigger)&&(e.finalizeInteractiveMode(),e.setActiveCanvasObject(null))}),window.addEventListener("canvas_object:remove_request:all",function(t){["keyboard:supr","recycle-bin"].includes(t.detail.trigger)&&e.finalizeInteractiveMode(),e.setActiveCanvasObject(null)})},e.prototype.handleDetachedCanvasObject=function(t){t.detail.canvasObject},Object.defineProperty(e.prototype,"operationMode",{get:function(){return this._operationMode},set:function(t){this.viewport.attr("data-opmode",t),this.viewport.attr("data-opmode-transient",String(this.inTransientOpMode)),this._operationMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"prevOperationMode",{get:function(){return this._prevOperationMode},set:function(t){this._prevOperationMode=t},enumerable:!1,configurable:!0}),e.prototype.attachViewportResizeHandlers=function(){var e=this;t(window).resize(function(){return e.fitViewport("width")})},e.prototype.initPanning=function(){var e=this;new u.Draggable(this.viewport,{mouseButton:p.MOUSE.LeftClick,filterFn:this.panning_filterFn.bind(this),onDragBegFn:function(n){var i=t(n.target);if(i.closest(".canvas-object").length>0||i.is(".canvas-object"))return!1;e.viewport.addClass("dragging")},onDragEndFn:function(t){e.viewport.removeClass("dragging"),e.panningIsBeingPerformed=!1}},function(t){e.panningIsBeingPerformed||(e.panningIsBeingPerformed=!0),e.panViewport({dragX:t.x,dragY:t.y})})},e.prototype.handleFetchStaticTextsOfPage=function(t){var e=this,n=t.detail.pdfPage,i=n.pageNumber;this.assetsManager.getStaticTextsForPage(i).then(function(t){e.pageStack.addStaticTextsTo(n,t)}).catch(function(t){})},e.prototype.panning_filterFn=function(e){if("hand"===this.operationMode){for(var n=t(e.target),i=[".editor__content",".page-canvas"],r=0;r<i.length;r++){var o=i[r];if(n.is(o)||n.closest(o).length>0)return!0}return!1}},e.prototype.updateActivePageNumber=function(t){this.activePageNumber=t,this.updateVisiblePageRange()},Object.defineProperty(e.prototype,"activePage",{get:function(){return this.pageStack.getPage(this.activePageNumber)},enumerable:!1,configurable:!0}),e.prototype.setActiveCanvasObject=function(t){t&&this.triggerEvent("editpdf_menu:deselect_hand_button"),this.activeCanvasObject&&this.activeCanvasObject.makeInactiveElement(),this.activeCanvasObject=t,this.activeCanvasObject&&this.activeCanvasObject.makeActiveElement(),this.triggerEvent("editor:active_canvas_object:change",{canvasObject:t})},e.prototype.clearHandOperationMode=function(){"hand"===this.operationMode&&(this.finalizeInteractiveMode(),this.unsetTransientOperationMode(),this.changeOperationMode("none"))},e.prototype.initWheelZoom=function(){var t=this;this.viewportHelper=new h.Viewport(this.viewport),this.viewport[0].addEventListener("mousemove",function(e){t.lastMouseMovement=e,t.bag.needsMouseRatioUpdate=!0}),this.viewport[0].addEventListener("wheel",function(e){if(e.ctrlKey){e.preventDefault(),t.lastMouseMovement||(t.lastMouseDownTarget=e,t.bag.needsMouseRatioUpdate=!0);var n=t.viewportHelper;n.updateMouseEvent(t.lastMouseMovement);var i=e.deltaY<0?1:-1;t.zoom;if("pdfPage"===(n.pdfPage?"pdfPage":"workarea")){n.pdfPage,n.pdfPageSize;var r=null;t.bag.needsMouseRatioUpdate?(t.bag.mousePos_asRatio=r=n.getPageCoords(!0),t.bag.needsMouseRatioUpdate=!1):r=t.bag.mousePos_asRatio,1===i?t.incrZoom():t.decrZoom();var o=n.getPageCoords(),a=n.pdfPageSize,s=a.w*r.x,c=a.h*r.y,l={dragX:Math.round(o.x-s),dragY:Math.round(o.y-c)};t.panViewport(l),t.updateVisiblePageRange()}}})},e.prototype.zoomTo=function(t,e,n,i){void 0===i&&(i=null),this.setZoom(t),this.panTo(n,e,i)},e.prototype.panTo=function(t,e,n){void 0===n&&(n=null);var i,r=new h.Viewport(this.viewport);n||(n={x:.5,y:.5,asRatio:!0}),n.asRatio&&(n.x*=r.viewportSize.w,n.y*=r.viewportSize.h),e.asRatio&&(e.x*=t.dimensions.w,e.y*=t.dimensions.h),i={x:t.position.x+e.x-n.x,y:t.position.y+e.y-n.y},this.setViewport(i.x,i.y)},e.prototype.zoomToCenterOfViewportOfActivePage=function(t){var e=this.getVisiblePageAndCenteredCoords(!0),n=e.pdfPage,i=e.centeredViewportCoords;this.zoomTo(t,{x:i.x,y:i.y,asRatio:!0},n)},e.prototype.can=function(t){var e=null;switch(t){case"viewport:pan":if(e=this.operationMode in{none:"",interactive_mode:"",hand:""},this.activeCanvasObject){var n=this.activeCanvasObject.controls.isResizing||this.activeCanvasObject.controls.isDragging;e=e&&!n}break;case"interactive_mode:perform":e="none"===this.operationMode||this.operationMode.startsWith("interactive_mode")}return e},e.prototype.fitViewport=function(t,e){if(void 0===t&&(t="width"),void 0===e&&(e=null),!["width","height","all"].includes(t))throw"[Editpdf] Unknown fit function "+t;var n=null,i=(new h.Viewport(this.viewport),this.getActivePageNeighbor()),r=[this.activePage];i&&r.push(i);var o=this.aroundWorkAreaMargin;if("width"===t)n=(this.viewport.width()-o)/this.pageStack.getPagesContainerWidth(!0);else if("height"===t)n=this.viewport.height()/(this.pageStack.getPagesContainerHeight(!0)+o);else if("all"===t){var a=(this.viewport.width()-o)/this.pageStack.getPagesContainerWidth(!0),s=this.viewport.height()/(this.pageStack.getPagesContainerHeight(!0)+o);"single"!=this.pageStack.pageLayout&&a<s&&(a=(this.viewport.width()-.5*o)/this.pageStack.getPagesContainerWidth(!0)),n=a<s?a:s}this.setZoom(n)},e.prototype.panViewport=function(t){var e=t,n=this.viewport,i=n.scrollLeft(),r=n.scrollTop(),o={left:null,top:null};t.dragX&&(o.left=i+-1*e.dragX),t.dragY&&(o.top=r+-1*e.dragY),this.setViewport(o.left,o.top)},e.prototype.setViewport=function(e,n){var i=t(this.viewport);e&&i.scrollLeft(e),n&&i.scrollTop(n)},Object.defineProperty(e.prototype,"viewport",{get:function(){if(!this._viewport){if(this._viewport=t("#workArea"),this._viewport.length<=0)throw"[EditPdf] Viewport not found";if(this._viewport.length>1)throw"[EditPdf] Found several viewports"}return this._viewport},enumerable:!1,configurable:!0}),e.prototype.incrZoom=function(){this.setZoom(this.nextZoomInValue)},e.prototype.decrZoom=function(){this.setZoom(this.nextZoomOutValue)},e.prototype.setZoom=function(t){t=l.Tools.keepInNumericBounds(this.config.viewportMinZoom,this.config.viewportMaxZoom,t),this.pageStack.setZoom(t),this.triggerEvent("zoom",{zoom:t}),this.displayInfoModal(String(Math.round(100*t))+" %")},e.prototype.displayInfoModal=function(t){var e=this;this.infoModal.html(t),this.infoModal.stop(!0),this.infoModal.css("opacity","1"),this.infoModalTimeout&&(clearTimeout(this.infoModalTimeout),this.infoModalTimeout=null),this.infoModalTimeout=setTimeout(function(){e.infoModal.animate({opacity:0},{duration:1200,start:function(){e.infoModalTimeout=null}})},2e3)},Object.defineProperty(e.prototype,"zoom",{get:function(){return this.pageStack.zoom},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextZoomInValue",{get:function(){return 1.25*this.zoom},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextZoomOutValue",{get:function(){return this.zoom/1.25},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"infoModal",{get:function(){return this._infoModal||(this._infoModal=t("<div class='editpdf--info-modal'></div>"),this.viewport.append(this._infoModal)),this._infoModal},enumerable:!1,configurable:!0}),e.prototype.clipboard_cutObject=function(e){"text"!==this.operationMode&&(document.activeElement&&t(document.activeElement).is(":input")||e&&this.activeCanvasObject&&(this.activeCanvasObject.remove(),this.activeCanvasObject.bag.removedByCutAction=!0,this.clipboardCanvasObject=this.activeCanvasObject))},e.prototype.clipboard_copyObject=function(e){"text"!==this.operationMode&&(document.activeElement&&t(document.activeElement).is(":input")||e&&(this.clipboardCanvasObject=this.activeCanvasObject,this.resetAutomaticObjectPlacementDirection("copy")))},e.prototype.getCleanCanvasObjectsForDelivery=function(t){var e=!0,n=t.filter(function(t){if("text"===t.type){var n=t;if(n.isEmpty())return!1;n.hasInitialTextValue()||(e=!1)}return!0});return e||(n=n.filter(function(t){return"text"!==t.type||!t.hasInitialTextValue()})),n},e.prototype.clipboard_pasteObject=function(e){if("text"!==this.operationMode&&(!document.activeElement||!t(document.activeElement).is(":input"))&&e){var n=this.clipboardCanvasObject,i=n&&n.bag.removedByCutAction,r=!1;if(n&&n.markedForDestruction&&!i&&(n=this.clipboardCanvasObject=null),n){var o=n.getCoords(),a=this.getVisiblePageAndCenteredCoords(),s=a.pdfPage,c=a.centeredPageCoords;n.pdfPage.pageNumber===s.pageNumber?(i||(r=!0),s=n.pdfPage):((o=c).centered=!0,o.keepInPageBoundaries=!0);var l=this.cloneObject(n,{coords:o,pdfPage:s});if(r){"copy"!=this.objectCreationAutomaticPlacementDirection.mode&&this.resetAutomaticObjectPlacementDirection("copy");var u=this.offsetObjectPositionInRelationTo(l,n,this.objectCreationAutomaticPlacementDirection);l.moveTo(u.x,u.y),l.updateDom()}this.clipboardCanvasObject=l}}},e.prototype.on=function(t,e){t in this.eventHandlers||(this.eventHandlers[t]=[]),this.eventHandlers[t].push(e)},e.prototype.triggerEvent=function(t,e){void 0===e&&(e={});var n=new CustomEvent(t,{detail:e});window.dispatchEvent(n),t in this.eventHandlers&&this.eventHandlers[t].forEach(function(t){return t(e)})},e.viewport=null,e}();e.Editor=b}).call(this,n(1))},function(t,e,n){"use strict";(function(t,i){var r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.MouseUtils=void 0;var s=a(n(16)),c=function(){function e(){}return e.identifyClickedPage=function(n){var r=n instanceof t.Event?n.originalEvent:n;r||(s.configureScope(function(t){t.setExtra("originalMouseEvent",n),t.setExtra("rawEvent",r),t.setExtra("mouse_event_type",n?n.type:"no_type")}),s.captureMessage("[Editpdf] identifyClickedPage: finding event type"));var o=e.getHomogeneousCoords(r,"client"),a=o.x,c=o.y,l=document.elementFromPoint(a,c),u=null;return(u=((l=i(l)).is(".editor__page"),l.closest(".editor__page"))).length<=0?null:u},e.getHomogeneousCoords=function(t,e){var n,i,r,o=0===t.type.indexOf("touch");switch(r=t instanceof MouseEvent?t:o?t.touches[0]:t,e){case"client":n=r.clientX,i=r.clientY;break;case"page":n=r.pageX,i=r.pageY;break;case"screen":n=r.screenX,i=r.screenY;break;default:throw"[Editpdf] Unknown type of argument"}return{x:n,y:i}},e}();e.MouseUtils=c}).call(this,n(1),n(1))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Viewport=void 0;var i=n(277),r=n(279),o=function(){function t(t,e){void 0===e&&(e=null),this.dom=t,this.coordUtils=new r.CoordUtils(this.dom),e&&this.updateMouseEvent(e)}return t.prototype.updateMouseEvent=function(t){this.mouseEvent=t;var e=i.MouseUtils.identifyClickedPage(this.mouseEvent);if(!e)return null;var n=window.peditor.pageStack;this._pdfPage=n.pages[parseInt(e.data("page"))-1];var r=0===t.type.indexOf("touch");"pageX"in t||r||(t.pageX=t.page.x,t.pageY=t.page.y)},t.prototype.getViewportCoords=function(t){void 0===t&&(t=!1);var e=this.mouseEvent,n=i.MouseUtils.getHomogeneousCoords(e,"page"),r={x:n.x-this.dom.offset().left,y:n.y-this.dom.offset().top};return t&&(r.x/=this.dom.width(),r.y/=this.dom.height()),r},t.prototype.getWorkareaCoords=function(t){void 0===t&&(t=!1);var e=this.getViewportCoords(),n={x:e.x+this.scrollValue.x,y:e.y+this.scrollValue.y};return t&&(n.x/=this.workareaSize.w,n.y/=this.workareaSize.h),n},t.prototype.getPageCoords=function(t){if(void 0===t&&(t=!1),!this.pdfPage)return null;var e=this.coordUtils.viewportToPageCoords(this.getViewportCoords(),this.pdfPage);return t&&(e.x/=this.pdfPage.dimensions.w,e.y/=this.pdfPage.dimensions.h),e},t.prototype.visiblePageArea=function(t,e){void 0===e&&(e=!1);var n=this.viewportSize,i={x0:t.position.x,x1:t.position.x+t.dimensions.w,y0:t.position.y,y1:t.position.y+t.dimensions.h},r={x0:this.scrollValue.x,x1:this.scrollValue.x+n.w,y0:this.scrollValue.y,y1:this.scrollValue.y+n.h,area:0},o=-1*i.x0,a=-1*i.y0;i.x0+=o,i.x1+=o,i.y0+=a,i.y1+=a,r.x0+=o,r.x1+=o,r.y0+=a,r.y1+=a;var s=this._calcViewableArea(i,r);return s.viewportRect=r,e&&(s.x0/=t.dimensions.w,s.x1/=t.dimensions.w,s.y0/=t.dimensions.h,s.y1/=t.dimensions.h,s.viewportRect.x0/=t.dimensions.w,s.viewportRect.x1/=t.dimensions.w,s.viewportRect.y0/=t.dimensions.h,s.viewportRect.y1/=t.dimensions.h),s},t.prototype._calcViewableArea=function(t,e){var n=t,i=e,r={x0:null,x1:null,y0:null,y1:null,area:0,intersection:!0},o=r;return(i.x0>=n.x1||n.x0>=i.x1||n.y0>=i.y1||i.y0>=n.y1)&&(r.intersection=!1),n.x0<=i.x0&&n.x1>=i.x1?(r.x0=e.x0,r.x1=e.x1):n.x0>=i.x0&&n.x1>=i.x1?(r.x0=t.x0,r.x1=e.x1):n.x0<=i.x0&&n.x1<=i.x1?(r.x0=e.x0,r.x1=t.x1):(r.x0=t.x0,r.x1=t.x1),n.y0<=i.y0&&n.y1>=i.y1?(r.y0=e.y0,r.y1=e.y1):n.y0>=i.y0&&n.y1>=i.y1?(r.y0=t.y0,r.y1=e.y1):n.y0<=i.y0&&n.y1<=i.y1?(r.y0=e.y0,r.y1=t.y1):(r.y0=t.y0,r.y1=t.y1),o.area=(o.x1-o.x0)*(o.y1-o.y0),r},Object.defineProperty(t.prototype,"viewportSize",{get:function(){this.mouseEvent;return{w:this.dom.width(),h:this.dom.height()}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"workareaSize",{get:function(){return{w:this.dom[0].scrollWidth,h:this.dom[0].scrollHeight}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pdfPageSize",{get:function(){return{w:this.pdfPage.dimensions.w,h:this.pdfPage.dimensions.h}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pdfPage",{get:function(){return this._pdfPage},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scrollValue",{get:function(){return{x:this.dom[0].scrollLeft,y:this.dom[0].scrollTop}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scrollSize",{get:function(){var t=this.scrollDistance;return{w:t.w>0?4:0,h:t.h>0?4:0}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scrollDistance",{get:function(){return{w:this.dom[0].scrollWidth-this.dom[0].clientWidth,h:this.dom[0].scrollHeight-this.dom[0].clientHeight}},enumerable:!1,configurable:!0}),t.prototype.log=function(){this.getWorkareaCoords().x,this.getWorkareaCoords().y,this.getViewportCoords().x,this.getViewportCoords().y;var t=this.getPageCoords();if(t)t.x,t.y},t}();e.Viewport=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CoordUtils=void 0;var i=n(277),r=function(){function t(t){this.viewport=t}return t.prototype.pageOriginInViewportCoords=function(t){return{x:t.img.offset().left-this.viewport.offset().left,y:t.img.offset().top-this.viewport.offset().top}},t.prototype.viewportToPageCoords=function(t,e){var n=this.pageOriginInViewportCoords(e),i={x:t.x-n.x,y:t.y-n.y,isOutsidePage:!1};return(i.x<0||i.y<0||i.x>e.dimensions.w||i.y>e.dimensions.h)&&(i.isOutsidePage=!0),i},t.prototype.viewportToPageRatio=function(t,e){var n=this.viewportToPageCoords(t,e);return{x:n.x/e.img.width(),y:n.y/e.img.height()}},t.prototype.fromWindowToViewportCoords=function(t){var e=i.MouseUtils.getHomogeneousCoords(t.originalEvent,"page");return{x:e.x-this.viewport.offset().left,y:e.y-this.viewport.offset().top}},t.prototype.fromWindowToPageCoords=function(t,e){var n=this.fromWindowToViewportCoords(t);return this.viewportToPageCoords(n,e)},t.rotatePoint=function(t,e,n){var i=function(t){return t*(Math.PI/180)},r=Math.sin(i(t)),o=Math.cos(i(t));e.x-=n.x,e.y-=n.y;var a=e.x*o-e.y*r,s=e.x*r+e.y*o;return e.x=a+n.x,e.y=s+n.y,e},t}();e.CoordUtils=r},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.FormBase=e.VALIDATION_ERROR=void 0;var o=n(234);!function(t){t.Required="required"}(e.VALIDATION_ERROR||(e.VALIDATION_ERROR={}));var a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prevFormObject=null,e.nextFormObject=null,e.calculatedWidgetSizeAndCoords_x1=null,e.groupElements=[],e.hasErrorCssClass=!1,e}return r(e,t),e.prototype.setSize=function(t,e){return this},e.prototype.hasGroupElements=function(){return this.groupElements.length>0},Object.defineProperty(e.prototype,"siblings",{get:function(){var t=this;return this.groupElements.filter(function(e){return e!==t})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasControls",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isFormObject",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.initFormCapabilities=function(t){this.pdfFormField=t.field,this.widgetIndex=t.widgetIndex,this.tabindex=-1,this.calculatedWidgetSizeAndCoords_x1=this.getWidgetSizeAndCoords_x1()},e.prototype.getWidgetSizeAndCoords_x1=function(){var t=this.pdfPage,e=t.pixelMagnification,n=this.pdfFormField.widgetsInformation[this.widgetIndex];return{coords_x1:{x:n.left*e,y:t.originalDimensions.h-n.top*e},size_x1:{w:n.right*e-n.left*e,h:n.top*e-n.bottom*e}}},e.prototype.initDom=function(){t.prototype.initDom.call(this),this.dom.attr("data-form-field-id",this.pdfFormField.fieldId)},e.prototype.getPrevFocusable=function(t){for(var e=0;e<this.inputs.length;e++)if(this.inputs[e]===t&&e>0)return this.inputs[e-1];return null},e.prototype.getNextFocusable=function(t){for(var e=0;e<this.inputs.length;e++)if(this.inputs[e]===t)return this.inputs[e+1];return null},Object.defineProperty(e.prototype,"formId",{get:function(){return this.pdfFormField.fieldId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isExportable",{get:function(){return 0===this.widgetIndex&&!this.isReadOnly},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isReadOnly",{get:function(){return!0===this.pdfFormField.readOnlyFlag},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRequired",{get:function(){return this.pdfFormField.mandatoryFlag},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"padding",{get:function(){var t=this.zoomLevel,e=this.size_x1.w,n={top:1,right:6,bottom:3,left:6},i=n.right+n.left;return i>.4*this.size_x1.w&&(i=.4*e,n.left=i/2,n.right=i/2),n.top*=t,n.right*=t,n.bottom*=t,n.left*=t,n},enumerable:!1,configurable:!0}),e.prototype.setFlagWithValidationError=function(){this.hasErrorCssClass||(this.dom.addClass("canvas-object--has-validation-errors"),this.hasErrorCssClass=!0)},e.prototype.clearFlagWithValidationError=function(){this.hasErrorCssClass&&(this.dom.removeClass("canvas-object--has-validation-errors"),this.hasErrorCssClass=!1)},e.prototype.notifyListenersOfChange=function(){this.triggerCustomEvent("form:input:change",{canvasObject:this})},e.prototype.didFormValueChanged=function(){return this.initialExportValue!==this.exportValue},e}(o.CanvasObject);e.FormBase=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IconRepository=void 0;var i=function(){function t(){}return t.fontFamily=function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="9.563" height="11.076"><path fill="#383e45" fill-rule="evenodd" d="M4.79 11.076c.302 0 .543-.09.725-.273s.273-.424.273-.725V1.654h2.84c.624 0 .936-.276.936-.827S9.25 0 8.627 0H.936C.312 0 0 .276 0 .827s.312.827.936.827h2.84v8.424c0 .302.09.543.273.725s.43.273.74.273z"/></svg>'},t.fontSize=function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="14.405" height="11.076" fill="#383e45" fill-rule="evenodd"><path d="M9.63 11.076c.302 0 .543-.1.725-.273s.273-.424.273-.725V1.654h2.84c.624 0 .936-.276.936-.827S14.093 0 13.47 0h-7.7c-.624 0-.936.276-.936.827s.312.827.936.827h2.84v8.424c0 .302.1.543.273.725s.43.273.74.273zm-6.934-.036c.235 0 .424-.07.567-.206s.214-.32.214-.55V6.328H4.66c.246 0 .43-.052.55-.155s.18-.262.18-.475-.06-.37-.18-.47-.304-.15-.55-.15H.73c-.246 0-.43.05-.55.15s-.18.258-.18.47.06.37.18.475.304.155.55.155h1.184v3.956c0 .23.07.413.214.55s.332.206.567.206z"/></svg>'},t.textBold=function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="12"><path fill="#383e45" fill-rule="evenodd" d="M5.81 12C8.377 12 10 10.64 10 8.565c0-1.634-1.2-2.817-2.892-2.905v-.07C8.5 5.404 9.453 4.353 9.453 3.02 9.453 1.148 8.025 0 5.688 0h-4.25C.53 0 0 .53 0 1.466v9.068C0 11.46.53 12 1.437 12H5.81zm-1.2-7.03H2.848V1.996h1.966c1.155 0 1.843.54 1.843 1.448 0 .954-.758 1.528-2.046 1.528zm-1.764 5.05H4.92c1.42 0 2.187-.574 2.187-1.66 0-1.06-.802-1.634-2.25-1.634h-2.01v3.294z"/></svg>'},t.textItalics=function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="9" height="12"><path fill="#383e45" fill-rule="evenodd" d="M6.203 12c.436 0 .745-.256.745-.68 0-.415-.3-.672-.736-.672H4.34l2.052-9.296h1.862c.445 0 .745-.265.745-.69C9 .256 8.71 0 8.264 0H2.797c-.436 0-.736.256-.736.663 0 .424.31.69.745.69h1.862l-2.062 9.296H.736c-.436 0-.736.256-.736.672 0 .424.31.68.745.68h5.458z"/></svg>'},t.textUnderline=function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="9" height="14"><path fill="#383e45" fill-rule="evenodd" d="M9 7.424c0 2.464-1.727 4.153-4.504 4.153C1.727 11.577 0 9.888 0 7.424V.783C0 .297.3 0 .767 0s.775.297.775.783v6.5c0 1.714 1.1 2.86 2.954 2.86 1.873 0 2.962-1.145 2.962-2.86v-6.5c0-.486.3-.783.767-.783S9 .297 9 .783v6.642zm0 6.08a.48.48 0 0 1-.492.494H.484A.48.48 0 0 1 0 13.506a.48.48 0 0 1 .484-.486h8.023a.48.48 0 0 1 .492.486z"/></svg>'},t.textLeftAlignment=function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="17" height="14" fill="#383e45" fill-rule="nonzero"><path d="M.75 1.75h8a.75.75 0 1 0 0-1.5h-8a.75.75 0 1 0 0 1.5zm0 8h11a.75.75 0 1 0 0-1.5h-11a.75.75 0 1 0 0 1.5z"/><path d="M.75 5.75h15a.75.75 0 1 0 0-1.5h-15a.75.75 0 1 0 0 1.5zm0 8h15a.75.75 0 1 0 0-1.5h-15a.75.75 0 1 0 0 1.5z"/></svg>'},t.textCenterAlignment=function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="17" height="14" fill="#383e45" fill-rule="nonzero"><path d="M4.75 12.5h8a.75.75 0 1 1 0 1.5h-8a.75.75 0 1 1 0-1.5zm-2-8h11a.75.75 0 1 1 0 1.5h-11a.75.75 0 1 1 0-1.5zm-2 4h15a.75.75 0 1 1 0 1.5h-15a.75.75 0 1 1 0-1.5zm0-8h15a.75.75 0 1 1 0 1.5h-15a.75.75 0 1 1 0-1.5z"/></svg>'},t.textRightAlignment=function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="17" height="14" fill="#383e45" fill-rule="nonzero"><path d="M16.25 1.75h-8a.75.75 0 1 1 0-1.5h8a.75.75 0 1 1 0 1.5zm0 8h-11a.75.75 0 1 1 0-1.5h11a.75.75 0 1 1 0 1.5zm0-4h-15a.75.75 0 1 1 0-1.5h15a.75.75 0 1 1 0 1.5zm0 8h-15a.75.75 0 1 1 0-1.5h15a.75.75 0 1 1 0 1.5z"/></svg>'},t.textFillColor=function(){return'<svg class="color-palette-icon" xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewBox="0 0 19 19"> <g class="color-palette--main-icon"> <path fill="rgb(64,70,79)" fill-rule="evenodd" d="M14.7088623 10.75384521C14.5147705 10.9179535 14.2918396 11 14.04006958 11c-.1678772 0-.32522583-.04359436-.47210693-.13076782-.1468811-.08718872-.26229859-.2230835-.34622193-.40769959l-.94421386-2.0615387H6.7381897l-.94418335 2.0615387c-.08395386.1846161-.19934082.32051087-.34622193.40769959C5.30090332 10.95640564 5.13830566 11 4.95993042 11c-.24127197 0-.46160889-.0820465-.66091919-.24615479C4.09967041 10.58973694 4 10.38974 4 10.15383911c0-.1333313.03146362-.2666626.09442139-.3999939L8.43777466.63076782q.14163208-.30768585.43276977-.46923065C9.06460571.05384827 9.27182007 0 9.49212646 0c.2203064 0 .42752076.05384827.62161255.16153717q.2911377.1615448.43276978.46923065l4.35906982 9.1230774c.06295777.1333313.09442139.2666626.09442139.3999939 0 .23590087-.0970459.43589782-.2911377.6000061zM7.43060303 6.86154175h4.1545105L9.50784302 2.29230499l-2.07724 4.56923676z"/> </g> <g class="color-palette color-palette--default"> <rect width="19" height="4" x="0" y="15" fill="rgb(76,175,80)" rx="0" ry="0"/> </g> <g class="color-palette color-palette--transparent"> <path fill="rgb(56,62,69)" fill-rule="evenodd" d="M19 19v-4H0v4h19zM1 16h17v2H1v-2z"/> <rect width="2" height="2" x="3" y="16" fill="rgb(193,194,199)" rx="0" ry="0"/> <rect width="2" height="2" x="7" y="16" fill="rgb(193,194,199)" rx="0" ry="0"/> <rect width="2" height="2" x="11" y="16" fill="rgb(193,194,199)" rx="0" ry="0"/> <rect width="2" height="2" x="15" y="16" fill="rgb(193,194,199)" rx="0" ry="0"/> </g> <g class="color-palette color-palette--white"> <path fill="rgb(56,62,69)" fill-rule="evenodd" d="M19 19v-4H0v4h19zM1 16h17v2H1v-2z"/> </g> </svg>'},t.textBackgroundColor=function(){return'<svg class="color-palette-icon" xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewBox="0 0 19 19"> <g class="color-palette--main-icon"> <path fill="rgb(56,62,69)" fill-rule="evenodd" d="M12.79379272 6.31059265L6.3380127 0 5.31982422.99529266l1.71862793 1.6800003-3.71890259 3.6352997c-.4260559.41647338-.4260559 1.08705138 0 1.49645995l3.97164917 3.88235474C7.50061035 11.89411926 7.78225708 12 8.05667114 12c.27438355 0 .55603028-.10588074.7654419-.31059265l3.97167968-3.88235474c.4260254-.40940857.4260254-1.07998657 0-1.49645996zm-8.19610595.74822998l3.45895385-3.38117218L11.515625 7.05882263H4.59768677zM14.55575562 12c-.79434205 0-1.44424439-.63528442-1.44424439-1.41175842 0-.93882752.72210693-1.23529053 1.44424439-2.47058106 0 0 1.44424438 1.53175354 1.44424438 2.47058106C16 11.36471558 15.35009766 12 14.55575562 12z"/> </g> <g class="color-palette color-palette--default"> <rect width="19" height="4" x="0" y="15" fill="rgb(76,175,80)" rx="0" ry="0"/> </g> <g class="color-palette color-palette--transparent"> <path fill="rgb(56,62,69)" fill-rule="evenodd" d="M19 19v-4H0v4h19zM1 16h17v2H1v-2z"/> <rect width="2" height="2" x="3" y="16" fill="rgb(193,194,199)" rx="0" ry="0"/> <rect width="2" height="2" x="7" y="16" fill="rgb(193,194,199)" rx="0" ry="0"/> <rect width="2" height="2" x="11" y="16" fill="rgb(193,194,199)" rx="0" ry="0"/> <rect width="2" height="2" x="15" y="16" fill="rgb(193,194,199)" rx="0" ry="0"/> </g> <g class="color-palette color-palette--white"> <path fill="rgb(56,62,69)" fill-rule="evenodd" d="M19 19v-4H0v4h19zM1 16h17v2H1v-2z"/> </g> </svg>'},t.unfoldArrow=function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="6" height="4"><path d="M5.736 0c.062 0 .122.02.17.058a.24.24 0 0 1 .034.351l-2.736 3.1c-.01.012-.022.022-.034.032-.112.088-.278.074-.372-.032L.06.41A.24.24 0 0 1 0 .249C0 .112.118 0 .264 0h5.472z" fill="#383e45" fill-rule="evenodd"/></svg>'},t.transparentColorSample=function(){return' <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="16px" height="16px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve"> <image id="image0" width="16" height="16" x="0" y="0" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQEAIAAADAAbR1AAAABGdBTUEAALGPC/xhBQAAACBjSFJN AAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0T///////8JWPfcAAAA CXBIWXMAAABgAAAAYADwa0LPAAAAB3RJTUUH5AMXCjQcadPMrAAABXVJREFUOMtlkXtQlXUexp/f 7z33l7tA3KQCM4zUxCkNL4M3JM0xUnc31h3HtWwNslSgZBwNYk3FHPGSldlFmRppuuxus221Y94Q TBwL01lvoHA4KHCunPMe3/e8v9+3P9p/mp4/n3nm88fnYf7jgWPBpu5Puvfe6glvDO+O1DHBNDZg XWKdYfGyQjae2WCBBQqV01NYYy40K8yP5SH5qeyCChUuyy7LRmWm8jPvVLazsXwMS3N1uQqcG3Jb Rzdlr7P8itbCkb9oU1CMYsx3nnJud14tSHxwUv4Z1z7XV66lLI/lIVd/Rd9rfN6T1HO0t25wztD3 w3lYiRV4Jud69qys9ZkXM0fuyeDD/BSvG/pyeJ+3vvepvsL+YUu4LtwcqcMMzMBCKqEyWoY7uE3r eCZ38ZM8idvYTfjgBpRcJYXfQT3jqKW7tIXCmI4Stojls1NskbJcKedj+Dn+Exdpc1OHUup71/am uxssLML87KZzi7PU8RZuoQd9jhzHFEelOCEeEHXGW8auWBEykI40c565w1xj/auVrKPiitVl6hH4 2Fzs4M/yk/yqETYyYpf5Jl7LR0u3vC49skG+RkmsPaeDdbYUvvxQc0E1n8zzuRTnxEQxKbAiVBAK avnhOZF26sF13LQn2P9hb03uTv5nYqV9wHavPQvX0Ed92p1obXSPf4l/arBX/NF8THxLz9KLtMFX 50v3z7OwR9ljLFm1qA7nV7yEL+CTjR3GbMOvve6Zq6XcKRqMDVdSPG7gRGJXQk38yrS3U5WUY673 XOscQcwCgMjkyLvaOe8C7x/8fr1CF/pOtpFNYLVowQfI5/h9TJgQ9AX+Rd9QMU2nMjxO02g+tlET 9kJDFPpv9j54EcBztJpepmk0k56geVRGSzCEYXjZGXf72c7Kh1rHtY89zLN5AvMIpyiUi0Ploe9H zkXqtUbta9ykW+izX7NfsyUmHkgqTQjb4q0dts1www1P9KOoPdoQPBQ8H3rS/FB8KKxYTWuwzhvw /cm/mZ2acDr/bLK6Tx3vqkUy4pDgeMFeaT+efSRnfWa+s9qR4DiCLGQhI3Y3Nj1Wc/vK7YcHE4Nq 0DWyEnPYHMxIfzp9ceqSUaGU15MnKs8r85RC8b5oFZd/vPrTsUvlFvmqbJSHQtbQuJEpKMJsLBZ/ V6Nim6VRyVNs1k+tLZY3/q+iANkU0Wfr/zP+E+wIlYcqEIc9WJE6f1Rbym5bmm2hVePtvIsLpVk5 yM+zE+wwdnIISEjchgc+GqB+eDGEQQQgICF+45oDIIwggAA8cGMAHvRjABGEEACBIH9/KGt75Ezu D5dzbmSXZF5k97MMBr6ab+Wldq9DtR+g87KEeqEgBoGj7CUWNl81W8wM8+1YxPwRiUhGgj3k6LId 5CH+rbIYF/AOtdKf5UpqvO68UdbzHOuwdgyeryq6WDQy4azyjfIZrzaihi22p2+R+zNPoVfzLvNf Qgfa0Rk3Pe4+9YHcztEV2bH4tXEPqxPpNNrwgzfZV+3X3R+5J3nKjHij0NiP0chmWcYV45LxvIU9 yMewHO7m37G9fC2v4eCLeCl7QrSYU8UEvUInvQnfQcMJ+9/sDtuT7CDbAcY0fpiVMmAagFkk6Rnj pL7cUO+e1m26j+1nzWw5l1zyW9x1xjXWuX4oafi/vnFCSFVOlVelhxJpFVXRBtbANrMabEU9NqID F3BBjpFFtJSaaD99QQtoKVXLetlMRzEO4zGWvcl2si08lY/i/WqmmuRcywJXgsdDVX1ZfY/079Jm agXRfbJKvkCNosqsMdtEi/xadkOHDp1v45v4KuXfysdKBd/Gt7NVv/ayRRyR3WaVaBBtVEOb6LX4 ufHF6oG83fd33qv+As0MnUmlZj2XAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIwLTAzLTIzVDEwOjUy OjI4KzAwOjAwy1kQfQAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMC0wMy0yM1QxMDo1MjoyOCswMDow MLoEqMEAAAAASUVORK5CYII=" /> </svg> '},t.recycleBin=function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="18"><path fill="#40464f" fill-rule="evenodd" d="M11.87 18c1.05 0 1.683-.57 1.727-1.626l.53-11.902h1.223c.356 0 .65-.294.65-.65 0-.363-.295-.657-.65-.657h-3.714V1.98C11.636.778 10.82 0 9.5 0H6.482C5.18 0 4.364.778 4.364 1.98v1.185H.65c-.356 0-.65.294-.65.657 0 .355.295.65.65.65h1.232l.53 11.902C2.456 17.43 3.08 18 4.14 18h7.73zM10.256 3.166H5.753V2.06c0-.458.338-.787.833-.787h2.83c.495 0 .842.33.842.787v1.107zM4.564 15.128c.01.355.234.614.538.614.32 0 .555-.285.547-.623l-.33-8.892c-.017-.33-.27-.605-.564-.605-.312 0-.555.26-.547.614l.356 8.892zM8 15.742c-.304 0-.564-.285-.564-.623V6.228c0-.33.26-.605.564-.605s.573.277.573.605l-.01 8.892c0 .337-.26.623-.564.623zm2.36-.623c-.01.337.217.623.538.623.312 0 .53-.26.538-.614l.364-8.892c.01-.346-.243-.614-.555-.614-.295 0-.547.277-.555.605l-.33 8.892z"/></svg>'},t.opacityCheckerboard=function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"><g fill="#c1c2c7"><path d="M5.333 5.333h5.333v5.333H5.333z"/><path d="M1 0h4.333v5.333H0V1a1 1 0 0 1 1-1zM0 10.667h4.333a1 1 0 0 1 1 1V16H0v-5.333zM10.667 0H16v5.333h-4.333a1 1 0 0 1-1-1V0zm0 10.667H16V15a1 1 0 0 1-1 1h-4.333v-5.333z" fill-rule="evenodd"/></g><path fill="#383e45" fill-rule="evenodd" d="M0 15.2V.8A.8.8 0 0 1 .8 0h14.4a.8.8 0 0 1 .8.8v14.4a.8.8 0 0 1-.8.8H.8a.8.8 0 0 1-.8-.8zM.8.8v14.4h14.4V.8H.8z"/></svg>'},t.strokeWidth=function(){return'<svg xmlns="http://www.w3.org/2000/svg" height="13" width="21" fill="#383e45"><path d="M0 0h21v1H0zm0 4h21v2H0zm0 5h21v4H0z"/></svg>'},t.shapeRect=function(){return'<svg xmlns="http://www.w3.org/2000/svg" height="16" width="20"><path fill="#626870" fill-rule="evenodd" d="M20 16V0H0v16h20zM1 1h18v14H1V1z"/></svg>'},t.shapeLine=function(){return'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="16" width="20"><path fill="#626870" id="A" opacity="1" fill-rule="evenodd" d="M.92 15.878L19.788.994c.244-.193.284-.544.088-.784a.57.57 0 0 0-.796-.087L.212 15.006c-.244.193-.284.544-.088.784a.57.57 0 0 0 .796.087z"/></svg>'},t.shapeEllipse=function(){return'<svg xmlns="http://www.w3.org/2000/svg" height="20" width="20"><path fill="#626870" fill-rule="evenodd" d="M0 10C0 4.477 4.477 0 10 0s10 4.477 10 10-4.477 10-10 10S0 15.523 0 10zm19 0a9 9 0 1 0-18 0 9 9 0 1 0 18 0z"/></svg>'},t.symbols=function(){return'\n      <svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n          <g id="Icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n              <g id="icons_and_shapes-copy-2" transform="translate(-302.000000, -1092.000000)" fill="#626870">\n                  <g id="smile-grey" transform="translate(302.000000, 1092.000000)">\n                      <path d="M10,0 C15.5228475,0 20,4.4771525 20,10 C20,15.5228475 15.5228475,20 10,20 C4.4771525,20 0,15.5228475 0,10 C0,4.4771525 4.4771525,0 10,0 Z M10,1 C5.02943725,1 1,5.02943725 1,10 C1,14.9705627 5.02943725,19 10,19 C14.9705627,19 19,14.9705627 19,10 C19,5.02943725 14.9705627,1 10,1 Z" id="Oval-Copy-33" fill-rule="nonzero"></path>\n                      <circle id="Oval-Copy-34" cx="6.39175258" cy="8.04123711" r="1"></circle>\n                      <circle id="Oval-Copy-35" cx="13.814433" cy="8.04123711" r="1"></circle>\n                      <path d="M13.814433,11.2448454 C13.5340204,11.2448454 13.306701,11.4721647 13.306701,11.7525773 C13.306701,13.2839348 11.8801334,14.5438144 10.1030928,14.5438144 C8.32605221,14.5438144 6.89948454,13.2839348 6.89948454,11.7525773 C6.89948454,11.4721647 6.6721652,11.2448454 6.39175258,11.2448454 C6.11133996,11.2448454 5.88402062,11.4721647 5.88402062,11.7525773 C5.88402062,13.8643462 7.78019892,15.5592784 10.1030928,15.5592784 C12.4259866,15.5592784 14.3221649,13.8643462 14.3221649,11.7525773 C14.3221649,11.4721647 14.0948456,11.2448454 13.814433,11.2448454 Z" id="Path" fill-rule="nonzero"></path>\n                  </g>\n              </g>\n          </g>\n      </svg>'},t.check=function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="9" height="7"><path d="M7.42.49a.72.72 0 0 1 1.094.929l-.076.09L3.4 6.55a.72.72 0 0 1-1.13-.144L.496 4.664a.72.72 0 0 1 .918-1.103l.1.075 1.4 1.37L7.42.49z" fill="#fff" fill-rule="nonzero"/></svg>'},t.freehandCheck=function(){return'<svg style=\'transform: scale(1.6)\' xmlns="http://www.w3.org/2000/svg" width="9" height="7"><path d="M7.42.49a.72.72 0 0 1 1.094.929l-.076.09L3.4 6.55a.72.72 0 0 1-1.13-.144L.496 4.664a.72.72 0 0 1 .918-1.103l.1.075 1.4 1.37L7.42.49z" fill="#4acd86" fill-rule="nonzero"/></svg>'},t.layersPanelRightArrow=function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill-rule="evenodd"><path d="M8.572 11.907c2.246 0 4.07-1.94 4.07-4.324 0-.57-.102-1.124-.3-1.622-.102-.26-.027-.555.156-.75.346-.368.93-.238 1.113.245A5.95 5.95 0 0 1 14 7.583c0 3.186-2.43 5.766-5.428 5.766v1.3c0 .324-.366.483-.577.252l-1.893-2.01c-.136-.144-.136-.368 0-.512l1.893-2.01c.2-.223.577-.065.577.26v1.3z" fill="#626870"/></svg>'},t.layersPanelPencil=function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="11.37" height="11.37" fill="#626870" fill-rule="evenodd"><path d="M0 9.002v2.368h2.368l6.985-6.985-2.368-2.368L0 9.002zm11.185-6.45a.63.63 0 0 0 0-.891L9.707.185a.63.63 0 0 0-.891 0L7.66 1.34l2.37 2.37 1.156-1.156z"/></svg>'},t.layersPanelTrash=function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="11" height="12"><path fill="#626870" fill-rule="evenodd" d="M8.16 12c.722 0 1.157-.38 1.187-1.084l.364-7.935h.84c.245 0 .447-.196.447-.432 0-.242-.203-.438-.447-.438H8v-.8C8 .52 7.44 0 6.538 0H4.456C3.56 0 3 .52 3 1.32v.8H.447C.203 2.11 0 2.307 0 2.55c0 .236.203.432.447.432h.847l.364 7.935c.03.704.46 1.084 1.187 1.084H8.16zm-1.1-9.89H3.955v-.738c0-.306.233-.525.573-.525h1.945c.34 0 .58.22.58.525v.738zm-3.913 7.975c.006.236.16.41.37.41.22 0 .382-.2.376-.415l-.227-5.928c-.012-.22-.185-.404-.388-.404-.215 0-.382.173-.376.41l.245 5.928zm2.362.41c-.21 0-.388-.2-.388-.415V4.152c0-.22.18-.404.388-.404s.394.185.394.404l-.006 5.928c0 .225-.18.415-.388.415zm1.623-.415c-.006.225.15.415.37.415.215 0 .364-.173.37-.41l.25-5.928c.006-.23-.167-.41-.382-.41-.203 0-.376.185-.382.404l-.227 5.928z"/></svg>'},t.layersIcoDragSm=function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="7.111" height="15.158" fill="#383e45"><path d="M3.204 15.006L.146 11.83a.53.53 0 0 1 0-.732c.194-.202.5-.202.704 0l2.705 2.8 2.705-2.8c.195-.202.5-.202.704 0a.53.53 0 0 1 0 .732l-3.058 3.176a.49.49 0 0 1-.704 0zM3.908.15l3.058 3.176a.53.53 0 0 1 0 .732c-.194.202-.5.202-.704 0l-2.705-2.8L.85 4.06c-.195.202-.5.202-.704 0a.53.53 0 0 1 0-.732L3.203.15A.49.49 0 0 1 3.555 0a.49.49 0 0 1 .352.15z" fill-rule="evenodd"/><ellipse cx="3.625" cy="7.645" rx="1.847" ry="1.75"/></svg>'},t.layerThumbnailShape=function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="26.568" height="24.703" fill="#626870"><path fill-rule="evenodd" d="M14.612 3.89h11.513c.244 0 .443.198.443.443v11.513c0 .244-.198.443-.443.443h-4.557a7.06 7.06 0 0 1 .129 1.328c0 3.906-3.178 7.085-7.085 7.085s-7.085-3.178-7.085-7.085a7.1 7.1 0 0 1 .129-1.328H.443c-.158 0-.305-.085-.384-.222s-.08-.306 0-.443L8.998.222c.08-.136.225-.22.383-.22.166-.017.305.085.384.223l4.404 7.707V4.334c0-.244.198-.443.443-.443zm-5.234-2.56L1.21 15.404h6.675c.1-.3.22-.59.36-.873l.072-.15c.06-.114.122-.225.186-.335.038-.064.076-.128.116-.2.066-.104.132-.207.203-.308.043-.06.088-.117.132-.175a7.05 7.05 0 0 1 .455-.546l.12-.13c.087-.1.18-.175.27-.26l.158-.144c.095-.084.192-.165.292-.243.05-.04.1-.075.15-.113a7.08 7.08 0 0 1 1.097-.671l.194-.094a6.72 6.72 0 0 1 .333-.141c.083-.033.167-.062.252-.092.103-.036.205-.074.3-.105.18-.054.362-.1.546-.14.073-.015.148-.027.222-.04a7.12 7.12 0 0 1 .426-.065c.074-.01.147-.016.22-.023.057-.005.112-.014.17-.017v-.83L9.378 1.332zm11.96 14.072l4.345.001c-.244 0-.443-.198-.443-.443s.198-.443.443-.443v-1.77c-.244 0-.443-.198-.443-.443s.198-.443.443-.443v-1.77c-.244 0-.443-.198-.443-.443s.198-.443.443-.443v-1.77c-.244 0-.443-.198-.443-.443s.198-.443.443-.443v-1.77H15.056v1.77c.244 0 .443.198.443.443s-.198.443-.443.443v1.77c.244 0 .443.198.443.443s-.198.443-.443.443v.457c.057.004.112.012.17.017l.22.023a6.86 6.86 0 0 1 .427.065c.062.01.124.017.185.03.08-.1.196-.15.326-.15.213 0 .382.153.425.352.048.016.094.035.142.052l.252.092c.112.044.223.09.333.14.065.03.13.062.194.093.387.19.754.415 1.098.67l.15.113c.1.078.197.16.292.243.053.047.106.095.158.144a7.14 7.14 0 0 1 .271.261c.04.042.08.087.12.13.16.174.31.356.454.545l.132.177a7.19 7.19 0 0 1 .202.307c.04.063.078.126.116.2a7.17 7.17 0 0 1 .186.335c.025.05.048.1.072.15a7.05 7.05 0 0 1 .359.873zm-6.726 8.413a6.21 6.21 0 0 1-6.199-6.199c0-.577.085-1.132.233-1.662a6.26 6.26 0 0 1 .141-.438l.03-.085c.05-.135.106-.27.167-.4.015-.032.03-.063.046-.094.062-.13.127-.257.197-.38.008-.015.018-.03.027-.043a6.2 6.2 0 0 1 .816-1.102c.024-.026.047-.053.072-.08.1-.094.184-.183.28-.27l.105-.096c.097-.085.196-.167.297-.246.035-.027.072-.054.108-.08.107-.08.216-.157.328-.23.02-.014.043-.026.064-.04a6.21 6.21 0 0 1 1.155-.567c.06-.022.12-.046.18-.066.1-.033.2-.062.3-.09a6.19 6.19 0 0 1 .256-.066c.09-.02.18-.04.27-.057a6.43 6.43 0 0 1 .335-.051c.073-.01.145-.02.218-.027a6.18 6.18 0 0 1 .576-.029 6.18 6.18 0 0 1 .576.029c.073.007.145.018.218.027a6.43 6.43 0 0 1 .335.051c.1.017.18.036.27.057s.17.043.256.066a6.72 6.72 0 0 1 .3.089c.06.02.12.044.18.066.405.15.792.34 1.155.567.02.013.043.025.064.04.112.073.22.15.328.23l.108.08c.1.08.2.16.297.246l.105.096a6.23 6.23 0 0 1 .28.271c.025.026.048.053.072.08.31.334.584.703.816 1.102.008.015.018.03.027.043.07.124.135.25.198.38l.046.094c.06.13.115.263.167.4l.03.085a6.26 6.26 0 0 1 .141.438 6.24 6.24 0 0 1 .231 1.662 6.21 6.21 0 0 1-6.199 6.199z"/><circle cx="17.712" cy="6.991" r=".443"/><circle cx="16.384" cy="5.663" r=".443"/><circle cx="17.712" cy="9.648" r=".443"/><circle cx="23.026" cy="9.648" r=".443"/><circle cx="16.384" cy="8.319" r=".443"/><circle cx="19.04" cy="5.663" r=".443"/><circle cx="20.369" cy="6.991" r=".443"/><circle cx="23.026" cy="6.991" r=".443"/><circle cx="21.697" cy="5.663" r=".443"/><circle cx="19.04" cy="8.319" r=".443"/><circle cx="20.369" cy="9.648" r=".443"/><circle cx="21.697" cy="8.319" r=".443"/><circle cx="24.354" cy="5.663" r=".443"/><circle cx="24.354" cy="8.319" r=".443"/><circle cx="23.026" cy="14.961" r=".443"/><circle cx="19.04" cy="10.976" r=".443"/><circle cx="20.369" cy="12.305" r=".443"/><circle cx="23.026" cy="12.305" r=".443"/><circle cx="21.697" cy="10.976" r=".443"/><circle cx="21.697" cy="13.633" r=".443"/><circle cx="24.354" cy="10.976" r=".443"/><circle cx="24.354" cy="13.633" r=".443"/></svg>'},t.layerThumbnailText=function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="#626870" fill-rule="nonzero"><path d="M19.45 20c.147 0 .275-.045.385-.136a.42.42 0 0 0 .165-.336.48.48 0 0 0-.055-.218h0l-5.33-11.9c-.05-.12-.13-.218-.247-.3S14.125 7 14 7a.6.6 0 0 0-.605.399h0L8.037 19.3a.45.45 0 0 0-.037.2c0 .145.052.263.156.354a.55.55 0 0 0 .376.136c.232 0 .403-.115.513-.345h0l1.4-3.16h7.108l1.392 3.16a.58.58 0 0 0 .211.254.51.51 0 0 0 .284.091zm-2.327-4.485h-6.247L14 8.5l3.115 7.027zM2.32 4.5H1.5v2.46h.82V4.5zm0 3.28H1.5v2.46h.82V7.78zm0 3.28H1.5v2.46h.82v-2.46zm0 3.28H1.5v2.46h.82v-2.46zm0 3.28H1.5v2.46h.82v-2.46zm0 3.28H1.5v2.46h.82V20.9zm24-16.4h-.82v2.46h.82V4.5zm0 3.28h-.82v2.46h.82V7.78zm0 3.28h-.82v2.46h.82v-2.46zm0 3.28h-.82v2.46h.82v-2.46zm0 3.28h-.82v2.46h.82v-2.46zm0 3.28h-.82v2.46h.82V20.9zM4 0H0v4h4V0zm-.8.8v2.4H.8V.8h2.4zM4 24H0v4h4v-4zm-.8.8v2.4H.8v-2.4h2.4zM28 0h-4v4h4V0zm-.8.8v2.4h-2.4V.8h2.4zM28 24h-4v4h4v-4zm-.8.8v2.4h-2.4v-2.4h2.4zm-22.7.7v.82h2.46v-.82H4.5zm3.28 0v.82h2.46v-.82H7.78zm3.28 0v.82h2.46v-.82h-2.46zm3.28 0v.82h2.46v-.82h-2.46zm3.28 0v.82h2.46v-.82h-2.46zm3.28 0v.82h2.46v-.82H20.9zM4.5 1.5v.82h2.46V1.5H4.5zm3.28 0v.82h2.46V1.5H7.78zm3.28 0v.82h2.46V1.5h-2.46zm3.28 0v.82h2.46V1.5h-2.46zm3.28 0v.82h2.46V1.5h-2.46zm3.28 0v.82h2.46V1.5H20.9z"/></svg>'},t.layerThumbnailImage=function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path d="M25.2 0A2.8 2.8 0 0 1 28 2.8v22.4a2.8 2.8 0 0 1-2.8 2.8H2.8A2.8 2.8 0 0 1 0 25.2V2.8A2.8 2.8 0 0 1 2.8 0h22.4zm-5.313 10.347l-6.553 6.688 4.362 5.09a.56.56 0 0 1 .01.717l-.07.072a.56.56 0 0 1-.79-.061h0l-6.806-7.94-8.92 9.524v.763a1.68 1.68 0 0 0 1.68 1.68h22.4a1.68 1.68 0 0 0 1.68-1.68v-6.74l-6.993-8.113zM25.2 1.12H2.8A1.68 1.68 0 0 0 1.12 2.8v19.998l8.957-9.563 2.526 2.946 7.338-7.488 6.94 8.05V2.8a1.68 1.68 0 0 0-1.68-1.68zM7.28 4.48a2.8 2.8 0 0 1 0 5.6 2.8 2.8 0 0 1 0-5.6zm0 1.12a1.68 1.68 0 0 0 0 3.36 1.68 1.68 0 1 0 0-3.36z" fill="#626870" fill-rule="nonzero"/></svg>'},t.pageLayoutSinglePage=function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="14" height="18"><path fill="#383e45" fill-rule="evenodd" d="M10.613.163l3.23 3.375c.1.106.157.25.156.4v12.375c0 .932-.723 1.688-1.615 1.688H1.615C.723 18 0 17.244 0 16.312V1.688C0 .756.723 0 1.615 0h8.615c.143-.001.28.058.382.163zm1.772 16.712c.297 0 .538-.252.538-.562V4.5H10.77c-.595 0-1.077-.504-1.077-1.125v-2.25H1.615c-.297 0-.538.252-.538.563v14.625c0 .31.24.563.538.563h10.77z"/></svg>'},t.pageLayoutDoublePage=function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="30" height="18" fill="#626870" fill-rule="evenodd"><path d="M26.613.163l3.23 3.375a.58.58 0 0 1 .156.4v12.375c0 .932-.723 1.688-1.615 1.688h-10.77C16.723 18 16 17.244 16 16.312V1.688C16 .756 16.723 0 17.615 0h8.615c.143-.001.28.058.382.163zm1.772 16.712c.297 0 .538-.252.538-.562V4.5H26.77c-.595 0-1.077-.504-1.077-1.125v-2.25h-8.077c-.297 0-.538.252-.538.563v14.625c0 .3.24.563.538.563h10.77zM10.613.163l3.23 3.375a.58.58 0 0 1 .156.4v12.375c0 .932-.723 1.688-1.615 1.688H1.615C.723 18 0 17.244 0 16.312V1.688C0 .756.723 0 1.615 0h8.615c.143-.001.28.058.382.163zm1.772 16.712c.297 0 .538-.252.538-.562V4.5H10.77c-.595 0-1.077-.504-1.077-1.125v-2.25H1.615c-.297 0-.538.252-.538.563v14.625c0 .3.24.563.538.563h10.77z"/></svg>'},t.pageLayoutCoverPage=function(){return'<svg class="layout-page-ico-black" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="18" viewBox="0 0 14 18"> <defs> <path id="path-1" fill-rule="evenodd" d="M.00001802 1.6875161c0-.8829391.64909514-1.60749046 1.47599952-1.6813132l.13938297-.00619411L12.38462642 0C13.27678871 0 14 .75552483 14 1.6875161v14.62498557c0 .8829391-.64908714 1.6074824-1.47599068 1.6813043l-.13939221.00620282L1.61540982 18C.72324753 18 0 17.24449293 0 16.31250167L.00001802 1.6875161z"/> <mask id="mask-2" x="0" y="0" maskContentUnits="userSpaceOnUse" maskUnits="userSpaceOnUse"> <rect width="14" height="18" x="0" y="0" fill="black"/> <use fill="white" xlink:href="#path-1"/> </mask> </defs> <g> <use fill="rgb(56,62,69)" xlink:href="#path-1"/> <use fill-opacity="0" stroke="rgb(56,62,69)" stroke-linecap="butt" stroke-linejoin="miter" stroke-width="2" mask="url(#mask-2)" xlink:href="#path-1"/> </g> </svg><svg class="layout-page-ico-white" xmlns="http://www.w3.org/2000/svg" width="14" height="18" viewBox="0 0 14 18"> <path fill="rgb(56,62,69)" fill-rule="evenodd" d="M10.6130371.16313171l3.23077394 3.375c.10083007.10617066.15698242.24984742.15618896.39936829v12.37498474c0 .93200684-.7232666 1.6875-1.61541748 1.6875H1.61535645C.72320557 17.99998474 0 17.24449158 0 16.31248474V1.6875C0 .75550842.72320557.00001526 1.61535645.00001526h8.61541748c.14312744-.0008545.28070068.0578308.38226318.16311645zm1.77154542 16.71185303c.29742432 0 .53845215-.25183105.53845215-.5625V4.5h-2.1538086c-.5947876 0-1.07696533-.50369263-1.07696533-1.125v-2.25h-8.0769043c-.29736328 0-.53845214.25183105-.53845214.5625v14.62498474c0 .31066895.24108886.5625.53845215.5625h10.76922607z"/> </svg>'},t.rotateLeft=function(){return'<svg xmlns="http://www.w3.org/2000/svg" height="17.311" width="15.711"><path fill="#383e45" fill-rule="evenodd" d="M8.71 1.004v.66a7.99 7.99 0 0 1 7 7.93c0 3.64-2.43 6.7-5.77 7.67-.62.18-1.23-.3-1.23-.96v-.02c0-.43.27-.82.68-.94 2.5-.73 4.32-3.02 4.32-5.75 0-2.97-2.16-5.43-5-5.9v1.53c0 .9-1.07 1.34-1.7.72l-2.13-2.08c-.4-.4-.4-1.03 0-1.43L7 .294c.63-.63 1.7-.18 1.7.7zm-8 4.76c.3-.57 1.1-.65 1.56-.2.3.3.38.78.16 1.15q-.3.57-.48 1.17c-.12.42-.5.7-.94.7H1c-.65 0-1.15-.62-.96-1.25a8.42 8.42 0 0 1 .67-1.58zm-.67 6.08c-.2-.63.3-1.25.96-1.25h.02a.97.97 0 0 1 .94.72 6.17 6.17 0 0 0 .48 1.16c.2.38.13.84-.17 1.15-.46.46-1.26.37-1.57-.2-.28-.5-.5-1.04-.66-1.58zm3.83 4.77a7.85 7.85 0 0 0 1.59.66c.62.18 1.24-.32 1.24-.96v-.03c0-.43-.28-.82-.7-.94a6.08 6.08 0 0 1-1.15-.48.97.97 0 0 0-1.16.17l-.03.03c-.45.45-.36 1.24.2 1.55z"/></svg>'},t.rotateRight=function(){return'<svg xmlns="http://www.w3.org/2000/svg" height="17.307" width="15.711"><path fill="#383e45" fill-rule="evenodd" d="M8.7.3l2.13 2.13a.99.99 0 0 1 0 1.42L8.7 5.92A1 1 0 0 1 7 5.21V3.68c-2.84.48-5 2.94-5 5.9a5.98 5.98 0 0 0 4.32 5.75c.4.12.68.5.68.94v.03c0 .64-.6 1.14-1.23.96C2.43 16.3 0 13.23 0 9.6a8 8 0 0 1 7-7.93V1C7 .1 8.08-.33 8.7.3zM15 5.76q.42.765.66 1.6c.2.62-.3 1.24-.96 1.24h-.02c-.43 0-.82-.28-.94-.7a6.17 6.17 0 0 0-.48-1.16.97.97 0 0 1 .17-1.16l.01-.01c.46-.46 1.25-.37 1.56.2zM15 13.42c-.3.57-1.1.66-1.56.2-.3-.3-.38-.78-.17-1.16a6.55 6.55 0 0 0 .48-1.17c.12-.42.5-.7.94-.7h.02c.65 0 1.14.62.96 1.24a8.51 8.51 0 0 1-.67 1.59zM9 16.3c0 .65.62 1.14 1.24.96a7.85 7.85 0 0 0 1.59-.66c.57-.3.66-1.1.2-1.56L12 15a.97.97 0 0 0-1.16-.17c-.37.2-.76.37-1.16.5-.4.12-.7.5-.7.94v.02z"/></svg>'},t.formCheckboxCheckmark=function(){return'<svg width="25px" height="25px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <g id="user-registration" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n          <g id="Edit---form---styles" transform="translate(-143.000000, -42.000000)">\n              <g id="Icons---Desktop/form-icon/checkbox_checked-Copy-3" transform="translate(143.000000, 42.000000)">\n                  <path d="M18.7954951,7.70450487 C19.2034535,8.11246328 19.2325934,8.75578935 18.8829148,9.19737171 L18.7954951,9.29549513 L11.7954951,16.2954951 C11.3561553,16.734835 10.6438447,16.734835 10.2045049,16.2954951 C10.1392203,16.2302106 10.0836368,16.1588985 10.0377545,16.0833504 L6.34711789,12.3922415 C5.90777806,11.9529017 5.90777806,11.240591 6.34711788,10.8012512 C6.7550763,10.3932928 7.39840236,10.3641529 7.83998473,10.7138316 L7.93810814,10.8012512 L11.023,13.886 L17.2045049,7.70450487 C17.6438447,7.26516504 18.3561553,7.26516504 18.7954951,7.70450487 Z" id="Path" fill="#FFFFFF" fill-rule="nonzero"></path>\n              </g>\n          </g>\n      </g>\n    </svg>'},t}();e.IconRepository=i},,,,,function(t,e,n){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.AssetsManager=void 0;var r,o=n(74),a=n(107),s=n(98),c=n(8),l=n(64);!function(t){t[t.pageNum=0]="pageNum",t[t.x=1]="x",t[t.y=2]="y",t[t.XWidth=3]="XWidth",t[t.fontName=4]="fontName",t[t.fontSize=5]="fontSize",t[t.textCount=6]="textCount",t[t.text=7]="text"}(r||(r={}));var u=function(){function e(t){this.numFilesUploaded=0,this.uploadedObjects={},this.optsManager=t,this.initAssetsUploader(),e.instance=this,this.limits=t.limits}return e.getInstance=function(){return e.instance},e.prototype.getStaticTextsForPage=function(e){var n=this,i=this.workerServer+"/v1/pdfrender/text/"+this.taskId+"/"+this.serverFilename+"/"+e+"?token="+window.ilovepdfConfig.token;return new Promise(function(e,r){t.get(i).done(function(t){return e(n.textRequestToObject(t))}).fail(function(t,e,n){return r(n)})})},e.fontsForWritingSystems=function(t,e){void 0===e&&(e=!0);var n=null,r={};1===t.length?(n=c.Lang.fontsForWritingSystem(t[0]),"latin"===t[0]&&n.concat(c.Lang.fontsForWritingSystem("indic"))):"latin,indic"===t.join(",")&&(n=c.Lang.fontsForWritingSystem("indic")),n||(n=c.Lang.fontsForWritingSystem("unknown")),e&&n.forEach(function(t){c.Lang.loadFont(t)});var o=i.extend({},c.Lang.getFontsInfo());for(var a in delete o.impact,o)r[a]={enabled:n.includes(a),human_name:o[a]["human-name"]};return r},e.prototype.textRequestToObject=function(t){var e=[],n=this.pointsToPixels;return t.forEach(function(t){var i=t[r.text];if(!(i.trim().length<=0)){var o={x_inPts:Number(t[r.x]),y_inPts:Number(t[r.y]),XWidth_inPts:Number(t[r.XWidth]),fontSize_inPts:Number(t[r.fontSize])},a={x:n(o.x_inPts),y:n(o.y_inPts),XWidth:n(o.XWidth_inPts),fontSize:n(o.fontSize_inPts),pageNum:Number(t[r.pageNum]),textCount:Number(t[r.textCount]),fontName:t[r.fontName],text:i,x_inPts:o.x_inPts,y_inPts:o.y_inPts,XWidth_inPts:o.XWidth_inPts,fontSize_inPts:o.fontSize_inPts};e.push(a)}}),e},e.prototype.upload=function(t){if(!t.extractSvg())throw"[Editpdf][AssetsManager] Do not know how to upload CanvasObject type '"+t.type+"'";this.uploadSvg(t),this.numFilesUploaded++},e.prototype.uploadSvg=function(t){for(var e=t.id+".svg",n=t.extractSvg(),i=this.domElementToString(n),r=i.length,o=new Uint8Array(r);r--;)o[r]=i.charCodeAt(r);var a=new Blob([o]);t.bag.uploader||(t.bag.uploader={}),this.uploadedObjects[e]=t,t.bag.uploader.uploaderName="AssetsManager",t.bag.uploader.filename=e,t.bag.uploader.uploaded=!1,this.uploader.uploader.addFile(a,e)},e.prototype.allFilesHaveBeenAddedToUploader=function(){return this.uploader.files.files.length===this.numFilesUploaded},e.prototype.pointsToPixels=function(t){return t*(1/.75)},Object.defineProperty(e.prototype,"taskId",{get:function(){return this.optsManager.processManager.taskId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverFilename",{get:function(){return this.optsManager.pdfFile.server_filename.replace(".pdf","")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"workerServer",{get:function(){return this.optsManager.workerServer},enumerable:!1,configurable:!0}),e.prototype.domElementToString=function(t){var e=t.cloneNode(!0),n=document.createElement("div");if(n.appendChild(e),l.isIE11())for(;e.getAttribute("xmlns");)e.removeAttribute("xmlns");return n.innerHTML.replace(/<\/svg><\/svg>/g,"</svg>")},Object.defineProperty(e.prototype,"pdfFile",{get:function(){return this.optsManager.pdfFile},enumerable:!1,configurable:!0}),e.prototype.initAssetsUploader=function(){this.files=new o.FileStack,this.uploader=new a.PluploadUpload(this.pluploadInitParams)},e.prototype.changeServer=function(t){},e.prototype.timeout=function(){},e.prototype.checkLimits=function(t,e){return t},e.prototype.fileUploaded=function(t,e){this.files.updateFile(t,e);var n=this.files.getFile(t),i=this.uploadedObjects[n.name];i.bag.uploader.server_filename=n.server_filename,i.bag.uploader.uploaded=!0},e.prototype.fileAdded=function(t,e,n){return new Promise(function(t,e){})},Object.defineProperty(e.prototype,"pluploadInitParams",{get:function(){var e=window,n=t("<div id='editpdf--assets_manager'></div>"),i=t("<button id='editpdf--assets_manager--btn'></div>");return n.append(i),n.css("display","none"),t("body").append(n),{id:i.attr("id"),container:n.attr("id"),optionsManager:this,config:new s.Config({tool:"editpdf",subtool:"editpdf",config:{editpdf:{mimeTypes:[{title:"svgs",extensions:"svg"}],multiSelection:!1}}}),files:this.files,workerServer:e.ilovepdf.processManager.workerServer,tool:"editpdf",servers:[],token:e.ilovepdf.processManager.token,taskId:e.ilovepdf.processManager.taskId,ignoreFiles:!0}},enumerable:!1,configurable:!0}),e.prototype.fileChanged=function(t){},e.instance=null,e}();e.AssetsManager=u}).call(this,n(1),n(1))},,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.UploaderStatus=void 0;var n=function(){function e(){}return e.set=function(e){var n=this;this.uploadInterval&&(clearInterval(this.uploadInterval),this.uploadInterval=null),this.uploadInterval=setInterval(function(){var i=0,r=0,o=0;t.each(e.files,function(t,e){100==e.percent&&r++,o++,i+=e.percent}),t(".uploading__bar--small .uploading__bar__completed").css("width",i/o+"%"),o>0&&(t(".uploading__bar--small").show(),t(".uploading__status__percent").show()),r==o&&(window.setTimeout(function(){t(".uploading__bar--small").hide()},1e3),clearInterval(n.uploadInterval))},100)},e.uploadInterval=null,e}();e.UploaderStatus=n}).call(this,n(1))},function(t,e,n){"use strict";(function(t){var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.StandardControls=void 0;var o=n(312),a=n(208),s=n(442),c=n(279),l=n(278),u=n(276),d=n(277),p=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.isResizing=!1,t.isResizingEnabled=!1,t.savedState={},t}return r(n,e),n.prototype.fetchControlsDom=function(){return t(this.getGizmoTemplate())},n.prototype.initControls=function(){e.prototype.initControls.call(this),this.hasResizingCapabilities()&&this.initAnchorResizing(),this.hideGizmo()},n.prototype.hasResizingCapabilities=function(){return!0},n.prototype.refreshGizmo=function(t){void 0===t&&(t=null),t||(t=this.canvasObj.getGizmoSize()),this.setGizmoSize(t.w,t.h)},n.prototype.setGizmoSize=function(t,e){var n=function(t){return String(t)+"px"},i=this.padding,r=t+2*i+2,o=e+2*i+2,a=r+10,s=o+10;this.controlsDom.css({width:n(a),height:n(s)});var c=-(i+1+5),l=-(i+1+5);this.controlsDom.css({top:n(c),left:n(l)});var u=this.controlsDom.find(".surface-rect");u.attr("x",5),u.attr("y",5),u.attr("width",r),u.attr("height",o),u.css("stroke-width",String(1)),this.controlsDom.find(".anchor_top").attr("x",a/2-5),this.controlsDom.find(".anchor_top").attr("y",0),this.controlsDom.find(".anchor_top_left").attr("x",0),this.controlsDom.find(".anchor_top_left").attr("y",0),this.controlsDom.find(".anchor_top_right").attr("x",a-10),this.controlsDom.find(".anchor_top_right").attr("y",0),this.controlsDom.find(".anchor_left").attr("x",0),this.controlsDom.find(".anchor_left").attr("y",s/2-5),this.controlsDom.find(".anchor_right").attr("x",a-10),this.controlsDom.find(".anchor_right").attr("y",s/2-5);var d=s-10;this.controlsDom.find(".anchor_bottom").attr("x",a/2-5),this.controlsDom.find(".anchor_bottom").attr("y",d),this.controlsDom.find(".anchor_bottom_left").attr("x",0),this.controlsDom.find(".anchor_bottom_left").attr("y",d),this.controlsDom.find(".anchor_bottom_right").attr("x",a-10),this.controlsDom.find(".anchor_bottom_right").attr("y",d)},n.prototype.enable=function(){return e.prototype.enable.call(this),this.enableResizing(),this},n.prototype.disable=function(){return e.prototype.disable.call(this),this.disableResizing(),this},n.prototype.showGizmo=function(t){return void 0===t&&(t={}),this.applyDomVisibilityProps(t,!0,"visible"),this},n.prototype.hideGizmo=function(t){return void 0===t&&(t={}),this.applyDomVisibilityProps(t,!1,"visible"),this},n.prototype.applyDomVisibilityProps=function(t,e,n){var i={container:e,anchors:e,rect:e,anchor:null};if(t.only){for(var r in i)i[r]=!e;i[t.only]=e}else if(t.except){for(var r in i)i[r]=e;i[t.except]=!e}else for(var r in i)i[r]=e;var o=["anchors","rect"].some(function(t){return!0===i[t]});for(var r in o&&(i.container=!0),i.container?this.controlsDom.addClass("visible"):this.controlsDom.removeClass("visible"),i.anchor=i.anchors,delete i.anchors,i){var a="rect"===r?"surface-rect":r,s=this.controlsDom.find("."+a);!0===i[r]?s.addClass(n):s.removeClass(n)}},n.prototype.enableResizing=function(){this.isResizingEnabled=!0,this.controlsDom.find(".anchor").addClass("enabled"),this.changeCursorTo(null)},n.prototype.disableResizing=function(){this.isResizingEnabled=!1,this.controlsDom.find(".anchor").removeClass("enabled"),this.changeCursorTo(null)},n.prototype.getGizmoTemplate=function(){return'\n    <svg id="'+this.domId+'" class=\'controls\' focusable="false">\n      <rect class="surface-rect" x="0" y="0"></rect>\n      <rect class="anchor anchor_top"          width="9" height="9" stroke-width="1" rx="2" ry="2"></rect>\n      <rect class="anchor anchor_top_left"     width="9" height="9" stroke-width="1" rx="2" ry="2"></rect>\n      <rect class="anchor anchor_top_right"    width="9" height="9" stroke-width="1" rx="2" ry="2"></rect>\n      <rect class="anchor anchor_right"        width="9" height="9" stroke-width="1" rx="2" ry="2"></rect>\n      <rect class="anchor anchor_left"         width="9" height="9" stroke-width="1" rx="2" ry="2"></rect>\n      <rect class="anchor anchor_bottom"       width="9" height="9" stroke-width="1" rx="2" ry="2"></rect>\n      <rect class="anchor anchor_bottom_left"  width="9" height="9" stroke-width="1" rx="2" ry="2"></rect>\n      <rect class="anchor anchor_bottom_right" width="9" height="9" stroke-width="1" rx="2" ry="2"></rect>\n    </svg>\n    '},n.prototype.reset=function(){},n.prototype.saveObjectState=function(){var t=this.canvasObj.getCoords(),e=this.canvasObj.getSize();this.savedState={coords:t,size:e}},n.prototype.clearSavedObjectState=function(){this.savedState=null},n.prototype.initAnchorResizing=function(){var e=this,n=this.controlsDom.find(".anchor"),i=this.canvasObj.controlAnchors;n.each(function(){var n=this,r=t(this),s=e.getAnchorName(r);-1!==t.inArray(s,i)?(r.mouseover(function(){var t=e.getAnchorName(r),n=r.attr("class").match(/cursor[^\s;]+/g),i="cursor-"+e.getAnchorCursor(t);n?i!=(n=n[0])&&(r.removeClass(n),r.addClass(i)):r.addClass(i)}),new o.Draggable(r,{mouseButton:a.MOUSE.LeftClick,onDragBegFn:function(t){e.saveObjectState()},onDragEndFn:function(t){e.isResizing&&(e.triggerEvent("resize:end",{anchor:r,stateBeforeDrag:e.savedState}),e.isResizing=!1,e.clearSavedObjectState()),n.inFrame=!1}},function(t){e.isResizing||(e.isResizing=!0,e.avoidTriggeringClickEvent=!0,e.triggerEvent("resize:begin")),e.doResize(r,t)})):r.remove()})},n.prototype.getAnchorName=function(t){var e=t.attr("class").split(/anchor_([^\s]+)\s?/)[1];if(!e)throw"Anchor name not found";return e},n.prototype.doResize=function(t,e){this.inFrame=!0,isNaN(e.x)&&(e.x=0),isNaN(e.y)&&(e.y=0);var n=new l.Viewport(u.Editor.viewport,e.mouseEvent).getPageCoords();if(null!==n&&!n.isOutsidePage){var i=d.MouseUtils.getHomogeneousCoords(e.mouseEvent,"screen"),r=d.MouseUtils.getHomogeneousCoords(e.startingMouseEvent,"screen"),o=this.getAnchorName(t),a=this.getAnchorCoordFrame(o),s=this.canvasObj.keepAlwaysAspectRatio||this.inputManager.isBeingPressed("Shift")&&0!==a.x&&0!==a.y,p=null,f=this.canvasObj.getSize(),h={x:i.x,y:i.y},v={x:r.x,y:r.y},g=this.canvasObj.pivotPoint,m=this.canvasObj.rotation,y=-1*m,b=c.CoordUtils.rotatePoint;0!=m&&(h=b(y,h,g),v=b(y,v,g));var _,w,x=this.savedState.size.w+(h.x-v.x)*a.x,O=this.savedState.size.h+(h.y-v.y)*a.y,S={w:x-f.w,h:O-f.h},E={x:0,y:0};s?f.w>f.h?(_=this.canvasObj.getMinPermittedWidth(),w=_*this.canvasObj.aspectRatio.h):(w=this.canvasObj.getMinPermittedHeight(),_=w*this.canvasObj.aspectRatio.w):(_=this.canvasObj.getMinPermittedWidth(),w=this.canvasObj.getMinPermittedHeight());var P=this.canvasObj.getSize().w<=_,k=this.canvasObj.getSize().h<=w;if(s){var C=(f.w+S.w)*this.canvasObj.aspectRatio.h;S.h=C-f.h}!function(t,e){(p={w:e.w+t.w,h:e.h+t.h}).w<_&&(e.w=_-t.w),p.h<w&&(e.h=w-t.h)}(f,S),-1===a.x&&(E.x=-1*S.w),-1===a.y&&(E.y=-1*S.h);var j=null,T=null;(P||k)&&((T={x:(j=t.offset()).left,y:j.top}).x+=8,T.y+=8,0!=m&&(T=b(y,T,g)));var M=d.MouseUtils.getHomogeneousCoords(e.mouseEvent,"page");0!=m&&(M=b(y,M,g)),P&&(1===a.x&&M.x<T.x?S.w=0:-1===a.x&&M.x>T.x&&(S.w=0)),k&&(1===a.y&&M.y<T.y?S.h=0:-1===a.y&&M.y>T.y&&(S.h=0)),s&&(P||k)&&(S.w>0&&S.h>0||(S.w=0,S.h=0)),this.canvasObj.resizeBy(S.w,S.h);var A=this.canvasObj.getCoords(),L=A.x,I=A.y,D=1===a.x?0:a.x,F=1===a.y?0:a.y,R={x:L+S.w*D,y:A.y+S.h*F};0!=m&&(R=b(m,R,g));var z={x:R.x-L,y:R.y-I};E.x=z.x,E.y=z.y,this.canvasObj.moveBy(E.x,E.y),this.canvasObj.updateDom(),this.inFrame=!1}},n.prototype.getAnchorCursor=function(t){var e=this.getAnchorCoordFrame(t),n=Math.round(this.canvasObj.rotation/45)+e.id;switch(n>8&&(n-=8),n){case 1:case 5:return"ns-resize";case 2:case 6:return"nesw-resize";case 4:case 8:return"nwse-resize";case 7:case 3:return"ew-resize";default:throw"No cursor for "+n}},n.prototype.getAnchorCoordFrame=function(t){switch(t){case"top":return{id:1,x:0,y:-1,name:"top"};case"top_right":return{id:2,x:1,y:-1,name:"top_right"};case"right":return{id:3,x:1,y:0,name:"right"};case"bottom_right":return{id:4,x:1,y:1,name:"bottom_right"};case"bottom":return{id:5,x:0,y:1,name:"bottom"};case"bottom_left":return{id:6,x:-1,y:1,name:"bottom_left"};case"left":return{id:7,x:-1,y:0,name:"left"};case"top_left":return{id:8,x:-1,y:-1,name:"top_left"};default:throw"[Editpdf][Controls] Unknown anchor '"+t+"'"}},n}(s.BasicControls);e.StandardControls=p}).call(this,n(1))},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.Draggable=void 0;var i=n(208),r=n(277),o=function(){function e(e,n,r){var o=this;n||(n={}),this.elem=e;var a=t(window);this.drag={x:0,y:0,state:!1,startingMouseEvent:null},this.triggeringMouseButton=n.mouseButton||i.MOUSE.LeftClick,this.filterFn=n.filterFn||null,this.onDragBegFn=n.onDragBegFn||null,this.onDragEndFn=n.onDragEndFn||null,this.elem[0].addEventListener("mousedown",this.onMouseDown.bind(this)),a[0].addEventListener("mouseup",this.onMouseUp.bind(this)),a[0].addEventListener("mousemove",this.onMouseMove.bind(this));var s=null;this.elem[0].addEventListener("touchstart",function(t){s=t,o.onMouseDown.call(o,t)}),a[0].addEventListener("touchmove",function(t){s=t,o.onMouseMove.call(o,t)}),a[0].addEventListener("touchend",function(t){o.onMouseUp.call(o,s),s=null}),r||(r=this._defaultCallback),this.callback=r}return e.prototype.endDrag=function(t){this.drag.state&&(this.drag.state=!1,this.drag.startingMouseEvent=null,this.onDragEndFn&&this.onDragEndFn(t))},e.prototype.onMouseDown=function(t){if(!this.filterFn||this.filterFn(t)){if(!this.drag.state&&(t.which==this.triggeringMouseButton||0===t.type.indexOf("touch"))){t.preventDefault();var e=r.MouseUtils.getHomogeneousCoords(t,"page");if(this.drag.x=e.x,this.drag.y=e.y,this.drag.state=!0,this.drag.startingMouseEvent=t,this.onDragBegFn)!1===this.onDragBegFn(t)&&this.endDrag(t)}return!1}},e.prototype.onMouseUp=function(t){this.drag.state&&this.endDrag(t)},e.prototype.onMouseMove=function(t){if(this.drag.state){var e={x:0,y:0,startingMouseEvent:null,mouseEvent:null},n=r.MouseUtils.getHomogeneousCoords(t,"page");e.x=n.x-this.drag.x,e.y=n.y-this.drag.y,e.startingMouseEvent=this.drag.startingMouseEvent,e.mouseEvent=t;var i=this.callback(e,this._defaultCallback.bind(this));this.drag.x=n.x,this.drag.y=n.y,!1===i&&this.endDrag(t)}},e.prototype._defaultCallback=function(t){var e=this.elem,n=e;if(!e.hasClass("app-object")){var i=e.closest(".app-object");if(i.length<=0)throw"Closest .app-object not found";n=i}var r=parseInt(n.css("top").replace("px","")),o=parseInt(n.css("left").replace("px",""));n.css({left:o+t.x+"px",top:r+t.y+"px"})},e}();e.Draggable=o}).call(this,n(1))},function(t,e,n){"use strict";(function(t){var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Shape=void 0;var o=n(234),a=n(444),s=function(e){function n(t){var n=e.call(this,t)||this;n._fillOpacity=1;var i=n.type;return n.shape||(n.shape=n.draw[i](100,100)),n}return r(n,e),Object.defineProperty(n.prototype,"type",{get:function(){return"shape"},enumerable:!1,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.svgInstance=a.SVG()},n.prototype.resizeDrawingSurface=function(t,e){this.svgInstance.size(t,e)},n.prototype.notifyDomAttachment=function(){e.prototype.notifyDomAttachment.call(this),this.svgInstance.addTo("#"+this.id)},Object.defineProperty(n.prototype,"draw",{get:function(){return this.svgInstance},enumerable:!1,configurable:!0}),n.prototype._updateDom=function(){},n.prototype.fillOpacity=function(t){return t?(this._fillOpacity=t,this):this._fillOpacity},n.prototype.fill=function(t){return t?(this._fill=t,this):this._fill},n.prototype.stroke=function(t){return t?(this._stroke=t,this):this._stroke},n.prototype.strokeWidth_x1=function(t){return t?(this._strokeWidth_x1=t,this):this._strokeWidth_x1},n.prototype.strokeWidth=function(t){return this.strokeWidth_x1(t/this.zoomLevel)},Object.defineProperty(n.prototype,"zoomedStrokeWidth",{get:function(){return this.strokeWidth()*this.zoomLevel},enumerable:!1,configurable:!0}),n.prototype.getFullSize=function(){var t=this.getSize();return{w:t.w,h:t.h}},n.prototype.getDefaultAttributes=function(){return Object.assign({},e.prototype.getDefaultAttributes.call(this),{strokeWidth:0})},n.prototype.setAttributes=function(t){void 0===t&&(t={}),e.prototype.setAttributes.call(this,t),"strokeWidth"in t&&(this._strokeWidth_x1=t.strokeWidth),"strokeColor"in t&&(this._stroke=t.strokeColor),"fillColor"in t&&(this._fill=t.fillColor)},Object.defineProperty(n.prototype,"fillColor",{get:function(){return this.fill()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"strokeColor",{get:function(){return this.stroke()},enumerable:!1,configurable:!0}),n.prototype.getAttributes=function(){return Object.assign({},e.prototype.getAttributes.call(this),{strokeWidth:this._strokeWidth_x1,strokeColor:this._stroke,fillColor:this._fill})},n.prototype.extractSvg=function(){var e=t(this.svgInstance.node.outerHTML);return e.find(".do-not-export").detach(),"transparent"===this.fillColor&&e.find(this.type).attr("fill-opacity","0"),e[0]},n}(o.CanvasObject);e.Shape=s}).call(this,n(1))},,,,,,,,function(t,e,n){"use strict";(function(t){var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&o(e,t,n);return a(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.Text=void 0;var c=n(234),l=n(8),u=n(286),d=n(17),p=s(n(16)),f=n(208),h="arial",v=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.inEditingMode=!1,t._fontSize=18,t._fontFamily=h,t.isDirty=!1,t.canSwapToEditMode=!1,t._isBold=!1,t._isItalics=!1,t._isUnderline=!1,t.textAlignment="left",t.lockedWidth=!1,t.writingSystems=["latin"],t.letterSpacing=0,t.lineHeight=1.2,t._hiddenText=null,t.translateX=0,t._currLimit_x1=void 0,t.isHiddenText=!1,t}return r(n,e),Object.defineProperty(n.prototype,"type",{get:function(){return"text"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"currLimit_x1",{get:function(){return this._currLimit_x1},set:function(t){this._currLimit_x1=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hiddenText",{get:function(){return this._hiddenText},set:function(t){this._hiddenText=t},enumerable:!1,configurable:!0}),n.prototype.setEditMode=function(){this.canSwapToEditMode&&!1===this.inEditingMode&&(this.hiddenText=this.createHiddenText(),window.Sentry.addBreadcrumb({message:"["+this.txtType+" - "+this.id+"] Creating hidden text from setting editMode to true"}),this.updateHiddenTextSize(),this.currLimit_x1=this.updatePageLimits(),this.inEditingMode=!0,this.textElem.addClass("in-edition-mode"),this.controls.disable().hideGizmo({except:"rect"}),this.controls.refreshGizmo(),this.contentEditableElem.focus(),this.setTextCursorAtEndOfString(),this.triggerCustomEvent("canvas_object:text_mode",{enabled:!0}),this.updateBackgroundColor(),this.textElem.css("text-align","left"));this.canSwapToEditMode=!0},n.prototype.hasTextBackgroundColor=function(){return"transparent"!=this.textBackgroundColor},n.prototype.getGizmoSize=function(){if(this.inEditingMode&&this.hiddenText){var t=this.hiddenText.getSize_x1();return t.w*=this.zoomLevel,t.h*=this.zoomLevel,t}return e.prototype.getGizmoSize.call(this)},n.prototype.createHiddenText=function(){var t=this.clone(this);return t.dom.addClass("hidden-text"),t.isHiddenText=!0,t.textFillColor="transparent",this.pdfPage.addObject(t),t.controls.disable(),t.updateDom(),t},n.prototype.updatePageLimits=function(){var t=this.calcPageLimit();return this.setSize_x1(t,null),t},n.prototype.calcPageLimit=function(){var t=this.getCoords_x1();return this.pdfPage.originalDimensions.w-t.x},n.prototype.init=function(){var n=this;e.prototype.init.call(this),this.makeParentContainerWide();var i=this.controls;this.isHiddenText||(i.on("fullClick",function(t){t.which===f.MOUSE.LeftClick&&n.setEditMode()}),this.controls.on("resize:end",function(t){n._updateInternalCoords(void 0,t.stateBeforeDrag.coords.y),n.textElem.height(""),n.controls.refreshGizmo(),n.canSwapToEditMode=!0,n.lockWidth(),n.updateDom()}),this.controls.on("drag:end",function(){n.canSwapToEditMode=!0}),this.contentEditableElem.on("compositionend ",function(t){var e=t.originalEvent.data;e.length>0&&n.setWritingSystems(n.contentEditableElem.text()+e)}),this.contentEditableElem.on("keypress",function(e){if(!n.isActiveElement)return e.preventDefault(),t(e.target).blur(),void p.captureMessage("Editpdf: Somehow Text is not activeElement but contentEditableElem is focused. Blurring Text");var i=String.fromCharCode(e.keyCode),r=n.contentEditableElem.text()+i;n.setWritingSystems(r)}),this.contentEditableElem.on("input",function(t){if(n.inEditingMode){var e="deleteContentBackward"===t.originalEvent.inputType;n.triggerCustomEvent("canvas_object:text:input",{canvasObject:n,text:n.contentEditableElem.text()}),/Edge/.test(navigator.userAgent)||n.moveTextUpIfOverflowsAtTheBottomOfPage(e),n.updateAura()}}))},n.prototype.moveTextUpIfOverflowsAtTheBottomOfPage=function(t){var e=this.pdfPage.img.closest(".page-canvas")[0],n=e.scrollHeight-e.clientHeight;n>0&&!t&&(n+=1*this.zoomLevel,this.hiddenText&&(this.hiddenText.moveBy(0,-1*n),this.hiddenText.updateDomCoordinates()),this.moveBy(0,-1*n),this.updateDomCoordinates())},Object.defineProperty(n.prototype,"txtType",{get:function(){return this.isHiddenText?"Hidden text":"Normal text"},enumerable:!1,configurable:!0}),n.prototype.updateHiddenTextSize=function(){var t=this,e="["+this.txtType+" - "+this.id+"] updateHiddenTextSize; ";this.hiddenText||(e+="Hidden text instance not found; "),this.hiddenText.textElem||(e+="Hidden text is empty; "),this.hiddenText.textElem&&this.hiddenText.textElem.length<=0&&(e+="Hidden text is empty 2; "),this.textElem||(e+="Root text is empty; "),window.Sentry.addBreadcrumb({message:e});var n=null;try{n=this.hiddenText.contentEditableElem[0],this.hiddenText.text=this.contentEditableElem.html()}catch(t){throw window.Sentry.addBreadcrumb({message:"Inside custom catch of updateHiddenTextSize"}),"Inside custom catch of updateHiddenTextSize"}n.innerHTML=this.hiddenText.text;var i=this.currLimit_x1?this.currLimit_x1:this.calcPageLimit(),r=function(){return t.hiddenText.getSize_x1().w>=i};r()?this.hiddenText.setSize_x1(i,null):(this.hiddenText.unlockWidth(),r()&&this.hiddenText.setSize_x1(i,null))},n.prototype.updateAura=function(){this.updateHiddenTextSize(),this.controls.refreshGizmo()},n.prototype.setWritingSystems=function(t,e){void 0===e&&(e=!0);var n=this.writingSystems,i=l.Lang.detectWritingSystems(t);this.writingSystems=i;var r=n.join(",")!==i.join(",");return r&&(this.reassignFontFamilyIfNecessary(),e&&this.triggerCustomEvent("canvas_object:text:writing_system_change",{canvasObject:this})),r},n.prototype.reassignFontFamilyIfNecessary=function(){var t=u.AssetsManager.fontsForWritingSystems(this.writingSystems);if(this.fontFamily||(this.fontFamily=h),!1===t[this.fontFamily].enabled){for(var e in this.fontFamily=null,t)if(!0===t[e].enabled){this.fontFamily=e;break}if(null===this.fontFamily)throw"[Editpdf][Text CanvasObject] Was not possible to find an enabled font for the current writing systems"}},n.prototype.postInit=function(){e.prototype.postInit.call(this)},n.prototype.initDom=function(){var n=this;e.prototype.initDom.call(this),this.textElem=t("<div class='text-content' spellcheck='false'><div class='contenteditable-wrapper'><div contenteditable='true'></div></div></div>"),this.contentEditableElem=this.textElem.find("[contenteditable]"),this.contentEditableElem.attr("tabindex","-1"),this.dom.append(this.textElem),this.contentEditableElem.on("keydown",function(){n.isDirty=!0}),this.contentEditableElem.on("paste",function(t){var e;t.preventDefault();var i=!t.originalEvent.clipboardData;e=(e=i?window.clipboardData.getData("Text"):t.originalEvent.clipboardData.getData("text/plain")).replace(/\r\n/g,"\n"),i?document.execCommand("paste",!1,e):document.execCommand("insertText",!1,e),n.setWritingSystems(e),n.triggerCustomEvent("canvas_object:text:input",{canvasObject:n,text:e})})},n.prototype.getSize=function(){var t=this.textElem[0].getBoundingClientRect();return{w:t.width,h:t.height}},n.prototype.getSize_x1=function(){return{w:this.textElem.width(),h:this.textElem.height()}},n.prototype.setSize=function(t,e){return t&&(t/=this.zoomLevel,this.textElem.width(t)),e&&(e/=this.zoomLevel,this.textElem.height(e)),this},n.prototype.setSize_x1=function(t,e){return t&&this.textElem.width(t),e&&this.textElem.height(e),this},n.prototype.unlockWidth=function(){this.textElem.width(""),this.currLimit_x1=void 0,this.lockedWidth=!1},n.prototype.lockWidth=function(){this.setSize(this.getSize().w,null),this.lockedWidth=!0},n.prototype.updateBackgroundColor=function(){this.inEditingMode&&this.hiddenText?this.textElem.css("background","transparent"):this.textElem.css("background",this.textBackgroundColor)},n.prototype._updateDom=function(){var t=this.contentEditableElem;this.updateBackgroundColor(),t.css("fontFamily",this.fontFamily),this.isDirty&&(this.text=this.contentEditableElem.html(),this.isDirty=!1),this.isBold?t.css("font-weight","800"):t.css("font-weight","400"),this.isItalics?t.css("font-style","italic"):t.css("font-style","normal"),this.isUnderline?t.css("text-decoration","underline"):t.css("text-decoration","none"),t.css("font-size",this.fontSize+"px"),t.css("text-align",this.textAlignment),t.css("color",this.textFillColor),this.inEditingMode?this.textElem.css("text-align","left"):this.textElem.css("text-align",this.textAlignment),t.css("line-height",String(this.lineHeight*this.fontSize)+"px"),t.html(this.text)},n.prototype.applyZoomAndTranslate=function(t){e.prototype.applyZoomAndTranslate.call(this,t),this.updateTransformOnTextElem()},n.prototype._setUserAttributes=function(t){e.prototype._setUserAttributes.call(this,t),"textFillColor"in t&&(n.currentDefaultFillTextColor=t.textFillColor),"textBackgroundColor"in t&&(n.currentDefaultBackgroundColor=t.textBackgroundColor),this.inEditingMode&&this.hiddenText?(this.hiddenText.setAttributes(this.getTextOnlyAttributes()),this.hiddenText.textFillColor="transparent",this.hiddenText.updateDom(),this.updateAura()):this.inEditingMode||this.hiddenText||(this.hiddenText=this.createHiddenText(),window.Sentry.addBreadcrumb({message:"["+this.txtType+" - "+this.id+"] Creating hidden text from activeElement in nonEditing mode"}),this.currLimit_x1=this.updatePageLimits(),this.updateHiddenTextSize(),this.hiddenText.textFillColor="transparent",this.hiddenText.setAttributes(this.getTextOnlyAttributes()),this.trimToFit(),this.updateAura(),this.hiddenText.remove(!1),this.hiddenText=null,window.Sentry.addBreadcrumb({message:"["+this.txtType+" - "+this.id+"] Setting hiddenText to null from activeElement in nonEditing mode"}))},n.prototype.makeParentContainerWide=function(){this.dom.width("100000px")},n.prototype.updateTransformOnTextElem=function(){var t="translateX("+this.translateX+"px) scale("+this.zoomLevel+")";this.textElem.css("transform",t),this.textElem.css("transform-origin","inherit")},n.prototype.onEditingModeOff=function(){this.textElem.removeClass("in-edition-mode"),this.trimToFit(),this.hiddenText.remove(!1),window.Sentry.addBreadcrumb({message:"["+this.txtType+" - "+this.id+"] setting hiddenText to null from onEditingModeOff"}),this.hiddenText=null,this.textElem.css("text-align",this.textAlignment)},n.prototype.doesOverflowOccurs=function(){var t=this.calcPageLimit();return this.unlockWidth(),this.getSize_x1().w>=t},n.prototype._makeActiveElement=function(){},n.prototype.trimToFit=function(){if(this.doesOverflowOccurs()){if(!this.hiddenText)throw"[Editpdf] Hidden text missing";this.updateHiddenTextSize(),this.setSize_x1(this.hiddenText.getSize_x1().w,null)}},n.prototype._makeInactiveElement=function(){this.canSwapToEditMode=!1,this.clearTextSelection();var t=!0===this.inEditingMode;this.inEditingMode=!1,t&&(this.onEditingModeOff(),this.triggerCustomEvent("canvas_object:text_mode",{enabled:!1})),this.isEmpty()&&this.remove()},n.prototype.isEmpty=function(){return""===t.trim(this.contentEditableElem.text())},n.prototype.clearTextSelection=function(){if(window.getSelection){var t=window.getSelection();t.rangeCount>0&&t.getRangeAt(0).getClientRects().length>0&&t.removeAllRanges()}else document.selection&&document.selection.empty()},n.prototype.selectAllText=function(){this.contentEditableElem.focus(),window.document.execCommand("selectAll",!1,null)},n.prototype.firstTimeActiveElement=function(){this.canSwapToEditMode=!0,this.setEditMode(),this.selectAllText()},n.prototype.isSelectableArea=function(t){return t.is(".text-content")||t.closest(".text-content").length>0||t.is(".controls")||t.closest(".controls").length>0},n.prototype.setAttributes=function(t){void 0===t&&(t={}),e.prototype.setAttributes.call(this,t),"fontFamily"in t&&(this.fontFamily=t.fontFamily),"fontSize"in t&&(this.fontSize=t.fontSize),"isBold"in t&&(this.isBold=t.isBold),"isItalics"in t&&(this.isItalics=t.isItalics),"isUnderline"in t&&(this.isUnderline=t.isUnderline),"textAlignment"in t&&(this.textAlignment=t.textAlignment),"textFillColor"in t&&(this.textFillColor=t.textFillColor),"textBackgroundColor"in t&&(this.textBackgroundColor=t.textBackgroundColor),"text"in t&&(this.text=t.text)},n.prototype.getDefaultAttributes=function(){return Object.assign({},e.prototype.getDefaultAttributes.call(this),{textFillColor:n.currentDefaultFillTextColor,textBackgroundColor:n.currentDefaultBackgroundColor})},n.prototype.setSizeInProportionToPageSize=function(t){var e=this.pdfPage,i={w:Number(e.originalDimensions_inPoints.w),h:Number(e.originalDimensions_inPoints.h)},r=i.w>i.h?"w":"h",o=this.createHiddenText();o.fontSize=1,o.updateDom();var a={w:o.contentEditableElem.width(),h:o.contentEditableElem.height()};o.fontSize=2,o.updateDom();var s={w:o.contentEditableElem.width(),h:o.contentEditableElem.height()},c=null,l=function(e){c=t*i[e]/(s[e]/a[e]),o.fontSize=d.Tools.getClosestNumber(c,n.getAvailableFontSizes()),o.updateDom(),o.unlockWidth()};l(r);var u=o.textElem[0].getBoundingClientRect();if(u.width>e.dimensions.w||u.height>e.dimensions.h){var p="w"===r?"h":"w";l(p)}this.fontSize=o.fontSize,o.remove(!1)},n.getAvailableFontSizes=function(){return[4,6,8,10,12,14,18,24,36,48,64,72,96,144,192,200]},n.prototype.getAttributes=function(){return Object.assign({},e.prototype.getAttributes.call(this),this.getTextOnlyAttributes())},n.prototype.getTextOnlyAttributes=function(){return{text:this.text,textAlignment:this.textAlignment,textFillColor:this.textFillColor,textBackgroundColor:this.textBackgroundColor,fontFamily:this.fontFamily,fontSize:this.fontSize,isBold:this.isBold,isItalics:this.isItalics,isUnderline:this.isUnderline}},n.prototype.clone=function(t){var e=t,i=new n(e.pdfPage);i.cloned=!0,i.cloning=!0,i.zoomLevel=e.zoomLevel;var r=e.getAttributes();return r.size_x1.h=null,i.setAttributes(r),i.lockedWidth=e.lockedWidth,i.cloning=!1,i.updateTransformOnTextElem(),i},Object.defineProperty(n.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this._fontFamily=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize=Number(t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isBold",{get:function(){return this._isBold},set:function(t){this._isBold=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isItalics",{get:function(){return this._isItalics},set:function(t){this._isItalics=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isUnderline",{get:function(){return this._isUnderline},set:function(t){this._isUnderline=t},enumerable:!1,configurable:!0}),n.prototype.setTextCursorAtEndOfString=function(){var t,e;document.createRange?((t=document.createRange()).selectNodeContents(this.contentEditableElem[0]),t.collapse(!1),(e=window.getSelection()).removeAllRanges(),e.addRange(t)):document.selection&&((t=document.body.createTextRange()).moveToElementText(this.contentEditableElem[0]),t.collapse(!1),t.select())},Object.defineProperty(n.prototype,"innerElem",{get:function(){return this.textElem},enumerable:!1,configurable:!0}),n.getInitialTextValue=function(){return l.Lang.t("canvasObject_yourTextHere")},n.prototype.hasInitialTextValue=function(){var t=n.getInitialTextValue();return this.contentEditableElem.text().match(new RegExp("^"+t+"\\s\\d+$","g"))},n.currentDefaultFillTextColor="#000000",n.currentDefaultBackgroundColor="transparent",n}(c.CanvasObject);e.Text=v}).call(this,n(1))},function(t,e,n){"use strict";(function(t){var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.SvgObject=void 0;var o=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),Object.defineProperty(n.prototype,"svg",{get:function(){return this._svg},set:function(t){this._svg=t},enumerable:!1,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this)},n.prototype.setSvgElement=function(e){"string"==typeof e&&(e=t(e)[0]),this.svg=e},n.prototype.setAttributes=function(t){void 0===t&&(t={}),e.prototype.setAttributes.call(this,t),"svg"in t&&(this.svg=this.setSvgElement(t.svg))},n.prototype._updateDom=function(){var t=this.svg;t.setAttribute("width",this.size.w),t.setAttribute("height",this.size.h),this.viewBox&&t.setAttribute("viewBox",this.viewBox)},n.prototype.setViewBox=function(t,e,n,i){this.viewBox=t+" "+e+" "+n+" "+i},n.prototype.scaleSvg=function(t){this.svg;this._updateInternalCoords(this.coords.x*t,this.coords.y*t),this._updateInternalDims(this.size.w*t,this.size.h*t)},n.prototype.setSize=function(t,e){var n=this.svg.getAttribute("viewBox");if(!n){var i=this.getSize();n="0 0 "+i.w+" "+i.h}var r=n.split(" ").map(function(t){return parseFloat(t)});return(r={x:r[0],y:r[1],w:r[2],h:r[3]}).w=t,r.h=e,this._updateInternalDims(r.w,r.h),this},n.prototype.applyZoomAndTranslate=function(t){var e=t/this.zoomLevel;this.zoomLevel=t,this.scaleSvg(e)},n.prototype.extractSvg=function(){return this.svg},n}(n(234).CanvasObject);e.SvgObject=o}).call(this,n(1))},function(t,e,n){"use strict";(function(t){var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.FormTextbox=void 0;var o=n(280),a=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.fontSize=16,t.fontFamily="Verdana",t._cachedValue=void 0,t.queuedFocus=null,t}return r(n,e),Object.defineProperty(n.prototype,"type",{get:function(){return"formtextbox"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hasControls",{get:function(){return!1},enumerable:!1,configurable:!0}),n.prototype.getSize=function(){return{w:this.dom.width(),h:this.dom.height()}},n.prototype.initDom=function(){var i=this,r=this;if(this.fontSize=this.pdfFormField.fontSize*this.pdfPage.pixelMagnification*n.fontSizeLowerConstant,e.prototype.initDom.call(this),this.setCoords_x1(this.calculatedWidgetSizeAndCoords_x1.coords_x1.x,this.calculatedWidgetSizeAndCoords_x1.coords_x1.y),this.setSize_x1(this.calculatedWidgetSizeAndCoords_x1.size_x1.w,this.calculatedWidgetSizeAndCoords_x1.size_x1.h),this.isMultiline)this.inputText=t("<textarea></textarea>"),this.inputText.css("overflow","hidden"),this.inputText.css("resize","none"),this.pdfFormField.scrollFlag&&(this.inputText.focusin(function(){i.inputText.css("overflow-y","auto")}),this.inputText.focusout(function(){i.inputText.css("overflow","hidden")}));else{var o=this.pdfFormField.passwordFlag?"password":"text";this.inputText=t("<input type='"+o+"'>")}this.inputText.css("text-align",this.pdfFormField.textAlignment),this.pdfFormField.readOnlyFlag&&this.inputText.prop("readonly",!0),this.inputText.attr("spellcheck",String(!!this.pdfFormField.spellCheckFlag)),this.dom.append(this.inputText),this.inputText.attr("tabindex",this.tabindex),void 0!==this.pdfFormField.maxTextLen&&this.pdfFormField.maxTextLen>0&&this.inputText.attr("maxlength",String(this.pdfFormField.maxTextLen)),this.inputText.on("input",function(t){r.cachedValue=r.inputText.val()}),this.inputText.on("keydown",function(t){r.isOneCharInput()&&(r.isPrintableCharEvent(t)&&(r.cachedValue="",r.inputText.val("")),t.originalEvent.key.match(/^[0-9]$/g)?r.queuedFocus="next":[n.backspaceKeycode,n.suprKeycode].includes(t.originalEvent.keyCode)&&(r.queuedFocus="prev"))}),this.inputText.on("keyup",function(t){if(r.queuedFocus){var e=null;e="next"===r.queuedFocus?r.nextFormObject:r.prevFormObject,r.queuedFocus=null,e&&"formtextbox"===e.type&&e.isOneCharInput()&&r.triggerCustomEvent("form_manager:input:focus_change_request",{canvasObject:this,newFocus:e})}}),this.inputText[0].addEventListener("compositionend",function(t){r.isOneCharInput()&&t.data&&(i.cachedValue=t.data[0],i.inputText.val(t.data[0]))}),this.determineFormAttrName()},n.prototype.determineFormAttrName=function(){var t=this.formId.toLowerCase(),e=null;t.match(/phone/g)?e="phone":t.match(/email/g)?e="email":t.match(/number/g)?e="number":t.match(/name/g)&&(e="name"),e&&this.inputText.attr("name",e)},n.prototype.isPrintableCharEvent=function(t){var e=t.originalEvent,n=e.keyCode,i=n>47&&n<58||n>64&&n<91||n>95&&n<112||n>185&&n<193||n>218&&n<223;return(e.ctrlKey&&"Control"!==e.key||e.altKey&&"Alt"!==e.key||e.metaKey&&"Meta"!==e)&&(i=!1),i},n.prototype._updateDom=function(){var t=this.inputText;t.addClass("text-content");var e=this.padding;this.inputText.css("width",this.size.w),this.inputText.css("height",this.size.h),this.inputText.css("border-radius",5*this.zoomLevel+"px"),t.css("fontSize",this.fontSize*this.zoomLevel),t.css("fontFamily",this.fontFamily),t.css("padding",e.top+"px "+e.right+"px "+e.bottom+"px "+e.left+"px"),t.html(this.text)},Object.defineProperty(n.prototype,"inputs",{get:function(){return this.inputText},enumerable:!1,configurable:!0}),n.prototype.initInputValue=function(){this._cachedValue=this.pdfFormField.textValue,this.inputText.val(this.pdfFormField.textValue)},n.prototype.getInputValue=function(){return this.inputText.val()},n.prototype.validate=function(){var t={};this.isRequired&&(this.cachedValue&&this.cachedValue.trim().length>0||(t[o.VALIDATION_ERROR.Required]=!0));return Object.keys(t).length>0?this.setFlagWithValidationError():this.clearFlagWithValidationError(),t},Object.defineProperty(n.prototype,"cachedValue",{get:function(){return this._cachedValue},set:function(t){this._cachedValue=t,this.notifyListenersOfChange(),this._updateSiblings()},enumerable:!1,configurable:!0}),n.prototype._updateSiblings=function(){var t=this;this.siblings.forEach(function(e){e._cachedValue=t._cachedValue,e.inputText.val(t._cachedValue),e.notifyListenersOfChange()})},Object.defineProperty(n.prototype,"exportValue",{get:function(){return this.cachedValue},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"initialExportValue",{get:function(){return this.pdfFormField.textValue},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isMultiline",{get:function(){return!!this.pdfFormField.multilineFlag},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"maxTextLength",{get:function(){return this.pdfFormField.maxTextLen},enumerable:!1,configurable:!0}),n.prototype.isOneCharInput=function(){return!this.isMultiline&&1===this.maxTextLength},n.prototype.isTextFull=function(){return this.cachedValue.length>=this.pdfFormField.maxTextLen},n.prototype.isTextEmpty=function(){return 0===this.cachedValue.length},n.backspaceKeycode=8,n.suprKeycode=46,n.fontSizeLowerConstant=.9,n}(o.FormBase);e.FormTextbox=a}).call(this,n(1))},,,,,,,,,,,,,,function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.IlovepdfTool=void 0;var o=n(147),a=n(437),s=function(t){function e(e){void 0===e&&(e={});var i=t.call(this,e)||this;return i.configData=n(110),window.configData=i.configData,i.init(),i}return r(e,t),e.prototype.getOptionsManager=function(){return new a.EditpdfOptionsManager(this.getToolOptions())},e.prototype.getToolOptions=function(){return{processManager:this.processManager,tool:this.tool,subtool:this.subtool,toolText:this.toolText,startServer:this.startServer,workerServer:this.workerServer,defaultOptions:this.defaultOptions,files:this.files,screenSize:this.screenSize,pdfViewer:this.pdfViewer,config:this.config,fileLimits:this.fileLimits,allFileLimits:this.allFileLimits,level:this.level,levelTemp:this.levelTemp,userToken:this.userToken}},e}(o.IloveTool);e.IlovepdfTool=s},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.r(e),function(t){n(436),n(168),n(102);var e=n(179),i=n(337);n(99),n(101),t.Sortable=e.a,window.site="ilovepdf",window.ilovepdf=new i.IlovepdfTool(window.ilovepdfConfig),window.userModel=window.ilovepdfConfig.user}.call(this,n(32))},function(t,e,n){},function(t,e,n){"use strict";(function(t){var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&o(e,t,n);return a(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.EditpdfOptionsManager=void 0;var c=n(83),l=n(438),u=n(276),d=n(469),p=n(470),f=n(286),h=n(471),v=n(8),g=n(310),m=s(n(16)),y=n(13),b=n(472),_=n(473),w=function(e){function n(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n._numCanvasObjectsPlaced=0,n.pulseDoneOnce=!1,n.formManager=null,n.editorConfig=new b.EditorConfig({}),window.pdfinfo=!0,window.pdfforms=n.editorConfig.formsEnabled,window.pdfresetforms=n.editorConfig.emptyFormInputs,n.processManager.afterFilesLoaded=function(t,e){n.updateServerFilenameOfCanvasObjects();for(var i=0;i<n.options.elements.length;i++)["image","svg"].includes(n.options.elements[i].type)&&(n.options.elements[i].server_filename&&0!==String(n.options.elements[i].server_filename).length||(m.captureMessage("This image has no server_filename!",y.Severity.Debug),delete n.options.elements[i])),n.options.elements[i]&&delete n.options.elements[i].canvas_obj_id;return n.processBlock=!1,n.options.elements=n.options.elements.filter(function(t){return void 0!==t}),n.options},n}return r(n,e),Object.defineProperty(n.prototype,"numCanvasObjectsPlaced",{get:function(){return this._numCanvasObjectsPlaced},set:function(t){this._numCanvasObjectsPlaced=t},enumerable:!1,configurable:!0}),n.prototype.updateServerFilenameOfCanvasObjects=function(){var t=this;this.editor.getAllExportableCanvasObjects().forEach(function(e){e.bag.uploader&&(t.options.elements.find(function(t){return t.canvas_obj_id===e.id}).server_filename=e.bag.uploader.server_filename)})},n.prototype.timeout=function(){},n.prototype.addButtonTask=function(){e.prototype.addButtonTask.call(this),t("#processTask").attr("tabindex","-1"),this.disableProcessBtn(v.Lang.t("processBtn_atLeastOneElem"))},n.prototype.checkProcessPulse=function(){var t=this.formManager,n=!t||0===t.validate().length;(this.numCanvasObjectsPlaced>0||n)&&(this.pulseDoneOnce||(e.prototype.checkProcessPulse.call(this),this.pulseDoneOnce=!0))},n.prototype.populateFileStack=function(t){var e=this.processManager.files,n=[];t.files.forEach(function(t){e.files.find(function(e){return e.id===t.id})||n.push(t)}),n.forEach(function(t){return e.files.push(t)})},n.prototype.uploadCanvasObjects=function(t){var e=this;t.forEach(function(t){void 0!==t.bag.uploader||e.assetsManager.upload(t)})},n.prototype.beforeProcess_sendGoogleAnalyticsEvents=function(){for(var t=this.editor.getAllCanvasObjects().filter(function(t){return!t.isFormObject}).reduce(function(t,e){return e.type in t||(t[e.type]=0),t[e.type]++,t},{}),e=0,n=Object.entries(t);e<n.length;e++){var i=n[e],r=i[0],o=i[1];window.ga("send","event","editpdf","element-type",r,o)}},n.prototype.toggleNonInteractiveWall=function(e){var n=t(".non-interactive-wall").length>0;!n&&e?t("body").append("<div class='non-interactive-wall'>"):n&&!e&&t(".non-interactive-wall").detach()},n.prototype.onBeforeProcessReject=function(n){this.toggleNonInteractiveWall(!1),n&&"no-elements"===n.reason?(this.disableProcessBtn(v.Lang.t("processBtn_atLeastOneElem")),t("#processTask").removeClass("pulse")):e.prototype.onBeforeProcessReject.call(this,n)},n.prototype.beforeProcess=function(){var t=this,n=this;this.toggleNonInteractiveWall(!0),this.editor.activeCanvasObject&&this.editor.setActiveCanvasObject(null),clearInterval(this.keepalive_interval),this.keepalive_interval=void 0;var i=this.editor.getCleanCanvasObjectsForDelivery(this.editor.getAllExportableCanvasObjects());if(i.length<=0)return this.initPollToKeepAliveFiles(),Promise.reject({reason:"no-elements"});var r=[];i.forEach(function(e){if("text"===e.type){var n=e;if(n.hasTextBackgroundColor()){var i=t.editor.pageStack.createObject(n.pdfPage,"rect",{append:!0}),o=n.getSize_x1(),a=n.getCoords_x1();i.setSize_x1(o.w,o.h),i.setCoords_x1(a.x,a.y),i.setAttributes({fillColor:n.textBackgroundColor}),i.hide(),i.zindex=e.zindex-1,i.updateDom(),i.bag.options_temporary=!0,r.push(i)}}}),r.forEach(function(t){return i.push(t)}),clearInterval(this.keepalive_interval),this.keepalive_interval=void 0;return new Promise(function(o,a){t.processManager.api.touchTask(t.processManager.taskId).catch(function(t){[window.ilovepdf.uploadManager.plupload].concat(n.editpdfUploaders.map(function(t){return t.uploader})).forEach(function(t){return t.reUploadAllFiles()})}).then(function(){t.processManager.files;t.beforeProcess_sendGoogleAnalyticsEvents();var n=i.filter(function(t){return!("text"===t.type||t.isFormObject)});t.uploadCanvasObjects(n);var s=0;e.prototype.beforeProcess.call(t).then(function(){t.fillOptions(i);var e=setInterval(function(){s++,t.editpdfUploaders.every(function(t){return t.allFilesHaveBeenAddedToUploader()})?(t.mergeFilestacksOfAllUploaders(),clearInterval(e),o()):s>=10&&(clearInterval(e),t.initPollToKeepAliveFiles(),r.forEach(function(t){return t.remove(!1)}),a())},100)})})})},n.prototype.mergeFilestacksOfAllUploaders=function(){var t=this;this.editpdfUploaders.forEach(function(e){t.populateFileStack(e.files)})},n.prototype.fillOptions=function(t){this.options={};var e=this.options;e.tool=this.tool,e.elements=[];for(var n,i,r=function(){var r=t[a];if(r.isFormObject)return"formElements"in e||(e.formElements=[]),n=new h.CanvasObjectExporter(r),e.formElements.push(n.export()),"continue";"text"===r.type?o.editor.splitTextInLinesAndCalculatePositions(r).forEach(function(t){var n=r.clone(r),i=new h.CanvasObjectExporter(n);i.overridden_text=t.text,i.overridden_coords_x1=t.coords,i.overridden_size_x1=t.size;var o=i.export();o.background_color="transparent",e.elements.push(o)}):(n=new h.CanvasObjectExporter(r),i=n.export(),e.elements.push(i))},o=this,a=0;a<t.length;a++)r()},Object.defineProperty(n.prototype,"editpdfUploaders",{get:function(){return[this.assetsManager,this.imageUploader]},enumerable:!1,configurable:!0}),n.prototype.startPanels=function(){e.prototype.startPanels.call(this),this.initTogglePreview()},n.prototype.startPanelsParent=function(){e.prototype.startPanels.call(this)},n.prototype.fileAdded=function(e,n,i){var r=this;void 0===i&&(i=!1);var o=this;return g.UploaderStatus.set(this.files),new Promise(function(n,i){t(".sidetools").hide(),"chained"==e.origin&&o.fileFromChainedAction(e),r.makeWorkarea().then(function(){}),n()})},n.prototype.fileFromChainedAction=function(t){if("chained"===t.origin){var e=this;this.processManager.api.query("get","pdfrender/"+this.processManager.taskId+"/"+t.server_filename.substring(0,t.server_filename.length-4)).then(function(n){e.fileUploaded(t.id,n)})}},n.prototype.fileUploaded=function(n,i){var r=this.files.getFile(n);(i.pages=i.pdf_page_number,r||(m.configureScope(function(t){t.setExtra("fileUploadedResponse",i)}),m.captureMessage("[Editpdf] File uploaded from Dropbox in IE11 not found")),r.reUploaded)?this.files.updateFile(n,i):(e.prototype.fileUploaded.call(this,n,i),this.abortIfFileUploadHasErrors(n)?(t(".tool__sidebar__inactive").fadeOut(),t(".tool__sidebar").css("overflow-y","auto"),t(".sidetools").hide(),this.onPdfReadyToBeRendered(r,i)):t(".sidetools").show())},n.prototype.abortIfFileUploadHasErrors=function(e){var n=this.files.getFile(e);return 1==n.password?(this.fileAddError(n.id,!0,v.Lang.t("ProtectedFile")),t(".wait").hide(),!1):!!n.pdf_pages||(this.fileAddError(n.id,!0,"DamagedFile"),t(".wait").hide(),!1)},n.prototype.disableFileUploading=function(){document.body.addEventListener("dragenter",function(t){t.preventDefault(),t.stopPropagation()},!0),document.body.addEventListener("dragleave",function(t){t.preventDefault(),t.stopPropagation()},!0),document.body.addEventListener("drop",function(t){t.preventDefault(),t.stopPropagation()},!0),t(".tool__workarea").off("dndHoverStart").off("dndHoverEnd")},n.prototype.onPdfReadyToBeRendered=function(e,n){this.pdfFile=e,this.pdfRenderer=new _.PdfRenderer(e,{taskId:this.processManager.taskId,renderServer:this.workerServer,config:this.editorConfig});var i=this.pdfRenderer;this.assetsManager=new f.AssetsManager(this),this.disableFileUploading(),this.showMenu(),this.addEditorPages(e),this.initHandlersForProcessButtonAvailability(),this.addPreviewPages(e),this.addPreviewActions(e),i.renderPreviewPages(1,this.editorConfig.firstRender_pages_rendered_num),this.initEditor(e,n.pdf_forms,i),this.initlayersPanel(),this.initMenu(),this.initPageActiveTracker(),this.initImageUploader(),this.editpdfMenu.updateValues(),this.initPollToKeepAliveFiles();var r=function(){return t(".preview__page").height()},o=t(".tool__preview__pages")[0];t(".tool__preview__pages")[0].addEventListener("scroll",function(t){var e=Math.ceil(o.clientHeight/r())+2,n=Math.ceil(o.scrollTop/r());i.renderPreviewPages(n-e,n+e/2)})},n.prototype.checkForProcessButtonAvailability=function(){var e=this.formManager,n=!0,i=void 0;if(e){var r=e.validate();n=0===r.length;var o=r.filter(function(t){return"required"in t.errors}).length,a=o>1?"plural":"singular";n||(i=v.Lang.t("forms_required_fields_pending_"+a,{num_fields:o})),t("body").attr("data-editpdf-form-errors-count",String(o))}else 0===this.numCanvasObjectsPlaced&&(i=v.Lang.t("processBtn_atLeastOneElem"),n=!1);n?(this.enableProcessBtn(),this.checkProcessPulse()):(this.disableProcessBtn(i),t("#processTask").removeClass("pulse"))},n.prototype.focusOnNextFormInputWithError=function(){var e=t(".canvas-object.canvas-object--has-validation-errors");if(0!==e.length){var n=t(".canvas-object--has-validation-errors.canvas-object--error-last-focused").eq(0),i=null;if(0===n.length)i=e.eq(0);else{var r=e.index(n);if(-1===r)i=e.eq(0);else{var o=(r+1)%e.length;i=e.eq(o)}}n.removeClass("canvas-object--error-last-focused"),i.addClass("canvas-object--error-last-focused"),i.find(":input").eq(0).focus()}},n.prototype.initHandlersForProcessButtonAvailability=function(){var e=this,n=this;window.addEventListener("editpdf:form:init",function(i){e.formManager=i.detail.formManager;var r=e.formManager;r.validate(!0),e.checkForProcessButtonAvailability(),t("body").addClass("editpdf--has-forms"),r.onFieldChange(function(t){e.checkForProcessButtonAvailability()});var o=t("#processTaskWrapper");o.length,o.on("click",function(){t(this);parseInt(t("body").attr("data-editpdf-form-errors-count"))>0&&(t(".editor__content").addClass("show-form-contour-error"),n.focusOnNextFormInputWithError())})}),window.addEventListener("canvas_object:created",function(t){var n=t.detail.canvasObject;if(n.isCreatedViaUserInteraction()){if(!n.createdByParent)return}else if(!n.isObjectFinished)return;n.placedInCanvas||(n.placedInCanvas=!0,e.numCanvasObjectsPlaced++),e.checkForProcessButtonAvailability()}),window.addEventListener("canvas_object:removed",function(t){var n=t.detail.canvasObject;e.numCanvasObjectsPlaced>=1&&e.numCanvasObjectsPlaced--,n.placedInCanvas=!1,e.checkForProcessButtonAvailability()}),window.addEventListener("editor:interactive:no_longer_empty",function(t){var n=t.detail.canvasObject;n.markedForDestruction||(n.placedInCanvas=!0,e.numCanvasObjectsPlaced++,e.checkForProcessButtonAvailability())})},n.prototype.initImageUploader=function(){this.imageUploader=new p.ImageUploader(this.editpdfMenu)},n.prototype.initlayersPanel=function(){var e=t(".option__panel");this.layersPanel=new d.LayersPanel(e)},n.prototype.initPageActiveTracker=function(){var e,n=this;t(".tool__workarea").on("scroll",function(){e&&window.clearTimeout(e),e=window.setTimeout(function(){n.setViewportPageActive()},50)})},n.prototype.initMenu=function(){this.editpdfMenu=new l.EditpdfMenu({files:this.files,editor:this.editor,layersPanel:this.layersPanel}),this.editpdfMenu.refreshMenu()},n.prototype.showMenu=function(){t("#editpdf-menu-toolbar").removeClass("hidden")},n.prototype.initEditor=function(e,n,i){if(!this._pdf_rendered_once)return this._pdf_rendered_once=!0,this.editor=new u.Editor({config:this.editorConfig,optionsInstance:this,file:e,container:t(".editor__content").eq(0),assetsManager:this.assetsManager,forms:n,pdfRenderer:i}),window.peditor=this.editor,this.editor},n.prototype.initPollToKeepAliveFiles=function(){var t=this;if(!this.keepalive_interval){var e=this.editorConfig.filesKeepAliveInterval_ms;this.keepalive_interval=setInterval(function(){t.processManager.api.touchTask(t.processManager.taskId).then(function(t){},function(e){clearInterval(t.keepalive_interval),t.keepalive_interval=void 0,t.allUploaders.forEach(function(t){return t.reUploadAllFiles()})})},e)}},Object.defineProperty(n.prototype,"allUploaders",{get:function(){return[window.ilovepdf.uploadManager.plupload].concat(this.editpdfUploaders.map(function(t){return t.uploader}))},enumerable:!1,configurable:!0}),n.prototype.initTogglePreview=function(){t(".tool__preview__toggle").on("click",function(){t(".editpdf-menu-wrapper").toggleClass("unfolded"),t(".tool__preview").toggleClass("closed"),t(".tool__preview__toggle").toggleClass("closed")})},n.prototype.addEditorPages=function(e){for(var n=0;n<parseInt(e.pages);n++){e.pdf_pages[n].split("x");var i=n+1,r="";1===i?r=" first-page":i%2==0&&(r=" even");var o='<img class="pdf_img" id="page_'+e.id+"_"+i+'">',a='<div class="editor__page'+r+" file_"+e.id+'" data-file="'+e.id+'" data-page="'+i+'"><div class="page-canvas">'+o+"</div></div>";t(".editor__content").append(a),t(".editor__content").append('<div class="page-canvas-break"></div>')}},n.prototype.addPreviewPages=function(e){for(var n=0;n<parseInt(e.pages);n++){var i=e.pdf_pages[n].split("x"),r=n+1,o=94*parseFloat(i[1])/parseFloat(i[0]);t(".tool__preview__pages").append('<div class="preview__page file_'+e.id+'" data-file="'+e.id+'" data-page="'+r+'"><img id="preview_'+e.id+"_"+r+'" width="94" height="'+o+'"><div>'+r+"</div></div>")}},n.prototype.addPreviewActions=function(e){t(".preview__page.file_"+e.id+" img").on("click",function(e){t(".preview__page").removeClass("active"),t(e.currentTarget).parent().addClass("active");var n=t(e.currentTarget).parent().attr("data-file"),i=t(e.currentTarget).parent().attr("data-page"),r=t('.editor__page[data-file="'+n+'"][data-page="'+i+'"]');t("#workArea")[0].scrollTop=r.position().top})},n.prototype.setViewportPageActive=function(){var e=0,n=null,i=t(".tool__workarea").scrollTop(),r=t(".tool__workarea").height(),o=i+r;if(t(".editor__page").each(function(a,s){var c=t(s).offset().top,l=t(s).outerHeight(),u=c+l;if(c<r&&u>0){var d=0;d=c<0&&u>r?r:c<0&&u>0&&u<r?u:c<r&&u>r?r-c:c>0&&c<r&&u<r?l:0;Math.min(u,o),Math.max(c,i);d>0&&e<d&&(e=d,n=s)}}),null!=n){var a=t(n).attr("data-file"),s=t(n).attr("data-page"),c=t('.preview__page[data-file="'+a+'"][data-page="'+s+'"]');t(".preview__page").removeClass("active"),c.addClass("active"),this.editpdfMenu.refreshMenu(),this.editor.updateActivePageNumber(parseInt(s)),t(".tool__preview__pages").animate({scrollTop:t(".tool__preview__pages").scrollTop()+c.offset().top-200},500)}},n.prototype.changeServer=function(t){e.prototype.changeServer.call(this,t),this.pdfRenderer&&(this.pdfRenderer.renderServer=t)},n}(c.OptionsManager);e.EditpdfOptionsManager=w}).call(this,n(1))},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.EditpdfMenu=void 0;var i=n(276),r=n(460),o=n(462),a=n(463),s=n(464),c=n(465),l=n(466),u=n(8),d=n(35),p=n(281),f=n(17),h=n(278),v=n(467),g=n(468),m=function(){function e(e){void 0===e&&(e={}),this.submenuCanvasObject=null,this.submenuInstance=null,this.handBtn=null,this.tippyMenuInstances={},this.toolsUnderShapeMenu=["line","rect","ellipse","symbol"],Object.assign(this,e),this.workArea=t("#workArea"),this.menu=t("#editpdf-menu-toolbar"),this.menuWrapper=this.menu.closest(".editpdf-menu-wrapper"),this.subMenu=t(".editpdf__submenu"),this.initMenuActions(),this.setEventListeners(),this.initTooltips(),this.initHandTool(),this.initFitViewportButtons(),this.triggerCustomEvent("editpdf:menu:ready",{menu:this})}return e.prototype.initFitViewportButtons=function(){var e=this,n=this.menu.find('[data-menu-action="fit_viewport_width"],[data-menu-action="fit_viewport_all"]'),r=this.addTooltip(this.menu.find('[data-menu-action="fit_viewport_all"]').closest(".editpdf__menu__block"),{text:u.Lang.t("tooltip_fitViewportAll")});n.click(function(n){var o=t(n.currentTarget),a=o.attr("data-menu-action");o.addClass("item--hidden"),o.siblings().eq(0).removeClass("item--hidden");var s=e.editor.getVisiblePageAndCenteredCoords(!0),c=new h.Viewport(i.Editor.viewport),l=(s.info.viewportRect.x0,s.info.viewportRect.y0);"fit_viewport_width"===a?(e.editor.fitViewport("width"),r.setContent(u.Lang.t("tooltip_fitViewportAll"))):(e.editor.fitViewport("all"),r.setContent(u.Lang.t("tooltip_fitViewportWidth"))),"single"===e.editor.pageStack.pageLayout?(e.editor.panTo(s.pdfPage,{x:.5,y:l,asRatio:!0},{x:.5,y:0,asRatio:!0}),e.editor.viewport.scrollLeft(c.scrollDistance.w/2)):(e.editor.panTo(s.pdfPage,{x:0,y:l,asRatio:!0},{x:0,y:0,asRatio:!0}),e.editor.viewport.scrollLeft(c.scrollDistance.w/2))})},e.prototype.initHandTool=function(){var t=this;this.handBtn=this.menu.find("[data-operation-mode='hand']"),this.handBtn.click(function(){t.handBtn.hasClass("hand--active")?t.disableHandTool():t.enableHandTool()})},e.prototype.enableHandTool=function(){this.handBtn.addClass("hand--active"),this.editor.unsetTransientOperationMode(),this.editor.changeOperationMode("hand"),this.editor.setActiveCanvasObject(null)},e.prototype.disableHandTool=function(){this.handBtn.removeClass("hand--active"),this.editor.clearHandOperationMode()},e.prototype.initTooltips=function(){this.addTooltip(this.menu.find(".editpdf__menu__option.prev"),{text:u.Lang.t("tooltip_navPageUp")}),this.addTooltip(this.menu.find(".editpdf__menu__option.next"),{text:u.Lang.t("tooltip_navPageDown")}),this.addTooltip(this.menu.find('.item[data-tool="text"]'),{text:u.Lang.t("tooltip_addText")}),this.addTooltip(this.menu.find('.item[data-tool="img"]'),{text:u.Lang.t("tooltip_addImage")}),this.addTooltip(this.menu.find('[data-menu-action="zoom_in"]'),{text:u.Lang.t("tooltip_zoomIn")}),this.addTooltip(this.menu.find('[data-menu-action="zoom_out"]'),{text:u.Lang.t("tooltip_zoomOut")}),this.addTooltip(this.menu.find('[data-operation-mode="hand"]'),{text:u.Lang.t("tooltip_pan")}),this.addTooltip(this.menu.find('.item[data-tool="freehand"]:not(.item__main)'),{text:u.Lang.t("tooltip_addFreehand")}),this.addTooltip(this.menu.find('[data-menu-action="show_shape_selector_submenu"]'),{text:u.Lang.t("tooltip_addShape")})},e.prototype.addTooltipToMenu=function(t,e){switch(t){case"line":return this.addTooltip(e.find('[data-tool="line"]'),{text:u.Lang.t("tooltip_addLine"),placement:"top"});case"rect":return this.addTooltip(e.find('[data-tool="rect"]'),{text:u.Lang.t("tooltip_addRect"),placement:"top"});case"ellipse":return this.addTooltip(e.find('[data-tool="ellipse"]'),{text:u.Lang.t("tooltip_addEllipse"),placement:"top"});case"layoutSinglePage":return this.addTooltip(e.find('[data-menu-item-action="changeToPageLayout_SinglePage"]'),{text:u.Lang.t("tooltip_layoutSinglePage"),placement:"bottom"});case"layoutDoublePage":return this.addTooltip(e.find('[data-menu-item-action="changeToPageLayout_DoublePage"]'),{text:u.Lang.t("tooltip_layoutDoublePage"),placement:"bottom"});case"layoutCoverPage":return this.addTooltip(e.find('[data-menu-item-action="changeToPageLayout_CoverPage"]'),{text:u.Lang.t("tooltip_layoutCoverPage"),placement:"bottom"})}throw"[Editpdf][Menu] Unknown shape "+t},e.prototype.addTooltip=function(t,e){var n="mouseenter",i="bottom";return e.trigger&&(n=e.trigger),e.placement&&(i=e.placement),window.tippy(t[0],{content:e.text,placement:i,arrow:!0,animation:"fade",trigger:n}),t[0]._tippy},e.prototype.refreshMenu=function(){var e=t(".preview__page.active");0==e.length&&(e=t(".preview__page").first());var n=this.files.getFile(e.attr("data-file"));this.currentFile=n.id,this.currentFilePages=parseInt(n.pages),this.currentPage=parseInt(e.attr("data-page")),this.updateValues()},e.prototype.setEventListeners=function(){var e=this;t(window).resize(function(){e.submenuInstance&&e.submenuInstance.design_alignFirstBlockWithMainMenu()}),this.editor.on("editor:active_canvas_object:change",function(t){var n=t.canvasObject;if(!n)return e.deselectActiveTool(),void e.hideSubMenu();e.updateSubmenuOptions(n),e.showSubMenu();n.type;e.deselectActiveTool(),e.selectTool(n.type,!0)}),this.menu.find('[data-menu-action="zoom_in"]').click(function(t){e.editor.zoomToCenterOfViewportOfActivePage(e.editor.nextZoomInValue)}),this.menu.find('[data-menu-action="zoom_out"]').click(function(t){e.editor.zoomToCenterOfViewportOfActivePage(e.editor.nextZoomOutValue)}),window.addEventListener("editpdf_menu:show_submenu",function(t){var e=t.detail.canvasObject;this.updateSubmenuOptions(e),this.showSubMenu(),this.selectTool(e.type)}.bind(this)),window.addEventListener("canvas_object:text:writing_system_change",function(t){t.detail.canvasObject;this.isSubmenuOpened()&&this.submenuCanvasObject&&"text"===this.submenuCanvasObject.type&&this.submenuInstance.updateFontFamily()}.bind(this)),window.addEventListener("editpdf_menu:deselect_hand_button",function(t){this.disableHandTool()}.bind(this)),window.addEventListener("editor:interactive:first_interaction",function(t){var n=t.detail.canvasObject,i=e.submenuInstance.canvasObject.id===n.id;e.submenuInstance&&i&&e.submenuInstance.triggerInternalEvent("interactive:first_interaction",t.detail)}),window.addEventListener("editor:interactive:no_longer_empty",function(t){var n=t.detail.canvasObject,i=e.submenuInstance.canvasObject.id===n.id;e.submenuInstance&&i&&e.submenuInstance.triggerInternalEvent("interactive:no_longer_empty",t.detail)})},e.prototype.initMenuActions=function(){var e=this,n=this;t(".next").on("click",function(){t("#workArea").is(":animated")||(n.currentPage<n.currentFilePages&&n.currentPage++,n.updateValues(),n.showCurrent())}),t(".prev").on("click",function(){t("#workArea").is(":animated")||(n.currentPage>1&&n.currentPage--,n.updateValues(),n.showCurrent())});var i=null;t("#editor_page").on("focus",function(){i=parseInt(t("#editor_page").val().toString())}).on("change",function(){var e=parseInt(t("#editor_page").val().toString());isNaN(e)?t("#editor_page").val(i):(e=f.Tools.keepInNumericBounds(1,n.currentFilePages,e),t("#editor_page").val(e),n.currentPage=e,n.showCurrent())}),this.menu.find(".item[data-tool]").click(function(n){var i=t(n.currentTarget).attr("data-tool");e.onMenuItemClick(i)}),this.initShapeSelectorBtn(),this.initGearMenu()},e.prototype.initShapeSelectorBtn=function(){var t=this;this.menu.find('[data-menu-action="show_shape_selector_submenu"]').click(function(e){t.onMenuItemClick("show_shape_selector_submenu"),t.updateSubmenuOptions("shape_selector"),t.showSubMenu()})},e.prototype.changeToPageLayout_SinglePage=function(){this.editor.setPageLayoutMode("single"),window.ga("send","event","editpdf","page-layout","single")},e.prototype.changeToPageLayout_DoublePage=function(){this.editor.setPageLayoutMode("double"),window.ga("send","event","editpdf","page-layout","double")},e.prototype.changeToPageLayout_CoverPage=function(){this.editor.setPageLayoutMode("cover"),window.ga("send","event","editpdf","page-layout","cover")},e.prototype.initGearMenu=function(){var e=this,n=this,i=this.menu.find("[data-menu-action='open_gear_menu']");if(this.editor.isSinglePagePdf())return i.addClass("disabled",!0),void i.prop("disabled",!0);this.addTooltip(i,{text:u.Lang.t("tooltip_layoutBtn")});var r=null;r=this.editor.isTwoPagePdf()?"\n          <div id='tippy-gear-menu'>\n            <div data-menu-item-action=\"changeToPageLayout_SinglePage\">"+p.IconRepository.pageLayoutSinglePage()+'</div>\n            <div data-menu-item-action="changeToPageLayout_DoublePage">'+p.IconRepository.pageLayoutDoublePage()+"</div>\n          </div>\n        ":"\n          <div id='tippy-gear-menu'>\n            <div data-menu-item-action=\"changeToPageLayout_SinglePage\">"+p.IconRepository.pageLayoutSinglePage()+'</div>\n            <div data-menu-item-action="changeToPageLayout_DoublePage">'+p.IconRepository.pageLayoutDoublePage()+'</div>\n            <div data-menu-item-action="changeToPageLayout_CoverPage">'+p.IconRepository.pageLayoutCoverPage()+"</div>\n          </div>\n        ",window.tippy("[data-menu-action='open_gear_menu']",{content:r,allowHTML:!0,trigger:"click",theme:"light tippy-gear-menu",interactive:!0,placement:"bottom",onHide:function(){i.removeClass("tippy-active")},onMount:function(r){var o=t(r.popper).find(".tippy-content");if(i.addClass("tippy-active"),!o.hasClass("bootstrapped")){o.addClass("bootstrapped");var a=o.find("#tippy-gear-menu [data-menu-item-action]");e.tippyMenuInstances.layoutSinglePage=n.addTooltipToMenu("layoutSinglePage",o),e.tippyMenuInstances.layoutDoublePage=n.addTooltipToMenu("layoutDoublePage",o),e.editor.isTwoPagePdf()||(e.tippyMenuInstances.layoutCoverPage=n.addTooltipToMenu("layoutCoverPage",o)),a.click(function(){var e=t(this).attr("data-menu-item-action"),i="layout"+e.split(/_(.+)$/)[1];switch(n.tippyMenuInstances[i].hide(),e){case"changeToPageLayout_SinglePage":n.changeToPageLayout_SinglePage();break;case"changeToPageLayout_DoublePage":n.changeToPageLayout_DoublePage();break;case"changeToPageLayout_CoverPage":n.changeToPageLayout_CoverPage();break;default:throw"[Editpdf][Menu] Unknown method "+e}r.hide()})}}})},e.prototype.enableShapeTooltip=function(){d.Tooltip.enable(this.menu.find("#shape-selector .items-container"))},e.prototype.disableShapeTooltip=function(){d.Tooltip.disable(this.menu.find("#shape-selector .items-container"))},e.prototype.onMenuItemClick=function(t,e){void 0===e&&(e={}),this.disableHandTool(),this.deselectActiveTool(),this.hideSubMenu(),this.selectTool(t),this.editor.notifyOfToolSelection(t,e)},e.prototype.isSubmenuOpened=function(){return!this.subMenu.closest(".editpdf-submenu-wrapper").hasClass("submenu-hidden")},e.prototype.selectTool=function(t,e){void 0===e&&(e=!1),this.editor.currentTool=t;var n=this.menu.find("[data-tool='"+t+"']");n.length<=0&&(n=this.menu.find('[data-menu-action="'+t+'"]')),("img"!==t||e)&&(n.length<=0&&this.toolsUnderShapeMenu.includes(t)&&(n=this.menu.find('[data-menu-action="show_shape_selector_submenu"]')),n.addClass("item__selected"),n.closest(".editpdf__menu__block").addClass("active"))},e.prototype.deselectActiveTool=function(){this.editor.currentTool="none",this.menu.find(".item").removeClass("item__selected"),this.menu.find(".editpdf__menu__block").removeClass("active")},e.prototype.showSubMenu=function(){this.subMenu.closest(".editpdf-submenu-wrapper").removeClass("submenu-hidden"),this.workArea.addClass("submenu-opened")},e.prototype.hideSubMenu=function(){this.subMenu.attr("data-name",""),this.subMenu.closest(".editpdf-submenu-wrapper").addClass("submenu-hidden"),this.workArea.removeClass("submenu-opened"),this.submenuCanvasObject=null,this.submenuInstance=null},e.prototype.updateSubmenuOptions=function(t){this.subMenu.empty();var e=null,n=null;if("object"==typeof t&&t.type)n=t.type,e=t,this.submenuCanvasObject=e;else{if("string"!=typeof t)throw"[Editpdf] Invalid param type";n=t,this.submenuCanvasObject=null}var i=null;switch(n){case"img":i=new r.SubmenuImg(e,this);break;case"rect":i=new o.SubmenuRect(e,this);break;case"ellipse":i=new a.SubmenuEllipse(e,this);break;case"text":i=new s.SubmenuText(e,this);break;case"line":i=new c.SubmenuLine(e,this);break;case"freehand":i=new l.SubmenuFreehand(e,this);break;case"shape_selector":i=new v.SubmenuShapeSelector(null,this);break;case"symbol":i=new g.SubmenuSymbol(e,this);break;default:throw"[Editpdf SubmenuBase] Not handled Submenu for Canvas Object type "+e.type}i.render(),i.design_alignFirstBlockWithMainMenu(),this.submenuInstance=i},e.prototype.getTemplate=function(e){switch(e){case"block":return t("<div class='editpdf__menu__block'></div>")}},e.prototype.updateValues=function(){this.currentPage&&t("#editor_page").val(this.currentPage),this.currentFilePages&&t("#editor_pages").html(this.currentFilePages.toString())},e.prototype.showCurrent=function(){var e=t('.editor__page[data-file="'+this.currentFile+'"][data-page="'+this.currentPage+'"]');t("#workArea").animate({scrollTop:e.position().top},500)},e.prototype.triggerCustomEvent=function(t,e){void 0===e&&(e={});var n=new CustomEvent(t,{detail:e});window.dispatchEvent(n)},e}();e.EditpdfMenu=m}).call(this,n(1))},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.PageStack=void 0;var i=n(440),r=n(277),o=n(321),a=n(443),s=n(445),c=n(446),l=n(447),u=n(449),d=n(451),p=n(323),f=n(452),h=n(453),v=n(454),g=n(455),m=n(456),y=n(276),b=n(278),_=function(){function e(e,n,i){this.VALID_PAGE_LAYOUTS=["single","double","cover"],this.pages=[],this.pagesContainer=null,this.groupPagesContainer=null,this.canvasObjectsCreationCount=0,this.allCanvasObjects={},this._zoom=1,this.pageLayout=null,this.file=e,this.viewport=n,this.pdfRenderer=i,this.initPages(),this.initEventHandlers(),this.pagesContainer=t(".editor"),this.groupPagesContainer=t(".editor__content"),null===this.pageLayout&&this.setPageLayoutMode("single"),this.adjustPagesContainerWidth()}return e.prototype.initPages=function(){var t=null,e=null,n=null,r=this.file.pdf_page_number<5?this.file.pdf_page_number:5;this.visiblePageRange=[1,r];for(var o=1;o<=this.file.pdf_page_number;o++){var a=o-1,s=this.file.pdf_pages[a].split("x"),c=new i.PdfPage({domId:"page_"+this.file.id+"_"+o,originalDimensions_inPoints:{w:s[0],h:s[1]},pixelMagnification:2,pageNumber:o,pdfRenderer:this.pdfRenderer});t?c.dimensions.w>t.dimensions.w&&(e=t,t=c):(t=c,e=c),n?c.dimensions.h>n.dimensions.h&&(n=c):n=c,this.pages.push(c),c.scale(1),c.updateDomPageContainer(),this.pageInVisibleRange(c)&&c.updateDom()}this._largestWidthPage=t,this._secondLargestWidthPage=e,this._largestHeightPage=n},Object.defineProperty(e.prototype,"largestWidthPage",{get:function(){return this._largestWidthPage},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"secondLargestWidthPage",{get:function(){return this._secondLargestWidthPage},enumerable:!1,configurable:!0}),e.prototype.addStaticTextsTo=function(t,e){e.forEach(function(e){return t.addStaticText(e)})},e.prototype.setPageLayoutMode=function(t){if(!this.VALID_PAGE_LAYOUTS.includes(t))throw"Unknown page layout mode "+t;this.pageLayout=t,this.pagesContainer.attr("data-page-layout",t)},e.prototype.getCanvasObjectById=function(t,e){return void 0===e&&(e=null),e?this.getPage(e).findObjectById(t):this.allCanvasObjects[t]},e.prototype.getCanvasObjectsByFormId=function(t){var e=[];for(var n in this.allCanvasObjects)if(this.allCanvasObjects[n].isFormObject){var i=this.allCanvasObjects[n];i.formId===t&&e.push(i)}return e},e.prototype.initEventHandlers=function(){window.addEventListener("canvas_object:remove_request",this.handleRemoveCanvasObjectRequest.bind(this)),window.addEventListener("canvas_object:remove_request:all",this.handleRemoveCanvasObjectRequestAll.bind(this)),window.addEventListener("pdf_page:canvas_object:detached",this.handleDetachedObjectFromPdfPage.bind(this))},e.prototype.handleRemoveCanvasObjectRequest=function(t){var e=t.detail.canvasObject;"string"==typeof e&&(e=this.getCanvasObjectById(e)),this.removeObject(e)},e.prototype.handleRemoveCanvasObjectRequestAll=function(t){for(var e in this.allCanvasObjects){var n=this.allCanvasObjects[e];this.removeObject(n)}},e.prototype.handleDetachedObjectFromPdfPage=function(t){var e=t.detail.canvasObject;this.allCanvasObjects[e.id]=void 0,delete this.allCanvasObjects[e.id]},e.prototype.identifyPage=function(t){var e=r.MouseUtils.identifyClickedPage(t);return e?this.pages[parseInt(e.data("page"))-1]:null},e.prototype.getPage=function(t){return this.pages[t-1]},e.prototype.setZoom=function(t){var e=this;this.pages.forEach(function(n){n.scale(t),n.updateDomPageContainer(),e.pageInVisibleRange(n)&&n.updateDom()}),this._zoom=t,this.adjustPagesContainerWidth()},e.prototype.adjustPagesContainerWidth=function(){var e=function(t){return t+"px"},n=this.getPagesContainerWidth(),r=(new b.Viewport(y.Editor.viewport),null),o=t("#ad"),a=o.find(".adsbygoogle");o.width(""),r=a.is(":visible")&&a.width()>n?a.width()+i.PdfPage.aroundSpacingAt(1):n,o.width(r),this.pagesContainer.css("width",e(r)),this.groupPagesContainer.css("width",e(n))},e.prototype.getPagesContainerWidth=function(t){void 0===t&&(t=!1);var e=this.pageLayout,n=this._largestWidthPage,r=this._secondLargestWidthPage,o=t?1:this._zoom,a=0;if(!this.VALID_PAGE_LAYOUTS.includes(e))throw"Unknown page layout mode "+e;var s=function(t){var e=t.pageDimensionsAt(o),n=2*i.PdfPage.aroundSpacingAt(o);return e.w+n};switch(e){case"single":a=s(n);break;case"double":case"cover":a=s(n)+s(r)}return a},e.prototype.getPagesContainerHeight=function(t){void 0===t&&(t=!1);var e=this.pageLayout,n=this._largestHeightPage,r=t?1:this._zoom;if(!this.VALID_PAGE_LAYOUTS.includes(e))throw"Unknown page layout mode "+e;var o,a;return o=n.pageDimensionsAt(r),a=2*i.PdfPage.aroundSpacingAt(r),o.h+a},e.prototype.setVisiblePageRange=function(t,e){if(t<=0)throw"[PdfPage] 'from' should be at least 1";if(e>this.numPages)throw"[PdfPage] There are no more than "+this.numPages+" pages";var n=[t,e];!(n[0]===this.visiblePageRange[0]&&n[1]===this.visiblePageRange[1])&&(this.visiblePageRange=n,this.updateDomForPageRange(this.visiblePageRange[0],this.visiblePageRange[1]))},e.prototype.updateDomForPageRange=function(t,e){for(var n=t-1;n<e;n++)this.pages[n].updateDom()},e.prototype.pageInVisibleRange=function(t){var e=this.visiblePageRange[0],n=this.visiblePageRange[1];return e<=t.pageNumber&&n>=t.pageNumber},e.prototype.getVisiblePages=function(){for(var t=this.visiblePageRange,e=t[0],n=t[1],i=[],r=e;r<=n;r++)i.push(this.getPage(r));return i},e.prototype.appendToPage=function(t,e){t.addObject(e),this.lastPlacedObject=e,this.allCanvasObjects[e.id]=e,t.updateDom()},e.prototype.orderObjects=function(t,e){var n=this.getPage(e);n.reset_zindex();var i=this.pageInVisibleRange(n);t.reverse().map(function(t){return n.findObjectById(t)}).forEach(function(t){t.zindex=n.zindex_autoincrement(),i&&t.updateDom()})},e.prototype.cloneObject=function(t,e){void 0===e&&(e={});var n=null;switch(t.type){case"text":case"rect":case"ellipse":case"line":case"freehand":case"img":case"symbol":n=t.clone(t);break;default:throw"[Editpdf][CanvasObject] Not supported cloning type "+t.type}var i=t.pdfPage;return e.pdfPage&&(i=e.pdfPage),this.appendToPage(i,n),Object.keys(e).length>0&&n.setAttributes(e),n.createdByParent=t,n},e.prototype.createObject=function(t,e,n){void 0===n&&(n={});var i=null;switch(e){case"text":(i=new o.Text(t)).text=o.Text.getInitialTextValue()+" "+ ++this.canvasObjectsCreationCount;break;case"ellipse":i=new a.Ellipse(t);break;case"rect":i=new s.Rect(t);break;case"img":i=new c.Img(t);break;case"line":i=new l.Line(t);break;case"freehand":i=new u.Freehand(t);break;case"symbol":(i=new d.Symbol(t)).setSvgElement(n.svg),delete n.svg;break;case"form_textbox":(i=new p.FormTextbox(t)).initFormCapabilities(n.form);break;case"form_checkbox":(i=new f.FormCheckbox(t)).initFormCapabilities(n.form);break;case"form_radiobutton":(i=new h.FormRadiobutton(t)).initFormCapabilities(n.form);break;case"form_combobox":(i=new v.FormCombobox(t)).initFormCapabilities(n.form);break;case"form_listbox":(i=new g.FormListbox(t)).initFormCapabilities(n.form);break;case"form_combtext":(i=new m.FormCombtext(t)).initFormCapabilities(n.form);break;default:throw"Not handled "+e+" class"}return i.applyZoomAndTranslate(this.zoom),!0===n.append&&this.appendToPage(t,i),i.setAttributes(n),i.postInit(),i},e.prototype.createObjectInPage=function(t,e,n){return void 0===n&&(n={}),n.append=!0,this.createObject(t,e,n)},e.prototype.removeObject=function(t){return t.remove(),!0},Object.defineProperty(e.prototype,"zoom",{get:function(){return this._zoom},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"numPages",{get:function(){return this.pages.length},enumerable:!1,configurable:!0}),e.prototype.triggerCustomEvent=function(t,e){var n=new CustomEvent(t,{detail:e});window.dispatchEvent(n)},e}();e.PageStack=_}).call(this,n(1))},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.PdfPage=void 0;var i=n(441),r=n(286),o=function(){function e(t){this._zoomLevel=1,this.zindex_counter=0,this.canvasObjects=[],this.staticTexts=[],this.aroundSpacing=24,this.pixelMagnification=1,this.pageRenderedAtLeastOnce=!1,this._pageCanvas=null,this.currentDpi=-1,this.zoomChanged=!1,this.canvasObjectsChanged=!1,this.zindex_offset=10,this._dimensions={w:0,h:0},Object.assign(this,t);this.domId;var e=this.originalDimensions_inPoints,n=this.pixelMagnification;this.originalDimensions={w:e.w*n,h:e.h*n},this.disablePageDragAndDrop()}return e.prototype.disablePageDragAndDrop=function(){this.img[0].setAttribute("draggable","false"),this.img[0].setAttribute("ondragstart","return false"),this.img[0].setAttribute("ondrop","return false"),this.container[0].setAttribute("draggable","false"),this.container[0].setAttribute("ondragstart","return false"),this.container[0].setAttribute("ondrop","return false")},e.prototype.updateDomPageDimensions=function(){this.img.width(this.dimensions.w),this.img.height(this.dimensions.h)},e.prototype.updateDomPageContainer=function(){this.container.css("padding",this.aroundSpacing+"px"),this.pageCanvas.style.width=String(this.dimensions.w)+"px",this.pageCanvas.style.height=String(this.dimensions.h)+"px"},e.prototype.renderPage=function(t){void 0===t&&(t=150),this.pageRenderedAtLeastOnce||(this.pageRenderedAtLeastOnce=!0,this.triggerCustomEvent("pdfPage:firstRender",{pdfPage:this})),this.currentDpi=t,this.pdfRenderer.renderPage(this.pageNumber,t)},Object.defineProperty(e.prototype,"assetsManager",{get:function(){return r.AssetsManager.getInstance()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageCanvas",{get:function(){return this._pageCanvas||(this._pageCanvas=this.container.find(".page-canvas")[0]),this._pageCanvas},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){var e=t("#workArea")[0],n=e.getBoundingClientRect(),i=this.img[0].getBoundingClientRect(),r=e.scrollLeft,o=e.scrollTop;return{x:Math.round(i.left-n.left+r),y:Math.round(i.top-n.top+o)}},enumerable:!1,configurable:!0}),e.prototype.isOffLimits=function(t,e){var n={x:0,y:0,inside:!0},i=this.dimensions,r=t.x,o=t.x+e.w,a=t.y,s=t.y+e.h;return r>i.w?n.x=1:r<0?n.x=-1:o<0?n.x=-1:o>i.w&&(n.x=1),a>i.h?n.y=1:a<0?n.y=-1:s<0?n.y=-1:s>i.h&&(n.y=1),0===n.x&&0===n.y||(n.inside=!1),n},e.prototype.removeObject=function(t){var e=this.canvasObjects.findIndex(function(e){return e.id===t.id});t.dom.detach(),this.canvasObjects.splice(e,1),this.triggerCustomEvent("pdf_page:canvas_object:detached",{pdfPage:this,canvasObject:t})},e.prototype.getSafePageRect=function(t){void 0===t&&(t=!1);var e=t?this.originalDimensions:this.dimensions,n=.1;!1===t&&(n/=2*this.zoomLevel);var i=e.w*n,r=e.h*n,o=e.w-2*i,a=e.h-2*r;return{x0:i,x1:o+i,y0:r,y1:a+r,w:o,h:a}},Object.defineProperty(e.prototype,"img",{get:function(){if(!this._img&&(this._img=t("#"+this.domId),this._img.length<=0))throw"[EditPdf] Page#"+this.pageNumber+" not found";return this._img},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"container",{get:function(){if(!this._container&&(this._container=this.img.closest(".editor__page"),this._container.length<=0))throw"[EditPdf] Page#"+this.pageNumber+" container not found";return this._container},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canvas",{get:function(){if(!this._canvas&&(this._canvas=this.img.closest(".page-canvas"),this._canvas.length<=0))throw"[EditPdf] Page#"+this.pageNumber+" canvas not found";return this._canvas},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"margin",{get:function(){var t=this.img.closest(".editor__page");return{w:parseInt(t.css("margin-left").replace("px","")),h:parseInt(t.css("margin-top").replace("px",""))}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dimensions",{get:function(){return this._dimensions.w||(this._dimensions.w=this.originalDimensions.w),this._dimensions.h||(this._dimensions.h=this.originalDimensions.h),this._dimensions},enumerable:!1,configurable:!0}),e.prototype.addObject=function(t){this.canvasObjects.push(t),t.zindex=this.zindex_autoincrement(),this.canvas.append(t.dom),t.notifyDomAttachment(),this.canvasObjectsChanged=!0},e.prototype.zindex_autoincrement=function(){return this.zindex_counter+=3,this.zindex_offset+(this.zindex_counter-1)},e.prototype.reset_zindex=function(){this.zindex_counter=0},e.prototype.scale=function(t){var n=this.pageDimensionsAt(t);this.updatePageDimensions({w:n.w,h:n.h}),this.aroundSpacing=e.aroundSpacingAt(t),this.zoomLevel=t},e.aroundSpacingAt=function(t){return e.aroundSpacing_x1*t},e.prototype.pageDimensionsAt=function(t){var e=this.originalDimensions;return{w:e.w*t,h:e.h*t}},e.prototype.calcObjectPercentageCoords=function(t){var e=t.getCoords();return[e.x/this.dimensions.w,e.y/this.dimensions.h]},e.prototype.updatePageDimensions=function(t){this.dimensions.w=t.w,this.dimensions.h=t.h},e.prototype.addStaticText=function(t){var e=new i.StaticText(this),n={x:t.x,y:this.originalDimensions.h-t.y-12};e._updateInternalCoords(n.x,n.y),e.fontSize=t.fontSize,e.text=t.text,this.staticTexts.push(e),this.canvas.append(e.dom),this.canvasObjectsChanged=!0},e.prototype.calcDpiForCurrentZoomLevel=function(){return this.zoomLevel>3?400:150},e.prototype.updateDom=function(){var t=this;if(this.canvasObjectsChanged&&(this.canvasObjects.forEach(function(t){return t.updateDom()}),this.staticTexts.forEach(function(t){return t.updateDom()}),this.canvasObjectsChanged=!1),this.zoomChanged){var e=this.calcDpiForCurrentZoomLevel();e>this.currentDpi&&this.renderPage(e),this.updateDomPageDimensions(),this.canvasObjects.forEach(function(e){e.applyZoomAndTranslate(t.zoomLevel),e.updateDom()}),this.staticTexts.forEach(function(e){e.applyZoomAndTranslate(t.zoomLevel),e.updateDom()}),this.zoomChanged=!1}},Object.defineProperty(e.prototype,"zoomLevel",{get:function(){return this._zoomLevel},set:function(t){this._zoomLevel=t,this.zoomChanged=!0},enumerable:!1,configurable:!0}),e.prototype.findObjectById=function(t){for(var e=this.canvasObjects.length,n=0;n<e;n++){var i=this.canvasObjects[n];if(i.id===t)return i}return null},e.prototype.triggerCustomEvent=function(t,e){void 0===e&&(e={});var n=new CustomEvent(t,{detail:e});window.dispatchEvent(n)},e.aroundSpacing_x1=24,e}();e.PdfPage=o}).call(this,n(1))},function(t,e,n){"use strict";(function(t){var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.StaticText=void 0;var o=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.fontSize=12,t.fontFamily="Times New Roman",t}return r(n,e),Object.defineProperty(n.prototype,"type",{get:function(){return"statictext"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hasControls",{get:function(){return!1},enumerable:!1,configurable:!0}),n.prototype.getSize=function(){return{w:this.dom.width(),h:this.dom.height()}},n.prototype.setSize=function(t,e){return this},n.prototype.initDom=function(){e.prototype.initDom.call(this),this.textElem=t("<div spellcheck='false'>"),this.dom.append(this.textElem)},n.prototype._updateDom=function(){var t=this.textElem;t.addClass("text-content"),t.css("fontSize",this.fontSize*this.zoomLevel*1.1),t.css("fontFamily",this.fontFamily),t.html(this.text)},n}(n(234).CanvasObject);e.StaticText=o}).call(this,n(1))},function(t,e,n){"use strict";(function(t){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BasicControls=void 0;var r=n(208),o=i(n(185)),a=n(278),s=n(276),c=function(){function e(t){this.enabled=!0,this.isDragging=!1,this.isDraggingEnabled=!1,this.avoidTriggeringClickEvent=!1,this.inFrame=!1,this._padding=10,this.eventHandlers={},this.canvasObj=t,this.inputManager=r.InputManager.getInstance(),this.initControls(),this.init()}return e.prototype.init=function(){},e.prototype.fetchControlsDom=function(){return this.canvasObj.dom},Object.defineProperty(e.prototype,"container",{get:function(){return this.canvasObj.dom},enumerable:!1,configurable:!0}),e.prototype.initControls=function(){var e=this;this.controlsDom=this.fetchControlsDom();var n=this.controlsDom,i=this;this.container.append(n),this.enable(),t(this.getSelectableElem()).click(this.notifyBrowserOfSelection.bind(this));var r=!1;t(this.getSelectableElem()).mousedown(function(t){r=!0}),t(this.getSelectableElem()).mouseup(function(t){!e.avoidTriggeringClickEvent&&(r&&i.triggerEvent("fullClick",t),i.triggerEvent("click",t)),r=!1,e.avoidTriggeringClickEvent=!1}),this.initDragging()},e.prototype.canSurfaceRectBeEnabled=function(){return!0},e.prototype.enable=function(){return this.enabled=!0,this.controlsDom.addClass("enabled"),this.enableDragging(),this.canSurfaceRectBeEnabled()&&this.controlsDom.find(".surface-rect").addClass("enabled"),this},e.prototype.disable=function(){return this.enabled=!1,this.canSurfaceRectBeEnabled()&&this.controlsDom.removeClass("enabled"),this.disableDragging(),this.controlsDom.find(".surface-rect").removeClass("enabled"),this},e.prototype.enableDragging=function(){this.isDraggingEnabled=!0,this.changeCursorTo("draggable")},e.prototype.disableDragging=function(){this.isDraggingEnabled=!1,this.changeCursorTo(null)},e.prototype.changeCursorTo=function(t){var e=this;["draggable","dragging"].forEach(function(n){n===t?e.controlsDom.addClass(n):e.controlsDom.removeClass(n)})},e.prototype.notifyBrowserOfSelection=function(){if(!this.canvasObj.isActiveElement){var t=new CustomEvent("canvas_object:selected",{detail:{canvasObject:this.canvasObj}});window.dispatchEvent(t)}},Object.defineProperty(e.prototype,"padding",{get:function(){return this._padding*this.canvasObj.zoomLevel},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"domId",{get:function(){return"controls-"+this.canvasObj.id},enumerable:!1,configurable:!0}),e.prototype.getSelectableElem=function(){return this.controlsDom},e.prototype.getDraggableElem=function(){return"#"+this.domId+" .surface-rect"},e.prototype.initDragging=function(){var t=this,e=this,n=".editor__page[data-file='"+this.canvasObj.pdfPage.domId.replace(/^page_/,"").replace(/\_\d+$/,"")+"'][data-page='"+this.canvasObj.pdfPage.pageNumber+"'] .page-canvas",i=null,r=null,c=null;o.default(this.getDraggableElem()).draggable({inertia:!1,modifiers:[o.default.modifiers.restrictRect({restriction:n})],autoScroll:!0,onstart:function(n){t.inFrame=!1,i=new a.Viewport(s.Editor.viewport,n).getPageCoords(!0),(r=t.canvasObj.getCoords()).x/=t.canvasObj.pdfPage.dimensions.w,r.y/=t.canvasObj.pdfPage.dimensions.h,e.notifyBrowserOfSelection(),e.changeCursorTo("dragging"),e.isDragging=!0,e.avoidTriggeringClickEvent=!0,t.triggerEvent("drag:begin")},onmove:function(n){if(!t.inFrame){t.inFrame=!0;var o=new a.Viewport(s.Editor.viewport,n),c=o.getPageCoords();if(null!==c){var l=i.x*o.pdfPage.dimensions.w,u=i.y*o.pdfPage.dimensions.h,d=r.x*t.canvasObj.pdfPage.dimensions.w,p=r.y*t.canvasObj.pdfPage.dimensions.h,f=d+(c.x-l),h=p+(c.y-u);e.canvasObj.moveTo(f,h),e.canvasObj.updateDom(),t.inFrame=!1}else t.inFrame=!1}},onend:function(n){t.inFrame=!1,c&&(window.cancelAnimationFrame(c),c=null),i=null,r=null,e.changeCursorTo("draggable"),e.isDragging=!1,t.triggerEvent("drag:end")},cursorChecker:function(t,e,n,i){}})},e.prototype.on=function(t,e){t in this.eventHandlers||(this.eventHandlers[t]=[]),this.eventHandlers[t].push(e)},e.prototype.triggerEvent=function(t,e){void 0===e&&(e={}),t in this.eventHandlers&&this.eventHandlers[t].forEach(function(t){return t(e)})},e}();e.BasicControls=c}).call(this,n(1))},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Ellipse=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"ellipse"},enumerable:!1,configurable:!0}),e.prototype.setSize=function(t,e){this.setRadius(t/2,e/2)},e.prototype.getRadius=function(){var t=this.size.w,e=this.size.h;return{rx:t/2/this.zoomLevel,ry:e/2/this.zoomLevel}},e.prototype.setRadius=function(t,e){t<0&&(t=0),e<0&&(e=0);var n=2*t,i=2*e;return this._updateInternalDims(n,i),this},e.prototype._updateDom=function(){t.prototype._updateDom.call(this);var e=this.zoomedStrokeWidth;"transparent"===this.stroke()&&(e=0);var n,i,r={w:Math.floor(this.size.w),h:Math.floor(this.size.h)};2*e>r.w||2*e>r.h?(n=.5*(r.w-(e=(r.w<r.h?r.w:r.h)/2)),i=.5*(r.h-e)):(n=.5*(r.w-e),i=.5*(r.h-e)),n<=0&&(n=1),i<=0&&(i=1),this.shape.attr({fill:this.fill(),"fill-opacity":this.fillOpacity(),stroke:this.stroke(),"stroke-width":e});this.shape.radius(n,i),this.resizeDrawingSurface(r.w,r.h),this.shape.move(.5*e,.5*e)},e.prototype.clone=function(t){var n=t,i=new e(n.pdfPage);i.cloned=!0,i.cloning=!0,i.zoomLevel=n.zoomLevel;var r=n.getAttributes();return i.setAttributes(r),i.cloning=!1,i},e.prototype.setAttributes=function(n){void 0===n&&(n={}),t.prototype.setAttributes.call(this,n),"fillColor"in n&&(e.currentDefaultFillColor=n.fillColor),"strokeColor"in n&&(e.currentDefaultStrokeColor=n.strokeColor),"strokeWidth"in n&&(e.currentDefaultStrokeWidth=n.strokeWidth)},e.prototype.getDefaultAttributes=function(){return Object.assign({},t.prototype.getDefaultAttributes.call(this),{size_x1:{w:80,h:80},fillColor:e.currentDefaultFillColor,strokeColor:e.currentDefaultStrokeColor,strokeWidth:e.currentDefaultStrokeWidth})},e.currentDefaultFillColor="#2196F3",e.currentDefaultStrokeColor="transparent",e.currentDefaultStrokeWidth=6,e}(n(313).Shape);e.Ellipse=o},function(t,e,n){"use strict";n.r(e),n.d(e,"A",function(){return an}),n.d(e,"Animator",function(){return Ue}),n.d(e,"Array",function(){return Lt}),n.d(e,"Box",function(){return vt}),n.d(e,"Circle",function(){return tn}),n.d(e,"ClipPath",function(){return en}),n.d(e,"Color",function(){return lt}),n.d(e,"Container",function(){return Bt}),n.d(e,"Controller",function(){return pe}),n.d(e,"Defs",function(){return Nt}),n.d(e,"Dom",function(){return Ft}),n.d(e,"Ease",function(){return de}),n.d(e,"Element",function(){return Rt}),n.d(e,"Ellipse",function(){return Qt}),n.d(e,"EventTarget",function(){return Ct}),n.d(e,"ForeignObject",function(){return nn}),n.d(e,"Fragment",function(){return Jt}),n.d(e,"G",function(){return on}),n.d(e,"Gradient",function(){return ee}),n.d(e,"Image",function(){return ie}),n.d(e,"Line",function(){return ae}),n.d(e,"List",function(){return mt}),n.d(e,"Marker",function(){return se}),n.d(e,"Mask",function(){return sn}),n.d(e,"Matrix",function(){return pt}),n.d(e,"Morphable",function(){return ke}),n.d(e,"NonMorphable",function(){return Ce}),n.d(e,"Number",function(){return It}),n.d(e,"ObjectBag",function(){return Me}),n.d(e,"PID",function(){return ve}),n.d(e,"Path",function(){return De}),n.d(e,"PathArray",function(){return Ee}),n.d(e,"Pattern",function(){return ne}),n.d(e,"Point",function(){return ut}),n.d(e,"PointArray",function(){return re}),n.d(e,"Polygon",function(){return Re}),n.d(e,"Polyline",function(){return ze}),n.d(e,"Queue",function(){return Ne}),n.d(e,"Rect",function(){return Be}),n.d(e,"Runner",function(){return qe}),n.d(e,"SVG",function(){return pn}),n.d(e,"Shape",function(){return Ut}),n.d(e,"Spring",function(){return he}),n.d(e,"Stop",function(){return cn}),n.d(e,"Style",function(){return ln}),n.d(e,"Svg",function(){return Ze}),n.d(e,"Symbol",function(){return Ke}),n.d(e,"Text",function(){return Je}),n.d(e,"TextPath",function(){return un}),n.d(e,"Timeline",function(){return We}),n.d(e,"TransformBag",function(){return je}),n.d(e,"Tspan",function(){return $e}),n.d(e,"Use",function(){return dn}),n.d(e,"adopt",function(){return F}),n.d(e,"assignNewId",function(){return V}),n.d(e,"clearEvents",function(){return St}),n.d(e,"create",function(){return L}),n.d(e,"defaults",function(){return At}),n.d(e,"dispatch",function(){return kt}),n.d(e,"easing",function(){return le}),n.d(e,"eid",function(){return H}),n.d(e,"extend",function(){return W}),n.d(e,"find",function(){return bt}),n.d(e,"getClass",function(){return N}),n.d(e,"getEventTarget",function(){return Ot}),n.d(e,"getEvents",function(){return xt}),n.d(e,"getWindow",function(){return j}),n.d(e,"makeInstance",function(){return I}),n.d(e,"makeMorphable",function(){return Ie}),n.d(e,"mockAdopt",function(){return z}),n.d(e,"namespaces",function(){return x}),n.d(e,"nodeOrNew",function(){return D}),n.d(e,"off",function(){return Pt}),n.d(e,"on",function(){return Et}),n.d(e,"parser",function(){return ft}),n.d(e,"regex",function(){return ot}),n.d(e,"register",function(){return B}),n.d(e,"registerMorphableType",function(){return Le}),n.d(e,"registerWindow",function(){return S}),n.d(e,"restoreWindow",function(){return k}),n.d(e,"root",function(){return A}),n.d(e,"saveWindow",function(){return P}),n.d(e,"utils",function(){return g}),n.d(e,"windowEvents",function(){return wt}),n.d(e,"withWindow",function(){return C}),n.d(e,"wrapWithAttrCheck",function(){return q});const i={},r=[];function o(t,e){if(Array.isArray(t))for(const n of t)o(n,e);else if("object"!=typeof t)s(Object.getOwnPropertyNames(e)),i[t]=Object.assign(i[t]||{},e);else for(const e in t)o(e,t[e])}function a(t){return i[t]||{}}function s(t){r.push(...t)}function c(t,e){let n;const i=t.length,r=[];for(n=0;n<i;n++)r.push(e(t[n]));return r}function l(t,e){let n;const i=t.length,r=[];for(n=0;n<i;n++)e(t[n])&&r.push(t[n]);return r}function u(t){return t%360*Math.PI/180}function d(t){return t.toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()})}function p(t){return t.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()})}function f(t){return t.charAt(0).toUpperCase()+t.slice(1)}function h(t,e,n,i){return null!=e&&null!=n||(i=i||t.bbox(),null==e?e=i.width/i.height*n:null==n&&(n=i.height/i.width*e)),{width:e,height:n}}function v(t,e){const n=t.origin;let i=null!=t.ox?t.ox:null!=t.originX?t.originX:"center",r=null!=t.oy?t.oy:null!=t.originY?t.originY:"center";null!=n&&([i,r]=Array.isArray(n)?n:"object"==typeof n?[n.x,n.y]:[n,n]);const o="string"==typeof i,a="string"==typeof r;if(o||a){const{height:t,width:n,x:s,y:c}=e.bbox();o&&(i=i.includes("left")?s:i.includes("right")?s+n:s+n/2),a&&(r=r.includes("top")?c:r.includes("bottom")?c+t:c+t/2)}return[i,r]}var g={__proto__:null,map:c,filter:l,radians:u,degrees:function(t){return 180*t/Math.PI%360},camelCase:d,unCamelCase:p,capitalize:f,proportionalSize:h,getOrigin:v};const m="http://www.w3.org/2000/svg",y="http://www.w3.org/1999/xhtml",b="http://www.w3.org/2000/xmlns/",_="http://www.w3.org/1999/xlink",w="http://svgjs.dev/svgjs";var x={__proto__:null,svg:m,html:y,xmlns:b,xlink:_,svgjs:w};const O={window:"undefined"==typeof window?null:window,document:"undefined"==typeof document?null:document};function S(t=null,e=null){O.window=t,O.document=e}const E={};function P(){E.window=O.window,E.document=O.document}function k(){O.window=E.window,O.document=E.document}function C(t,e){P(),S(t,t.document),e(t,t.document),k()}function j(){return O.window}class T{}const M={},A="___SYMBOL___ROOT___";function L(t,e=m){return O.document.createElementNS(e,t)}function I(t,e=!1){if(t instanceof T)return t;if("object"==typeof t)return R(t);if(null==t)return new M[A];if("string"==typeof t&&"<"!==t.charAt(0))return R(O.document.querySelector(t));const n=e?O.document.createElement("div"):L("svg");return n.innerHTML=t,t=R(n.firstChild),n.removeChild(n.firstChild),t}function D(t,e){return e instanceof O.window.Node?e:L(t)}function F(t){if(!t)return null;if(t.instance instanceof T)return t.instance;if("#document-fragment"===t.nodeName)return new M.Fragment(t);let e=f(t.nodeName||"Dom");return"LinearGradient"===e||"RadialGradient"===e?e="Gradient":M[e]||(e="Dom"),new M[e](t)}let R=F;function z(t=F){R=t}function B(t,e=t.name,n=!1){return M[e]=t,n&&(M[A]=t),s(Object.getOwnPropertyNames(t.prototype)),t}function N(t){return M[t]}let U=1e3;function H(t){return"Svgjs"+f(t)+U++}function V(t){for(let e=t.children.length-1;e>=0;e--)V(t.children[e]);return t.id?(t.id=H(t.nodeName),t):t}function W(t,e){let n,i;for(i=(t=Array.isArray(t)?t:[t]).length-1;i>=0;i--)for(n in e)t[i].prototype[n]=e[n]}function q(t){return function(...e){const n=e[e.length-1];return!n||n.constructor!==Object||n instanceof Array?t.apply(this,e):t.apply(this,e.slice(0,-1)).attr(n)}}o("Dom",{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},prev:function(){return this.siblings()[this.position()-1]},forward:function(){const t=this.position();return this.parent().add(this.remove(),t+1),this},backward:function(){const t=this.position();return this.parent().add(this.remove(),t?t-1:0),this},front:function(){return this.parent().add(this.remove()),this},back:function(){return this.parent().add(this.remove(),0),this},before:function(t){(t=I(t)).remove();const e=this.position();return this.parent().add(t,e),this},after:function(t){(t=I(t)).remove();const e=this.position();return this.parent().add(t,e+1),this},insertBefore:function(t){return(t=I(t)).before(this),this},insertAfter:function(t){return(t=I(t)).after(this),this}});const G=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,Y=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,X=/rgb\((\d+),(\d+),(\d+)\)/,Z=/(#[a-z_][a-z0-9\-_]*)/i,K=/\)\s*,?\s*/,Q=/\s/g,J=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,$=/^rgb\(/,tt=/^(\s+)?$/,et=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,nt=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,it=/[\s,]+/,rt=/[MLHVCSQTAZ]/i;var ot={__proto__:null,numberAndUnit:G,hex:Y,rgb:X,reference:Z,transforms:K,whitespace:Q,isHex:J,isRgb:$,isBlank:tt,isNumber:et,isImage:nt,delimiter:it,isPathLetter:rt};function at(t){const e=Math.round(t),n=Math.max(0,Math.min(255,e)).toString(16);return 1===n.length?"0"+n:n}function st(t,e){for(let n=e.length;n--;)if(null==t[e[n]])return!1;return!0}function ct(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}o("Dom",{classes:function(){const t=this.attr("class");return null==t?[]:t.trim().split(it)},hasClass:function(t){return-1!==this.classes().indexOf(t)},addClass:function(t){if(!this.hasClass(t)){const e=this.classes();e.push(t),this.attr("class",e.join(" "))}return this},removeClass:function(t){return this.hasClass(t)&&this.attr("class",this.classes().filter(function(e){return e!==t}).join(" ")),this},toggleClass:function(t){return this.hasClass(t)?this.removeClass(t):this.addClass(t)}}),o("Dom",{css:function(t,e){const n={};if(0===arguments.length)return this.node.style.cssText.split(/\s*;\s*/).filter(function(t){return!!t.length}).forEach(function(t){const e=t.split(/\s*:\s*/);n[e[0]]=e[1]}),n;if(arguments.length<2){if(Array.isArray(t)){for(const e of t){const t=d(e);n[t]=this.node.style[t]}return n}if("string"==typeof t)return this.node.style[d(t)];if("object"==typeof t)for(const e in t)this.node.style[d(e)]=null==t[e]||tt.test(t[e])?"":t[e]}return 2===arguments.length&&(this.node.style[d(t)]=null==e||tt.test(e)?"":e),this},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},visible:function(){return"none"!==this.css("display")}}),o("Dom",{data:function(t,e,n){if(null==t)return this.data(c(l(this.node.attributes,t=>0===t.nodeName.indexOf("data-")),t=>t.nodeName.slice(5)));if(t instanceof Array){const e={};for(const n of t)e[n]=this.data(n);return e}if("object"==typeof t)for(e in t)this.data(e,t[e]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+t))}catch(e){return this.attr("data-"+t)}else this.attr("data-"+t,null===e?null:!0===n||"string"==typeof e||"number"==typeof e?e:JSON.stringify(e));return this}}),o("Dom",{remember:function(t,e){if("object"==typeof arguments[0])for(const e in t)this.remember(e,t[e]);else{if(1===arguments.length)return this.memory()[t];this.memory()[t]=e}return this},forget:function(){if(0===arguments.length)this._memory={};else for(let t=arguments.length-1;t>=0;t--)delete this.memory()[arguments[t]];return this},memory:function(){return this._memory=this._memory||{}}});class lt{constructor(...t){this.init(...t)}static isColor(t){return t&&(t instanceof lt||this.isRgb(t)||this.test(t))}static isRgb(t){return t&&"number"==typeof t.r&&"number"==typeof t.g&&"number"==typeof t.b}static random(t="vibrant",e,n){const{random:i,round:r,sin:o,PI:a}=Math;if("vibrant"===t){const t=24*i()+57,e=38*i()+45,n=360*i();return new lt(t,e,n,"lch")}if("sine"===t){const t=r(80*o(2*a*(e=null==e?i():e)/.5+.01)+150),n=r(50*o(2*a*e/.5+4.6)+200),s=r(100*o(2*a*e/.5+2.3)+150);return new lt(t,n,s)}if("pastel"===t){const t=8*i()+86,e=17*i()+9,n=360*i();return new lt(t,e,n,"lch")}if("dark"===t){const t=10+10*i(),e=50*i()+86,n=360*i();return new lt(t,e,n,"lch")}if("rgb"===t){const t=255*i(),e=255*i(),n=255*i();return new lt(t,e,n)}if("lab"===t){const t=100*i(),e=256*i()-128,n=256*i()-128;return new lt(t,e,n,"lab")}if("grey"===t){const t=255*i();return new lt(t,t,t)}throw new Error("Unsupported random color mode")}static test(t){return"string"==typeof t&&(J.test(t)||$.test(t))}cmyk(){const{_a:t,_b:e,_c:n}=this.rgb(),[i,r,o]=[t,e,n].map(t=>t/255),a=Math.min(1-i,1-r,1-o);return 1===a?new lt(0,0,0,1,"cmyk"):new lt((1-i-a)/(1-a),(1-r-a)/(1-a),(1-o-a)/(1-a),a,"cmyk")}hsl(){const{_a:t,_b:e,_c:n}=this.rgb(),[i,r,o]=[t,e,n].map(t=>t/255),a=Math.max(i,r,o),s=Math.min(i,r,o),c=(a+s)/2,l=a===s,u=a-s;return new lt(360*(l?0:a===i?((r-o)/u+(r<o?6:0))/6:a===r?((o-i)/u+2)/6:a===o?((i-r)/u+4)/6:0),100*(l?0:c>.5?u/(2-a-s):u/(a+s)),100*c,"hsl")}init(t=0,e=0,n=0,i=0,r="rgb"){if(t=t||0,this.space)for(const t in this.space)delete this[this.space[t]];if("number"==typeof t)r="string"==typeof i?i:r,i="string"==typeof i?0:i,Object.assign(this,{_a:t,_b:e,_c:n,_d:i,space:r});else if(t instanceof Array)this.space=e||("string"==typeof t[3]?t[3]:t[4])||"rgb",Object.assign(this,{_a:t[0],_b:t[1],_c:t[2],_d:t[3]||0});else if(t instanceof Object){const n=function(t,e){const n=st(t,"rgb")?{_a:t.r,_b:t.g,_c:t.b,_d:0,space:"rgb"}:st(t,"xyz")?{_a:t.x,_b:t.y,_c:t.z,_d:0,space:"xyz"}:st(t,"hsl")?{_a:t.h,_b:t.s,_c:t.l,_d:0,space:"hsl"}:st(t,"lab")?{_a:t.l,_b:t.a,_c:t.b,_d:0,space:"lab"}:st(t,"lch")?{_a:t.l,_b:t.c,_c:t.h,_d:0,space:"lch"}:st(t,"cmyk")?{_a:t.c,_b:t.m,_c:t.y,_d:t.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return n.space=e||n.space,n}(t,e);Object.assign(this,n)}else if("string"==typeof t)if($.test(t)){const e=t.replace(Q,""),[n,i,r]=X.exec(e).slice(1,4).map(t=>parseInt(t));Object.assign(this,{_a:n,_b:i,_c:r,_d:0,space:"rgb"})}else{if(!J.test(t))throw Error("Unsupported string format, can't construct Color");{const e=t=>parseInt(t,16),[,n,i,r]=Y.exec(function(t){return 4===t.length?["#",t.substring(1,2),t.substring(1,2),t.substring(2,3),t.substring(2,3),t.substring(3,4),t.substring(3,4)].join(""):t}(t)).map(e);Object.assign(this,{_a:n,_b:i,_c:r,_d:0,space:"rgb"})}}const{_a:o,_b:a,_c:s,_d:c}=this,l="rgb"===this.space?{r:o,g:a,b:s}:"xyz"===this.space?{x:o,y:a,z:s}:"hsl"===this.space?{h:o,s:a,l:s}:"lab"===this.space?{l:o,a:a,b:s}:"lch"===this.space?{l:o,c:a,h:s}:"cmyk"===this.space?{c:o,m:a,y:s,k:c}:{};Object.assign(this,l)}lab(){const{x:t,y:e,z:n}=this.xyz();return new lt(116*e-16,500*(t-e),200*(e-n),"lab")}lch(){const{l:t,a:e,b:n}=this.lab(),i=Math.sqrt(e**2+n**2);let r=180*Math.atan2(n,e)/Math.PI;return r<0&&(r=360-(r*=-1)),new lt(t,i,r,"lch")}rgb(){if("rgb"===this.space)return this;if("lab"===(t=this.space)||"xyz"===t||"lch"===t){let{x:t,y:e,z:n}=this;if("lab"===this.space||"lch"===this.space){let{l:i,a:r,b:o}=this;if("lch"===this.space){const{c:t,h:e}=this,n=Math.PI/180;r=t*Math.cos(n*e),o=t*Math.sin(n*e)}const a=(i+16)/116,s=r/500+a,c=a-o/200,l=16/116,u=.008856,d=7.787;t=.95047*(s**3>u?s**3:(s-l)/d),e=1*(a**3>u?a**3:(a-l)/d),n=1.08883*(c**3>u?c**3:(c-l)/d)}const i=3.2406*t+-1.5372*e+-.4986*n,r=-.9689*t+1.8758*e+.0415*n,o=.0557*t+-.204*e+1.057*n,a=Math.pow,s=.0031308,c=i>s?1.055*a(i,1/2.4)-.055:12.92*i,l=r>s?1.055*a(r,1/2.4)-.055:12.92*r,u=o>s?1.055*a(o,1/2.4)-.055:12.92*o;return new lt(255*c,255*l,255*u)}if("hsl"===this.space){let{h:t,s:e,l:n}=this;if(t/=360,n/=100,0===(e/=100)){return new lt(n*=255,n,n)}const i=n<.5?n*(1+e):n+e-n*e,r=2*n-i,o=255*ct(r,i,t+1/3),a=255*ct(r,i,t),s=255*ct(r,i,t-1/3);return new lt(o,a,s)}if("cmyk"===this.space){const{c:t,m:e,y:n,k:i}=this,r=255*(1-Math.min(1,t*(1-i)+i)),o=255*(1-Math.min(1,e*(1-i)+i)),a=255*(1-Math.min(1,n*(1-i)+i));return new lt(r,o,a)}return this;var t}toArray(){const{_a:t,_b:e,_c:n,_d:i,space:r}=this;return[t,e,n,i,r]}toHex(){const[t,e,n]=this._clamped().map(at);return`#${t}${e}${n}`}toRgb(){const[t,e,n]=this._clamped();return`rgb(${t},${e},${n})`}toString(){return this.toHex()}xyz(){const{_a:t,_b:e,_c:n}=this.rgb(),[i,r,o]=[t,e,n].map(t=>t/255),a=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,s=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,c=o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92,l=(.4124*a+.3576*s+.1805*c)/.95047,u=(.2126*a+.7152*s+.0722*c)/1,d=(.0193*a+.1192*s+.9505*c)/1.08883,p=l>.008856?Math.pow(l,1/3):7.787*l+16/116,f=u>.008856?Math.pow(u,1/3):7.787*u+16/116,h=d>.008856?Math.pow(d,1/3):7.787*d+16/116;return new lt(p,f,h,"xyz")}_clamped(){const{_a:t,_b:e,_c:n}=this.rgb(),{max:i,min:r,round:o}=Math;return[t,e,n].map(t=>i(0,r(o(t),255)))}}class ut{constructor(...t){this.init(...t)}clone(){return new ut(this)}init(t,e){const n=0,i=0,r=Array.isArray(t)?{x:t[0],y:t[1]}:"object"==typeof t?{x:t.x,y:t.y}:{x:t,y:e};return this.x=null==r.x?n:r.x,this.y=null==r.y?i:r.y,this}toArray(){return[this.x,this.y]}transform(t){return this.clone().transformO(t)}transformO(t){pt.isMatrixLike(t)||(t=new pt(t));const{x:e,y:n}=this;return this.x=t.a*e+t.c*n+t.e,this.y=t.b*e+t.d*n+t.f,this}}function dt(t,e,n){return Math.abs(e-t)<(n||1e-6)}class pt{constructor(...t){this.init(...t)}static formatTransforms(t){const e="both"===t.flip||!0===t.flip,n=t.flip&&(e||"x"===t.flip)?-1:1,i=t.flip&&(e||"y"===t.flip)?-1:1,r=t.skew&&t.skew.length?t.skew[0]:isFinite(t.skew)?t.skew:isFinite(t.skewX)?t.skewX:0,o=t.skew&&t.skew.length?t.skew[1]:isFinite(t.skew)?t.skew:isFinite(t.skewY)?t.skewY:0,a=t.scale&&t.scale.length?t.scale[0]*n:isFinite(t.scale)?t.scale*n:isFinite(t.scaleX)?t.scaleX*n:n,s=t.scale&&t.scale.length?t.scale[1]*i:isFinite(t.scale)?t.scale*i:isFinite(t.scaleY)?t.scaleY*i:i,c=t.shear||0,l=t.rotate||t.theta||0,u=new ut(t.origin||t.around||t.ox||t.originX,t.oy||t.originY),d=u.x,p=u.y,f=new ut(t.position||t.px||t.positionX||NaN,t.py||t.positionY||NaN),h=f.x,v=f.y,g=new ut(t.translate||t.tx||t.translateX,t.ty||t.translateY),m=g.x,y=g.y,b=new ut(t.relative||t.rx||t.relativeX,t.ry||t.relativeY);return{scaleX:a,scaleY:s,skewX:r,skewY:o,shear:c,theta:l,rx:b.x,ry:b.y,tx:m,ty:y,ox:d,oy:p,px:h,py:v}}static fromArray(t){return{a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]}}static isMatrixLike(t){return null!=t.a||null!=t.b||null!=t.c||null!=t.d||null!=t.e||null!=t.f}static matrixMultiply(t,e,n){const i=t.a*e.a+t.c*e.b,r=t.b*e.a+t.d*e.b,o=t.a*e.c+t.c*e.d,a=t.b*e.c+t.d*e.d,s=t.e+t.a*e.e+t.c*e.f,c=t.f+t.b*e.e+t.d*e.f;return n.a=i,n.b=r,n.c=o,n.d=a,n.e=s,n.f=c,n}around(t,e,n){return this.clone().aroundO(t,e,n)}aroundO(t,e,n){const i=t||0,r=e||0;return this.translateO(-i,-r).lmultiplyO(n).translateO(i,r)}clone(){return new pt(this)}decompose(t=0,e=0){const n=this.a,i=this.b,r=this.c,o=this.d,a=this.e,s=this.f,c=n*o-i*r,l=c>0?1:-1,u=l*Math.sqrt(n*n+i*i),d=Math.atan2(l*i,l*n),p=180/Math.PI*d,f=Math.cos(d),h=Math.sin(d),v=(n*r+i*o)/c,g=r*u/(v*n-i)||o*u/(v*i+n);return{scaleX:u,scaleY:g,shear:v,rotate:p,translateX:a-t+t*f*u+e*(v*f*u-h*g),translateY:s-e+t*h*u+e*(v*h*u+f*g),originX:t,originY:e,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(t){if(t===this)return!0;const e=new pt(t);return dt(this.a,e.a)&&dt(this.b,e.b)&&dt(this.c,e.c)&&dt(this.d,e.d)&&dt(this.e,e.e)&&dt(this.f,e.f)}flip(t,e){return this.clone().flipO(t,e)}flipO(t,e){return"x"===t?this.scaleO(-1,1,e,0):"y"===t?this.scaleO(1,-1,0,e):this.scaleO(-1,-1,t,e||t)}init(t){const e=pt.fromArray([1,0,0,1,0,0]);return t=t instanceof Rt?t.matrixify():"string"==typeof t?pt.fromArray(t.split(it).map(parseFloat)):Array.isArray(t)?pt.fromArray(t):"object"==typeof t&&pt.isMatrixLike(t)?t:"object"==typeof t?(new pt).transform(t):6===arguments.length?pt.fromArray([].slice.call(arguments)):e,this.a=null!=t.a?t.a:e.a,this.b=null!=t.b?t.b:e.b,this.c=null!=t.c?t.c:e.c,this.d=null!=t.d?t.d:e.d,this.e=null!=t.e?t.e:e.e,this.f=null!=t.f?t.f:e.f,this}inverse(){return this.clone().inverseO()}inverseO(){const t=this.a,e=this.b,n=this.c,i=this.d,r=this.e,o=this.f,a=t*i-e*n;if(!a)throw new Error("Cannot invert "+this);const s=i/a,c=-e/a,l=-n/a,u=t/a,d=-(s*r+l*o),p=-(c*r+u*o);return this.a=s,this.b=c,this.c=l,this.d=u,this.e=d,this.f=p,this}lmultiply(t){return this.clone().lmultiplyO(t)}lmultiplyO(t){const e=t instanceof pt?t:new pt(t);return pt.matrixMultiply(e,this,this)}multiply(t){return this.clone().multiplyO(t)}multiplyO(t){const e=t instanceof pt?t:new pt(t);return pt.matrixMultiply(this,e,this)}rotate(t,e,n){return this.clone().rotateO(t,e,n)}rotateO(t,e=0,n=0){t=u(t);const i=Math.cos(t),r=Math.sin(t),{a:o,b:a,c:s,d:c,e:l,f:d}=this;return this.a=o*i-a*r,this.b=a*i+o*r,this.c=s*i-c*r,this.d=c*i+s*r,this.e=l*i-d*r+n*r-e*i+e,this.f=d*i+l*r-e*r-n*i+n,this}scale(t,e,n,i){return this.clone().scaleO(...arguments)}scaleO(t,e=t,n=0,i=0){3===arguments.length&&(i=n,n=e,e=t);const{a:r,b:o,c:a,d:s,e:c,f:l}=this;return this.a=r*t,this.b=o*e,this.c=a*t,this.d=s*e,this.e=c*t-n*t+n,this.f=l*e-i*e+i,this}shear(t,e,n){return this.clone().shearO(t,e,n)}shearO(t,e=0,n=0){const{a:i,b:r,c:o,d:a,e:s,f:c}=this;return this.a=i+r*t,this.c=o+a*t,this.e=s+c*t-n*t,this}skew(t,e,n,i){return this.clone().skewO(...arguments)}skewO(t,e=t,n=0,i=0){3===arguments.length&&(i=n,n=e,e=t),t=u(t),e=u(e);const r=Math.tan(t),o=Math.tan(e),{a:a,b:s,c:c,d:l,e:d,f:p}=this;return this.a=a+s*r,this.b=s+a*o,this.c=c+l*r,this.d=l+c*o,this.e=d+p*r-i*r,this.f=p+d*o-n*o,this}skewX(t,e,n){return this.skew(t,0,e,n)}skewY(t,e,n){return this.skew(0,t,e,n)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(t){if(pt.isMatrixLike(t)){return new pt(t).multiplyO(this)}const e=pt.formatTransforms(t),{x:n,y:i}=new ut(e.ox,e.oy).transform(this),r=(new pt).translateO(e.rx,e.ry).lmultiplyO(this).translateO(-n,-i).scaleO(e.scaleX,e.scaleY).skewO(e.skewX,e.skewY).shearO(e.shear).rotateO(e.theta).translateO(n,i);if(isFinite(e.px)||isFinite(e.py)){const t=new ut(n,i).transform(r),o=isFinite(e.px)?e.px-t.x:0,a=isFinite(e.py)?e.py-t.y:0;r.translateO(o,a)}return r.translateO(e.tx,e.ty),r}translate(t,e){return this.clone().translateO(t,e)}translateO(t,e){return this.e+=t||0,this.f+=e||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}}function ft(){if(!ft.nodes){const t=I().size(2,0);t.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),t.attr("focusable","false"),t.attr("aria-hidden","true");const e=t.path().node;ft.nodes={svg:t,path:e}}if(!ft.nodes.svg.node.parentNode){const t=O.document.body||O.document.documentElement;ft.nodes.svg.addTo(t)}return ft.nodes}function ht(t){return!(t.width||t.height||t.x||t.y)}B(pt,"Matrix");class vt{constructor(...t){this.init(...t)}addOffset(){return this.x+=O.window.pageXOffset,this.y+=O.window.pageYOffset,new vt(this)}init(t){return t="string"==typeof t?t.split(it).map(parseFloat):Array.isArray(t)?t:"object"==typeof t?[null!=t.left?t.left:t.x,null!=t.top?t.top:t.y,t.width,t.height]:4===arguments.length?[].slice.call(arguments):[0,0,0,0],this.x=t[0]||0,this.y=t[1]||0,this.width=this.w=t[2]||0,this.height=this.h=t[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return ht(this)}merge(t){const e=Math.min(this.x,t.x),n=Math.min(this.y,t.y),i=Math.max(this.x+this.width,t.x+t.width)-e,r=Math.max(this.y+this.height,t.y+t.height)-n;return new vt(e,n,i,r)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(t){t instanceof pt||(t=new pt(t));let e=1/0,n=-1/0,i=1/0,r=-1/0;return[new ut(this.x,this.y),new ut(this.x2,this.y),new ut(this.x,this.y2),new ut(this.x2,this.y2)].forEach(function(o){o=o.transform(t),e=Math.min(e,o.x),n=Math.max(n,o.x),i=Math.min(i,o.y),r=Math.max(r,o.y)}),new vt(e,i,n-e,r-i)}}function gt(t,e,n){let i;try{if(ht(i=e(t.node))&&((r=t.node)!==O.document&&!(O.document.documentElement.contains||function(t){for(;t.parentNode;)t=t.parentNode;return t===O.document}).call(O.document.documentElement,r)))throw new Error("Element not in the dom")}catch(e){i=n(t)}var r;return i}o({viewbox:{viewbox(t,e,n,i){return null==t?new vt(this.attr("viewBox")):this.attr("viewBox",new vt(t,e,n,i))},zoom(t,e){let{width:n,height:i}=this.attr(["width","height"]);if((n||i)&&"string"!=typeof n&&"string"!=typeof i||(n=this.node.clientWidth,i=this.node.clientHeight),!n||!i)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const r=this.viewbox(),o=n/r.width,a=i/r.height,s=Math.min(o,a);if(null==t)return s;let c=s/t;c===1/0&&(c=Number.MAX_SAFE_INTEGER/100),e=e||new ut(n/2/o+r.x,i/2/a+r.y);const l=new vt(r).transform(new pt({scale:c,origin:e}));return this.viewbox(l)}}}),B(vt,"Box");class mt extends Array{constructor(t=[],...e){if(super(t,...e),"number"==typeof t)return this;this.length=0,this.push(...t)}}W([mt],{each(t,...e){return"function"==typeof t?this.map((e,n,i)=>t.call(e,e,n,i)):this.map(n=>n[t](...e))},toArray(){return Array.prototype.concat.apply([],this)}});const yt=["toArray","constructor","each"];function bt(t,e){return new mt(c((e||O.document).querySelectorAll(t),function(t){return F(t)}))}mt.extend=function(t){t=t.reduce((t,e)=>yt.includes(e)?t:"_"===e[0]?t:(t[e]=function(...t){return this.each(e,...t)},t),{}),W([mt],t)};let _t=0;const wt={};function xt(t){let e=t.getEventHolder();return e===O.window&&(e=wt),e.events||(e.events={}),e.events}function Ot(t){return t.getEventTarget()}function St(t){let e=t.getEventHolder();e===O.window&&(e=wt),e.events&&(e.events={})}function Et(t,e,n,i,r){const o=n.bind(i||t),a=I(t),s=xt(a),c=Ot(a);e=Array.isArray(e)?e:e.split(it),n._svgjsListenerId||(n._svgjsListenerId=++_t),e.forEach(function(t){const e=t.split(".")[0],i=t.split(".")[1]||"*";s[e]=s[e]||{},s[e][i]=s[e][i]||{},s[e][i][n._svgjsListenerId]=o,c.addEventListener(e,o,r||!1)})}function Pt(t,e,n,i){const r=I(t),o=xt(r),a=Ot(r);("function"!=typeof n||(n=n._svgjsListenerId))&&(e=Array.isArray(e)?e:(e||"").split(it)).forEach(function(t){const e=t&&t.split(".")[0],s=t&&t.split(".")[1];let c,l;if(n)o[e]&&o[e][s||"*"]&&(a.removeEventListener(e,o[e][s||"*"][n],i||!1),delete o[e][s||"*"][n]);else if(e&&s){if(o[e]&&o[e][s]){for(l in o[e][s])Pt(a,[e,s].join("."),l);delete o[e][s]}}else if(s)for(t in o)for(c in o[t])s===c&&Pt(a,[t,s].join("."));else if(e){if(o[e]){for(c in o[e])Pt(a,[e,c].join("."));delete o[e]}}else{for(t in o)Pt(a,t);St(r)}})}function kt(t,e,n,i){const r=Ot(t);return e instanceof O.window.Event?r.dispatchEvent(e):(e=new O.window.CustomEvent(e,{detail:n,cancelable:!0,...i}),r.dispatchEvent(e)),e}class Ct extends T{addEventListener(){}dispatch(t,e,n){return kt(this,t,e,n)}dispatchEvent(t){const e=this.getEventHolder().events;if(!e)return!0;const n=e[t.type];for(const e in n)for(const i in n[e])n[e][i](t);return!t.defaultPrevented}fire(t,e,n){return this.dispatch(t,e,n),this}getEventHolder(){return this}getEventTarget(){return this}off(t,e){return Pt(this,t,e),this}on(t,e,n,i){return Et(this,t,e,n,i),this}removeEventListener(){}}function jt(){}B(Ct,"EventTarget");const Tt={duration:400,ease:">",delay:0},Mt={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};var At={__proto__:null,noop:jt,timeline:Tt,attrs:Mt};class Lt extends Array{constructor(...t){super(...t),this.init(...t)}clone(){return new this.constructor(this)}init(t){return"number"==typeof t?this:(this.length=0,this.push(...this.parse(t)),this)}parse(t=[]){return t instanceof Array?t:t.trim().split(it).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const t=[];return t.push(...this),t}}class It{constructor(...t){this.init(...t)}convert(t){return new It(this.value,t)}divide(t){return t=new It(t),new It(this/t,this.unit||t.unit)}init(t,e){return e=Array.isArray(t)?t[1]:e,t=Array.isArray(t)?t[0]:t,this.value=0,this.unit=e||"","number"==typeof t?this.value=isNaN(t)?0:isFinite(t)?t:t<0?-3.4e38:3.4e38:"string"==typeof t?(e=t.match(G))&&(this.value=parseFloat(e[1]),"%"===e[5]?this.value/=100:"s"===e[5]&&(this.value*=1e3),this.unit=e[5]):t instanceof It&&(this.value=t.valueOf(),this.unit=t.unit),this}minus(t){return t=new It(t),new It(this-t,this.unit||t.unit)}plus(t){return t=new It(t),new It(this+t,this.unit||t.unit)}times(t){return t=new It(t),new It(this*t,this.unit||t.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return("%"===this.unit?~~(1e8*this.value)/1e6:"s"===this.unit?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}}const Dt=[];class Ft extends Ct{constructor(t,e){super(),this.node=t,this.type=t.nodeName,e&&t!==e&&this.attr(e)}add(t,e){return(t=I(t)).removeNamespace&&this.node instanceof O.window.SVGElement&&t.removeNamespace(),null==e?this.node.appendChild(t.node):t.node!==this.node.childNodes[e]&&this.node.insertBefore(t.node,this.node.childNodes[e]),this}addTo(t,e){return I(t).put(this,e)}children(){return new mt(c(this.node.children,function(t){return F(t)}))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(t=!0){return this.writeDataToDom(),new this.constructor(V(this.node.cloneNode(t)))}each(t,e){const n=this.children();let i,r;for(i=0,r=n.length;i<r;i++)t.apply(n[i],[i,n]),e&&n[i].each(t,e);return this}element(t,e){return this.put(new Ft(L(t),e))}first(){return F(this.node.firstChild)}get(t){return F(this.node.childNodes[t])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(t){return this.index(t)>=0}html(t,e){return this.xml(t,e,y)}id(t){return void 0!==t||this.node.id||(this.node.id=H(this.type)),this.attr("id",t)}index(t){return[].slice.call(this.node.childNodes).indexOf(t.node)}last(){return F(this.node.lastChild)}matches(t){const e=this.node,n=e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector||null;return n&&n.call(e,t)}parent(t){let e=this;if(!e.node.parentNode)return null;if(e=F(e.node.parentNode),!t)return e;do{if("string"==typeof t?e.matches(t):e instanceof t)return e}while(e=F(e.node.parentNode));return e}put(t,e){return t=I(t),this.add(t,e),t}putIn(t,e){return I(t).add(this,e)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(t){return this.node.removeChild(t.node),this}replace(t){return t=I(t),this.node.parentNode&&this.node.parentNode.replaceChild(t.node,this.node),t}round(t=2,e=null){const n=10**t,i=this.attr(e);for(const t in i)"number"==typeof i[t]&&(i[t]=Math.round(i[t]*n)/n);return this.attr(i),this}svg(t,e){return this.xml(t,e,m)}toString(){return this.id()}words(t){return this.node.textContent=t,this}wrap(t){const e=this.parent();if(!e)return this.addTo(t);const n=e.index(this);return e.put(t,n).put(this)}writeDataToDom(){return this.each(function(){this.writeDataToDom()}),this}xml(t,e,n){if("boolean"==typeof t&&(n=e,e=t,t=null),null==t||"function"==typeof t){e=null==e||e,this.writeDataToDom();let n=this;if(null!=t){if(n=F(n.node.cloneNode(!0)),e){const e=t(n);if(n=e||n,!1===e)return""}n.each(function(){const e=t(this),n=e||this;!1===e?this.remove():e&&this!==n&&this.replace(n)},!0)}return e?n.node.outerHTML:n.node.innerHTML}e=null!=e&&e;const i=L("wrapper",n),r=O.document.createDocumentFragment();i.innerHTML=t;for(let t=i.children.length;t--;)r.appendChild(i.firstElementChild);const o=this.parent();return e?this.replace(r)&&o:this.add(r)}}W(Ft,{attr:function(t,e,n){if(null==t){t={},e=this.node.attributes;for(const n of e)t[n.nodeName]=et.test(n.nodeValue)?parseFloat(n.nodeValue):n.nodeValue;return t}if(t instanceof Array)return t.reduce((t,e)=>(t[e]=this.attr(e),t),{});if("object"==typeof t&&t.constructor===Object)for(e in t)this.attr(e,t[e]);else if(null===e)this.node.removeAttribute(t);else{if(null==e)return null==(e=this.node.getAttribute(t))?Mt[t]:et.test(e)?parseFloat(e):e;"number"==typeof(e=Dt.reduce((e,n)=>n(t,e,this),e))?e=new It(e):lt.isColor(e)?e=new lt(e):e.constructor===Array&&(e=new Lt(e)),"leading"===t?this.leading&&this.leading(e):"string"==typeof n?this.node.setAttributeNS(n,t,e.toString()):this.node.setAttribute(t,e.toString()),!this.rebuild||"font-size"!==t&&"x"!==t||this.rebuild()}return this},find:function(t){return bt(t,this.node)},findOne:function(t){return F(this.node.querySelector(t))}}),B(Ft,"Dom");class Rt extends Ft{constructor(t,e){super(t,e),this.dom={},this.node.instance=this,t.hasAttribute("svgjs:data")&&this.setData(JSON.parse(t.getAttribute("svgjs:data"))||{})}center(t,e){return this.cx(t).cy(e)}cx(t){return null==t?this.x()+this.width()/2:this.x(t-this.width()/2)}cy(t){return null==t?this.y()+this.height()/2:this.y(t-this.height()/2)}defs(){const t=this.root();return t&&t.defs()}dmove(t,e){return this.dx(t).dy(e)}dx(t=0){return this.x(new It(t).plus(this.x()))}dy(t=0){return this.y(new It(t).plus(this.y()))}getEventHolder(){return this}height(t){return this.attr("height",t)}move(t,e){return this.x(t).y(e)}parents(t=this.root()){t=I(t);const e=new mt;let n=this;for(;(n=n.parent())&&n.node!==O.document&&"#document-fragment"!==n.nodeName&&(e.push(n),n.node!==t.node););return e}reference(t){if(!(t=this.attr(t)))return null;const e=(t+"").match(Z);return e?I(e[1]):null}root(){const t=this.parent(N(A));return t&&t.root()}setData(t){return this.dom=t,this}size(t,e){const n=h(this,t,e);return this.width(new It(n.width)).height(new It(n.height))}width(t){return this.attr("width",t)}writeDataToDom(){return this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),super.writeDataToDom()}x(t){return this.attr("x",t)}y(t){return this.attr("y",t)}}W(Rt,{bbox:function(){const t=gt(this,t=>t.getBBox(),t=>{try{const e=t.clone().addTo(ft().svg).show(),n=e.node.getBBox();return e.remove(),n}catch(e){throw new Error(`Getting bbox of element "${t.node.nodeName}" is not possible: ${e.toString()}`)}});return new vt(t)},rbox:function(t){const e=gt(this,t=>t.getBoundingClientRect(),t=>{throw new Error(`Getting rbox of element "${t.node.nodeName}" is not possible`)}),n=new vt(e);return t?n.transform(t.screenCTM().inverseO()):n.addOffset()},inside:function(t,e){const n=this.bbox();return t>n.x&&e>n.y&&t<n.x+n.width&&e<n.y+n.height},point:function(t,e){return new ut(t,e).transform(this.screenCTM().inverse())},ctm:function(){return new pt(this.node.getCTM())},screenCTM:function(){if("function"==typeof this.isRoot&&!this.isRoot()){const t=this.rect(1,1),e=t.node.getScreenCTM();return t.remove(),new pt(e)}return new pt(this.node.getScreenCTM())}}),B(Rt,"Element");const zt={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(t,e){return"color"===e?t:t+"-"+e}};["fill","stroke"].forEach(function(t){const e={};let n;e[t]=function(e){if(void 0===e)return this.attr(t);if("string"==typeof e||e instanceof lt||lt.isRgb(e)||e instanceof Rt)this.attr(t,e);else for(n=zt[t].length-1;n>=0;n--)null!=e[zt[t][n]]&&this.attr(zt.prefix(t,zt[t][n]),e[zt[t][n]]);return this},o(["Element","Runner"],e)}),o(["Element","Runner"],{matrix:function(t,e,n,i,r,o){return null==t?new pt(this):this.attr("transform",new pt(t,e,n,i,r,o))},rotate:function(t,e,n){return this.transform({rotate:t,ox:e,oy:n},!0)},skew:function(t,e,n,i){return 1===arguments.length||3===arguments.length?this.transform({skew:t,ox:e,oy:n},!0):this.transform({skew:[t,e],ox:n,oy:i},!0)},shear:function(t,e,n){return this.transform({shear:t,ox:e,oy:n},!0)},scale:function(t,e,n,i){return 1===arguments.length||3===arguments.length?this.transform({scale:t,ox:e,oy:n},!0):this.transform({scale:[t,e],ox:n,oy:i},!0)},translate:function(t,e){return this.transform({translate:[t,e]},!0)},relative:function(t,e){return this.transform({relative:[t,e]},!0)},flip:function(t="both",e="center"){return-1==="xybothtrue".indexOf(t)&&(e=t,t="both"),this.transform({flip:t,origin:e},!0)},opacity:function(t){return this.attr("opacity",t)}}),o("radius",{radius:function(t,e=t){return"radialGradient"===(this._element||this).type?this.attr("r",new It(t)):this.rx(t).ry(e)}}),o("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(t){return new ut(this.node.getPointAtLength(t))}}),o(["Element","Runner"],{font:function(t,e){if("object"==typeof t){for(e in t)this.font(e,t[e]);return this}return"leading"===t?this.leading(e):"anchor"===t?this.attr("text-anchor",e):"size"===t||"family"===t||"weight"===t||"stretch"===t||"variant"===t||"style"===t?this.attr("font-"+t,e):this.attr(t,e)}}),o("Element",["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel"].reduce(function(t,e){return t[e]=function(t){return null===t?this.off(e):this.on(e,t),this},t},{})),o("Element",{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(K).slice(0,-1).map(function(t){const e=t.trim().split("(");return[e[0],e[1].split(it).map(function(t){return parseFloat(t)})]}).reverse().reduce(function(t,e){return"matrix"===e[0]?t.lmultiply(pt.fromArray(e[1])):t[e[0]].apply(t,e[1])},new pt)},toParent:function(t,e){if(this===t)return this;const n=this.screenCTM(),i=t.screenCTM().inverse();return this.addTo(t,e).untransform().transform(i.multiply(n)),this},toRoot:function(t){return this.toParent(this.root(),t)},transform:function(t,e){if(null==t||"string"==typeof t){const e=new pt(this).decompose();return null==t?e:e[t]}pt.isMatrixLike(t)||(t={...t,origin:v(t,this)});const n=new pt(!0===e?this:e||!1).transform(t);return this.attr("transform",n)}});class Bt extends Rt{flatten(t=this,e){return this.each(function(){if(this instanceof Bt)return this.flatten().ungroup()}),this}ungroup(t=this.parent(),e=t.index(this)){return e=-1===e?t.children().length:e,this.each(function(n,i){return i[i.length-n-1].toParent(t,e)}),this.remove()}}B(Bt,"Container");class Nt extends Bt{constructor(t,e=t){super(D("defs",t),e)}flatten(){return this}ungroup(){return this}}B(Nt,"Defs");class Ut extends Rt{}function Ht(t){return this.attr("rx",t)}function Vt(t){return this.attr("ry",t)}function Wt(t){return null==t?this.cx()-this.rx():this.cx(t+this.rx())}function qt(t){return null==t?this.cy()-this.ry():this.cy(t+this.ry())}function Gt(t){return this.attr("cx",t)}function Yt(t){return this.attr("cy",t)}function Xt(t){return null==t?2*this.rx():this.rx(new It(t).divide(2))}function Zt(t){return null==t?2*this.ry():this.ry(new It(t).divide(2))}var Kt;B(Ut,"Shape");class Qt extends Ut{constructor(t,e=t){super(D("ellipse",t),e)}size(t,e){const n=h(this,t,e);return this.rx(new It(n.width).divide(2)).ry(new It(n.height).divide(2))}}W(Qt,{__proto__:null,rx:Ht,ry:Vt,x:Wt,y:qt,cx:Gt,cy:Yt,width:Xt,height:Zt}),o("Container",{ellipse:q(function(t=0,e=t){return this.put(new Qt).size(t,e).move(0,0)})}),B(Qt,"Ellipse");class Jt extends Ft{constructor(t=O.document.createDocumentFragment()){super(t)}xml(t,e,n){if("boolean"==typeof t&&(n=e,e=t,t=null),null==t||"function"==typeof t){const t=new Ft(L("wrapper",n));return t.add(this.node.cloneNode(!0)),t.xml(!1,n)}return super.xml(t,!1,n)}}function $t(t,e){return"radialGradient"===(this._element||this).type?this.attr({fx:new It(t),fy:new It(e)}):this.attr({x1:new It(t),y1:new It(e)})}function te(t,e){return"radialGradient"===(this._element||this).type?this.attr({cx:new It(t),cy:new It(e)}):this.attr({x2:new It(t),y2:new It(e)})}B(Jt,"Fragment");class ee extends Bt{constructor(t,e){super(D(t+"Gradient","string"==typeof t?null:t),e)}attr(t,e,n){return"transform"===t&&(t="gradientTransform"),super.attr(t,e,n)}bbox(){return new vt}targets(){return bt('svg [fill*="'+this.id()+'"]')}toString(){return this.url()}update(t){return this.clear(),"function"==typeof t&&t.call(this,this),this}url(){return'url("#'+this.id()+'")'}}W(ee,{__proto__:null,from:$t,to:te}),o({Container:{gradient(...t){return this.defs().gradient(...t)}},Defs:{gradient:q(function(t,e){return this.put(new ee(t)).update(e)})}}),B(ee,"Gradient");class ne extends Bt{constructor(t,e=t){super(D("pattern",t),e)}attr(t,e,n){return"transform"===t&&(t="patternTransform"),super.attr(t,e,n)}bbox(){return new vt}targets(){return bt('svg [fill*="'+this.id()+'"]')}toString(){return this.url()}update(t){return this.clear(),"function"==typeof t&&t.call(this,this),this}url(){return'url("#'+this.id()+'")'}}o({Container:{pattern(...t){return this.defs().pattern(...t)}},Defs:{pattern:q(function(t,e,n){return this.put(new ne).update(n).attr({x:0,y:0,width:t,height:e,patternUnits:"userSpaceOnUse"})})}}),B(ne,"Pattern");class ie extends Ut{constructor(t,e=t){super(D("image",t),e)}load(t,e){if(!t)return this;const n=new O.window.Image;return Et(n,"load",function(t){const i=this.parent(ne);0===this.width()&&0===this.height()&&this.size(n.width,n.height),i instanceof ne&&0===i.width()&&0===i.height()&&i.size(this.width(),this.height()),"function"==typeof e&&e.call(this,t)},this),Et(n,"load error",function(){Pt(n)}),this.attr("href",n.src=t,_)}}Kt=function(t,e,n){return"fill"!==t&&"stroke"!==t||nt.test(e)&&(e=n.root().defs().image(e)),e instanceof ie&&(e=n.root().defs().pattern(0,0,t=>{t.add(e)})),e},Dt.push(Kt),o({Container:{image:q(function(t,e){return this.put(new ie).size(0,0).load(t,e)})}}),B(ie,"Image");class re extends Lt{bbox(){let t=-1/0,e=-1/0,n=1/0,i=1/0;return this.forEach(function(r){t=Math.max(r[0],t),e=Math.max(r[1],e),n=Math.min(r[0],n),i=Math.min(r[1],i)}),new vt(n,i,t-n,e-i)}move(t,e){const n=this.bbox();if(t-=n.x,e-=n.y,!isNaN(t)&&!isNaN(e))for(let n=this.length-1;n>=0;n--)this[n]=[this[n][0]+t,this[n][1]+e];return this}parse(t=[0,0]){const e=[];(t=t instanceof Array?Array.prototype.concat.apply([],t):t.trim().split(it).map(parseFloat)).length%2!=0&&t.pop();for(let n=0,i=t.length;n<i;n+=2)e.push([t[n],t[n+1]]);return e}size(t,e){let n;const i=this.bbox();for(n=this.length-1;n>=0;n--)i.width&&(this[n][0]=(this[n][0]-i.x)*t/i.width+i.x),i.height&&(this[n][1]=(this[n][1]-i.y)*e/i.height+i.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const t=[];for(let e=0,n=this.length;e<n;e++)t.push(this[e].join(","));return t.join(" ")}transform(t){return this.clone().transformO(t)}transformO(t){pt.isMatrixLike(t)||(t=new pt(t));for(let e=this.length;e--;){const[n,i]=this[e];this[e][0]=t.a*n+t.c*i+t.e,this[e][1]=t.b*n+t.d*i+t.f}return this}}var oe={__proto__:null,MorphArray:re,x:function(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)},y:function(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)},width:function(t){const e=this.bbox();return null==t?e.width:this.size(t,e.height)},height:function(t){const e=this.bbox();return null==t?e.height:this.size(e.width,t)}};class ae extends Ut{constructor(t,e=t){super(D("line",t),e)}array(){return new re([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(t,e){return this.attr(this.array().move(t,e).toLine())}plot(t,e,n,i){return null==t?this.array():(t=void 0!==e?{x1:t,y1:e,x2:n,y2:i}:new re(t).toLine(),this.attr(t))}size(t,e){const n=h(this,t,e);return this.attr(this.array().size(n.width,n.height).toLine())}}W(ae,oe),o({Container:{line:q(function(...t){return ae.prototype.plot.apply(this.put(new ae),null!=t[0]?t:[0,0,0,0])})}}),B(ae,"Line");class se extends Bt{constructor(t,e=t){super(D("marker",t),e)}height(t){return this.attr("markerHeight",t)}orient(t){return this.attr("orient",t)}ref(t,e){return this.attr("refX",t).attr("refY",e)}toString(){return"url(#"+this.id()+")"}update(t){return this.clear(),"function"==typeof t&&t.call(this,this),this}width(t){return this.attr("markerWidth",t)}}function ce(t,e){return function(n){return null==n?this[t]:(this[t]=n,e&&e.call(this),this)}}o({Container:{marker(...t){return this.defs().marker(...t)}},Defs:{marker:q(function(t,e,n){return this.put(new se).size(t,e).ref(t/2,e/2).viewbox(0,0,t,e).attr("orient","auto").update(n)})},marker:{marker(t,e,n,i){let r=["marker"];return"all"!==t&&r.push(t),r=r.join("-"),t=arguments[1]instanceof se?arguments[1]:this.defs().marker(e,n,i),this.attr(r,t)}}}),B(se,"Marker");const le={"-":function(t){return t},"<>":function(t){return-Math.cos(t*Math.PI)/2+.5},">":function(t){return Math.sin(t*Math.PI/2)},"<":function(t){return 1-Math.cos(t*Math.PI/2)},bezier:function(t,e,n,i){return function(r){return r<0?t>0?e/t*r:n>0?i/n*r:0:r>1?n<1?(1-i)/(1-n)*r+(i-n)/(1-n):t<1?(1-e)/(1-t)*r+(e-t)/(1-t):1:3*r*(1-r)**2*e+3*r**2*(1-r)*i+r**3}},steps:function(t,e="end"){e=e.split("-").reverse()[0];let n=t;return"none"===e?--n:"both"===e&&++n,(i,r=!1)=>{let o=Math.floor(i*t);const a=i*o%1==0;return"start"!==e&&"both"!==e||++o,r&&a&&--o,i>=0&&o<0&&(o=0),i<=1&&o>n&&(o=n),o/n}}};class ue{done(){return!1}}class de extends ue{constructor(t=Tt.ease){super(),this.ease=le[t]||t}step(t,e,n){return"number"!=typeof t?n<1?t:e:t+(e-t)*this.ease(n)}}class pe extends ue{constructor(t){super(),this.stepper=t}done(t){return t.done}step(t,e,n,i){return this.stepper(t,e,n,i)}}function fe(){const t=(this._duration||500)/1e3,e=this._overshoot||0,n=Math.PI,i=Math.log(e/100+1e-10),r=-i/Math.sqrt(n*n+i*i),o=3.9/(r*t);this.d=2*r*o,this.k=o*o}class he extends pe{constructor(t=500,e=0){super(),this.duration(t).overshoot(e)}step(t,e,n,i){if("string"==typeof t)return t;if(i.done=n===1/0,n===1/0)return e;if(0===n)return t;n>100&&(n=16),n/=1e3;const r=i.velocity||0,o=-this.d*r-this.k*(t-e),a=t+r*n+o*n*n/2;return i.velocity=r+o*n,i.done=Math.abs(e-a)+Math.abs(r)<.002,i.done?e:a}}W(he,{duration:ce("_duration",fe),overshoot:ce("_overshoot",fe)});class ve extends pe{constructor(t=.1,e=.01,n=0,i=1e3){super(),this.p(t).i(e).d(n).windup(i)}step(t,e,n,i){if("string"==typeof t)return t;if(i.done=n===1/0,n===1/0)return e;if(0===n)return t;const r=e-t;let o=(i.integral||0)+r*n;const a=(r-(i.error||0))/n,s=this._windup;return!1!==s&&(o=Math.max(-s,Math.min(o,s))),i.error=r,i.integral=o,i.done=Math.abs(r)<.001,i.done?e:t+(this.P*r+this.I*o+this.D*a)}}W(ve,{windup:ce("_windup"),p:ce("P"),i:ce("I"),d:ce("D")});const ge={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},me={M:function(t,e,n){return e.x=n.x=t[0],e.y=n.y=t[1],["M",e.x,e.y]},L:function(t,e){return e.x=t[0],e.y=t[1],["L",t[0],t[1]]},H:function(t,e){return e.x=t[0],["H",t[0]]},V:function(t,e){return e.y=t[0],["V",t[0]]},C:function(t,e){return e.x=t[4],e.y=t[5],["C",t[0],t[1],t[2],t[3],t[4],t[5]]},S:function(t,e){return e.x=t[2],e.y=t[3],["S",t[0],t[1],t[2],t[3]]},Q:function(t,e){return e.x=t[2],e.y=t[3],["Q",t[0],t[1],t[2],t[3]]},T:function(t,e){return e.x=t[0],e.y=t[1],["T",t[0],t[1]]},Z:function(t,e,n){return e.x=n.x,e.y=n.y,["Z"]},A:function(t,e){return e.x=t[5],e.y=t[6],["A",t[0],t[1],t[2],t[3],t[4],t[5],t[6]]}},ye="mlhvqtcsaz".split("");for(let t=0,e=ye.length;t<e;++t)me[ye[t]]=function(t){return function(e,n,i){if("H"===t)e[0]=e[0]+n.x;else if("V"===t)e[0]=e[0]+n.y;else if("A"===t)e[5]=e[5]+n.x,e[6]=e[6]+n.y;else for(let t=0,i=e.length;t<i;++t)e[t]=e[t]+(t%2?n.y:n.x);return me[t](e,n,i)}}(ye[t].toUpperCase());function be(t){return t.segment.length&&t.segment.length-1===ge[t.segment[0].toUpperCase()]}function _e(t,e){t.inNumber&&we(t,!1);const n=rt.test(e);if(n)t.segment=[e];else{const e=t.lastCommand,n=e.toLowerCase(),i=e===n;t.segment=["m"===n?i?"l":"L":e]}return t.inSegment=!0,t.lastCommand=t.segment[0],n}function we(t,e){if(!t.inNumber)throw new Error("Parser Error");t.number&&t.segment.push(parseFloat(t.number)),t.inNumber=e,t.number="",t.pointSeen=!1,t.hasExponent=!1,be(t)&&xe(t)}function xe(t){t.inSegment=!1,t.absolute&&(t.segment=function(t){const e=t.segment[0];return me[e](t.segment.slice(1),t.p,t.p0)}(t)),t.segments.push(t.segment)}function Oe(t){if(!t.segment.length)return!1;const e="A"===t.segment[0].toUpperCase(),n=t.segment.length;return e&&(4===n||5===n)}function Se(t){return"E"===t.lastToken.toUpperCase()}class Ee extends Lt{bbox(){return ft().path.setAttribute("d",this.toString()),new vt(ft.nodes.path.getBBox())}move(t,e){const n=this.bbox();if(t-=n.x,e-=n.y,!isNaN(t)&&!isNaN(e))for(let n,i=this.length-1;i>=0;i--)"M"===(n=this[i][0])||"L"===n||"T"===n?(this[i][1]+=t,this[i][2]+=e):"H"===n?this[i][1]+=t:"V"===n?this[i][1]+=e:"C"===n||"S"===n||"Q"===n?(this[i][1]+=t,this[i][2]+=e,this[i][3]+=t,this[i][4]+=e,"C"===n&&(this[i][5]+=t,this[i][6]+=e)):"A"===n&&(this[i][6]+=t,this[i][7]+=e);return this}parse(t="M0 0"){return Array.isArray(t)&&(t=Array.prototype.concat.apply([],t).toString()),function(t,e=!0){let n=0,i="";const r={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:e,p0:new ut,p:new ut};for(;r.lastToken=i,i=t.charAt(n++);)if(r.inSegment||!_e(r,i))if("."!==i)if(isNaN(parseInt(i)))if(" "!==i&&","!==i)if("-"!==i)if("E"!==i.toUpperCase()){if(rt.test(i)){if(r.inNumber)we(r,!1);else{if(!be(r))throw new Error("parser Error");xe(r)}--n}}else r.number+=i,r.hasExponent=!0;else{if(r.inNumber&&!Se(r)){we(r,!1),--n;continue}r.number+=i,r.inNumber=!0}else r.inNumber&&we(r,!1);else{if("0"===r.number||Oe(r)){r.inNumber=!0,r.number=i,we(r,!0);continue}r.inNumber=!0,r.number+=i}else{if(r.pointSeen||r.hasExponent){we(r,!1),--n;continue}r.inNumber=!0,r.pointSeen=!0,r.number+=i}return r.inNumber&&we(r,!1),r.inSegment&&be(r)&&xe(r),r.segments}(t)}size(t,e){const n=this.bbox();let i,r;for(n.width=0===n.width?1:n.width,n.height=0===n.height?1:n.height,i=this.length-1;i>=0;i--)"M"===(r=this[i][0])||"L"===r||"T"===r?(this[i][1]=(this[i][1]-n.x)*t/n.width+n.x,this[i][2]=(this[i][2]-n.y)*e/n.height+n.y):"H"===r?this[i][1]=(this[i][1]-n.x)*t/n.width+n.x:"V"===r?this[i][1]=(this[i][1]-n.y)*e/n.height+n.y:"C"===r||"S"===r||"Q"===r?(this[i][1]=(this[i][1]-n.x)*t/n.width+n.x,this[i][2]=(this[i][2]-n.y)*e/n.height+n.y,this[i][3]=(this[i][3]-n.x)*t/n.width+n.x,this[i][4]=(this[i][4]-n.y)*e/n.height+n.y,"C"===r&&(this[i][5]=(this[i][5]-n.x)*t/n.width+n.x,this[i][6]=(this[i][6]-n.y)*e/n.height+n.y)):"A"===r&&(this[i][1]=this[i][1]*t/n.width,this[i][2]=this[i][2]*e/n.height,this[i][6]=(this[i][6]-n.x)*t/n.width+n.x,this[i][7]=(this[i][7]-n.y)*e/n.height+n.y);return this}toString(){return function(t){let e="";for(let n=0,i=t.length;n<i;n++)e+=t[n][0],null!=t[n][1]&&(e+=t[n][1],null!=t[n][2]&&(e+=" ",e+=t[n][2],null!=t[n][3]&&(e+=" ",e+=t[n][3],e+=" ",e+=t[n][4],null!=t[n][5]&&(e+=" ",e+=t[n][5],e+=" ",e+=t[n][6],null!=t[n][7]&&(e+=" ",e+=t[n][7])))));return e+" "}(this)}}const Pe=t=>{const e=typeof t;return"number"===e?It:"string"===e?lt.isColor(t)?lt:it.test(t)?rt.test(t)?Ee:Lt:G.test(t)?It:Ce:Ae.indexOf(t.constructor)>-1?t.constructor:Array.isArray(t)?Lt:"object"===e?Me:Ce};class ke{constructor(t){this._stepper=t||new de("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(t){const e=this;return this._morphObj.fromArray(this._from.map(function(n,i){return e._stepper.step(n,e._to[i],t,e._context[i],e._context)}))}done(){return this._context.map(this._stepper.done).reduce(function(t,e){return t&&e},!0)}from(t){return null==t?this._from:(this._from=this._set(t),this)}stepper(t){return null==t?this._stepper:(this._stepper=t,this)}to(t){return null==t?this._to:(this._to=this._set(t),this)}type(t){return null==t?this._type:(this._type=t,this)}_set(t){this._type||this.type(Pe(t));let e=new this._type(t);return this._type===lt&&(e=this._to?e[this._to[4]]():this._from?e[this._from[4]]():e),this._type===Me&&(e=this._to?e.align(this._to):this._from?e.align(this._from):e),e=e.toArray(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(e.length)).map(Object).map(function(t){return t.done=!0,t}),e}}class Ce{constructor(...t){this.init(...t)}init(t){return t=Array.isArray(t)?t[0]:t,this.value=t,this}toArray(){return[this.value]}valueOf(){return this.value}}class je{constructor(...t){this.init(...t)}init(t){return Array.isArray(t)&&(t={scaleX:t[0],scaleY:t[1],shear:t[2],rotate:t[3],translateX:t[4],translateY:t[5],originX:t[6],originY:t[7]}),Object.assign(this,je.defaults,t),this}toArray(){const t=this;return[t.scaleX,t.scaleY,t.shear,t.rotate,t.translateX,t.translateY,t.originX,t.originY]}}je.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const Te=(t,e)=>t[0]<e[0]?-1:t[0]>e[0]?1:0;class Me{constructor(...t){this.init(...t)}align(t){for(let e=0,n=this.values.length;e<n;++e)if(this.values[e]===lt){const n=t[e+6],i=new lt(this.values.splice(e+2,5))[n]().toArray();this.values.splice(e+2,0,...i)}return this}init(t){if(this.values=[],Array.isArray(t))return void(this.values=t.slice());t=t||{};const e=[];for(const n in t){const i=Pe(t[n]),r=new i(t[n]).toArray();e.push([n,i,r.length,...r])}return e.sort(Te),this.values=e.reduce((t,e)=>t.concat(e),[]),this}toArray(){return this.values}valueOf(){const t={},e=this.values;for(;e.length;){const n=e.shift(),i=e.shift(),r=e.shift(),o=e.splice(0,r);t[n]=new i(o).valueOf()}return t}}const Ae=[Ce,je,Me];function Le(t=[]){Ae.push(...[].concat(t))}function Ie(){W(Ae,{to(t){return(new ke).type(this.constructor).from(this.valueOf()).to(t)},fromArray(t){return this.init(t),this}})}class De extends Ut{constructor(t,e=t){super(D("path",t),e)}array(){return this._array||(this._array=new Ee(this.attr("d")))}clear(){return delete this._array,this}height(t){return null==t?this.bbox().height:this.size(this.bbox().width,t)}move(t,e){return this.attr("d",this.array().move(t,e))}plot(t){return null==t?this.array():this.clear().attr("d","string"==typeof t?t:this._array=new Ee(t))}size(t,e){const n=h(this,t,e);return this.attr("d",this.array().size(n.width,n.height))}width(t){return null==t?this.bbox().width:this.size(t,this.bbox().height)}x(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)}y(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)}}De.prototype.MorphArray=Ee,o({Container:{path:q(function(t){return this.put(new De).plot(t||new Ee)})}}),B(De,"Path");var Fe={__proto__:null,array:function(){return this._array||(this._array=new re(this.attr("points")))},clear:function(){return delete this._array,this},move:function(t,e){return this.attr("points",this.array().move(t,e))},plot:function(t){return null==t?this.array():this.clear().attr("points","string"==typeof t?t:this._array=new re(t))},size:function(t,e){const n=h(this,t,e);return this.attr("points",this.array().size(n.width,n.height))}};class Re extends Ut{constructor(t,e=t){super(D("polygon",t),e)}}o({Container:{polygon:q(function(t){return this.put(new Re).plot(t||new re)})}}),W(Re,oe),W(Re,Fe),B(Re,"Polygon");class ze extends Ut{constructor(t,e=t){super(D("polyline",t),e)}}o({Container:{polyline:q(function(t){return this.put(new ze).plot(t||new re)})}}),W(ze,oe),W(ze,Fe),B(ze,"Polyline");class Be extends Ut{constructor(t,e=t){super(D("rect",t),e)}}W(Be,{rx:Ht,ry:Vt}),o({Container:{rect:q(function(t,e){return this.put(new Be).size(t,e)})}}),B(Be,"Rect");class Ne{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(t){const e=void 0!==t.next?t:{value:t,next:null,prev:null};return this._last?(e.prev=this._last,this._last.next=e,this._last=e):(this._last=e,this._first=e),e}remove(t){t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t===this._last&&(this._last=t.prev),t===this._first&&(this._first=t.next),t.prev=null,t.next=null}shift(){const t=this._first;return t?(this._first=t.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,t.value):null}}const Ue={nextDraw:null,frames:new Ne,timeouts:new Ne,immediates:new Ne,timer:()=>O.window.performance||O.window.Date,transforms:[],frame(t){const e=Ue.frames.push({run:t});return null===Ue.nextDraw&&(Ue.nextDraw=O.window.requestAnimationFrame(Ue._draw)),e},timeout(t,e){e=e||0;const n=Ue.timer().now()+e,i=Ue.timeouts.push({run:t,time:n});return null===Ue.nextDraw&&(Ue.nextDraw=O.window.requestAnimationFrame(Ue._draw)),i},immediate(t){const e=Ue.immediates.push(t);return null===Ue.nextDraw&&(Ue.nextDraw=O.window.requestAnimationFrame(Ue._draw)),e},cancelFrame(t){null!=t&&Ue.frames.remove(t)},clearTimeout(t){null!=t&&Ue.timeouts.remove(t)},cancelImmediate(t){null!=t&&Ue.immediates.remove(t)},_draw(t){let e=null;const n=Ue.timeouts.last();for(;(e=Ue.timeouts.shift())&&(t>=e.time?e.run():Ue.timeouts.push(e),e!==n););let i=null;const r=Ue.frames.last();for(;i!==r&&(i=Ue.frames.shift());)i.run(t);let o=null;for(;o=Ue.immediates.shift();)o();Ue.nextDraw=Ue.timeouts.first()||Ue.frames.first()?O.window.requestAnimationFrame(Ue._draw):null}},He=function(t){const e=t.start,n=t.runner.duration();return{start:e,duration:n,end:e+n,runner:t.runner}},Ve=function(){const t=O.window;return(t.performance||t.Date).now()};class We extends Ct{constructor(t=Ve){super(),this._timeSource=t,this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const t=this.getLastRunnerInfo(),e=t?t.runner.duration():0;return(t?t.start:this._time)+e}getEndTimeOfTimeline(){const t=this._runners.map(t=>t.start+t.runner.duration());return Math.max(0,...t)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(t){return this._runners[this._runnerIds.indexOf(t)]||null}pause(){return this._paused=!0,this._continue()}persist(t){return null==t?this._persist:(this._persist=t,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(t){const e=this.speed();if(null==t)return this.speed(-e);const n=Math.abs(e);return this.speed(t?-n:n)}schedule(t,e,n){if(null==t)return this._runners.map(He);let i=0;const r=this.getEndTime();if(e=e||0,null==n||"last"===n||"after"===n)i=r;else if("absolute"===n||"start"===n)i=e,e=0;else if("now"===n)i=this._time;else if("relative"===n){const n=this.getRunnerInfoById(t.id);n&&(i=n.start+e,e=0)}else{if("with-last"!==n)throw new Error('Invalid value for the "when" parameter');{const t=this.getLastRunnerInfo();i=t?t.start:this._time}}t.unschedule(),t.timeline(this);const o=t.persist(),a={persist:null===o?this._persist:o,start:i+e,runner:t};return this._lastRunnerId=t.id,this._runners.push(a),this._runners.sort((t,e)=>t.start-e.start),this._runnerIds=this._runners.map(t=>t.runner.id),this.updateTime()._continue(),this}seek(t){return this.time(this._time+t)}source(t){return null==t?this._timeSource:(this._timeSource=t,this)}speed(t){return null==t?this._speed:(this._speed=t,this)}stop(){return this.time(0),this.pause()}time(t){return null==t?this._time:(this._time=t,this._continue(!0))}unschedule(t){const e=this._runnerIds.indexOf(t.id);return e<0?this:(this._runners.splice(e,1),this._runnerIds.splice(e,1),t.timeline(null),this)}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(t=!1){return Ue.cancelFrame(this._nextFrame),this._nextFrame=null,t?this._stepImmediate():this._paused?this:(this._nextFrame=Ue.frame(this._step),this)}_stepFn(t=!1){const e=this._timeSource();let n=e-this._lastSourceTime;t&&(n=0);const i=this._speed*n+(this._time-this._lastStepTime);this._lastSourceTime=e,t||(this._time+=i,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let t=this._runners.length;t--;){const e=this._runners[t],n=e.runner;this._time-e.start<=0&&n.reset()}let r=!1;for(let t=0,e=this._runners.length;t<e;t++){const n=this._runners[t],o=n.runner;let a=i;const s=this._time-n.start;if(s<=0)r=!0;else if(s<a&&(a=s),o.active())if(o.step(a).done){if(!0!==n.persist){o.duration()-o.time()+this._time+n.persist<this._time&&(o.unschedule(),--t,--e)}}else r=!0}return r&&!(this._speed<0&&0===this._time)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}}o({Element:{timeline:function(t){return null==t?(this._timeline=this._timeline||new We,this._timeline):(this._timeline=t,this)}}});class qe extends Ct{constructor(t){super(),this.id=qe.id++,t="function"==typeof(t=null==t?Tt.duration:t)?new pe(t):t,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration="number"==typeof t&&t,this._isDeclarative=t instanceof pe,this._stepper=this._isDeclarative?t:new de,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new pt,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=!!this._isDeclarative||null}static sanitise(t,e,n){let i=1,r=!1,o=0;return t=t||Tt.duration,e=e||Tt.delay,n=n||"last","object"!=typeof t||t instanceof ue||(e=t.delay||e,n=t.when||n,r=t.swing||r,i=t.times||i,o=t.wait||o,t=t.duration||Tt.duration),{duration:t,delay:e,swing:r,times:i,wait:o,when:n}}active(t){return null==t?this.enabled:(this.enabled=t,this)}addTransform(t,e){return this.transforms.lmultiplyO(t),this}after(t){return this.on("finished",t)}animate(t,e,n){const i=qe.sanitise(t,e,n),r=new qe(i.duration);return this._timeline&&r.timeline(this._timeline),this._element&&r.element(this._element),r.loop(i).schedule(i.delay,i.when)}clearTransform(){return this.transforms=new pt,this}clearTransformsFromQueue(){this.done&&this._timeline&&this._timeline._runnerIds.includes(this.id)||(this._queue=this._queue.filter(t=>!t.isTransform))}delay(t){return this.animate(0,t)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(t){return this.queue(null,t)}ease(t){return this._stepper=new de(t),this}element(t){return null==t?this._element:(this._element=t,t._prepareRunner(),this)}finish(){return this.step(1/0)}loop(t,e,n){return"object"==typeof t&&(e=t.swing,n=t.wait,t=t.times),this._times=t||1/0,this._swing=e||!1,this._wait=n||0,!0===this._times&&(this._times=1/0),this}loops(t){const e=this._duration+this._wait;if(null==t){const t=Math.floor(this._time/e),n=(this._time-t*e)/this._duration;return Math.min(t+n,this._times)}const n=t%1,i=e*Math.floor(t)+this._duration*n;return this.time(i)}persist(t){return null==t?this._persist:(this._persist=t,this)}position(t){const e=this._time,n=this._duration,i=this._wait,r=this._times,o=this._swing,a=this._reverse;let s;if(null==t){const t=function(t){const e=o*Math.floor(t%(2*(i+n))/(i+n)),r=e&&!a||!e&&a,s=Math.pow(-1,r)*(t%(i+n))/n+r;return Math.max(Math.min(s,1),0)},c=r*(i+n)-i;return s=e<=0?Math.round(t(1e-5)):e<c?t(e):Math.round(t(c-1e-5))}const c=Math.floor(this.loops()),l=o&&c%2==0;return s=c+(l&&!a||a&&l?t:1-t),this.loops(s)}progress(t){return null==t?Math.min(1,this._time/this.duration()):this.time(t*this.duration())}queue(t,e,n,i){return this._queue.push({initialiser:t||jt,runner:e||jt,retarget:n,isTransform:i,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted?this:(this.time(0),this._reseted=!0,this)}reverse(t){return this._reverse=null==t?!this._reverse:t,this}schedule(t,e,n){if(t instanceof We||(n=e,e=t,t=this.timeline()),!t)throw Error("Runner cannot be scheduled without timeline");return t.schedule(this,e,n),this}step(t){if(!this.enabled)return this;t=null==t?16:t,this._time+=t;const e=this.position(),n=this._lastPosition!==e&&this._time>=0;this._lastPosition=e;const i=this.duration(),r=this._lastTime<=0&&this._time>0,o=this._lastTime<i&&this._time>=i;this._lastTime=this._time,r&&this.fire("start",this);const a=this._isDeclarative;this.done=!a&&!o&&this._time>=i,this._reseted=!1;let s=!1;return(n||a)&&(this._initialise(n),this.transforms=new pt,s=this._run(a?t:e),this.fire("step",this)),this.done=this.done||s&&a,o&&this.fire("finished",this),this}time(t){if(null==t)return this._time;const e=t-this._time;return this.step(e),this}timeline(t){return void 0===t?this._timeline:(this._timeline=t,this)}unschedule(){const t=this.timeline();return t&&t.unschedule(this),this}_initialise(t){if(t||this._isDeclarative)for(let e=0,n=this._queue.length;e<n;++e){const n=this._queue[e],i=this._isDeclarative||!n.initialised&&t;t=!n.finished,i&&t&&(n.initialiser.call(this),n.initialised=!0)}}_rememberMorpher(t,e){if(this._history[t]={morpher:e,caller:this._queue[this._queue.length-1]},this._isDeclarative){const t=this.timeline();t&&t.play()}}_run(t){let e=!0;for(let n=0,i=this._queue.length;n<i;++n){const i=this._queue[n],r=i.runner.call(this,t);i.finished=i.finished||!0===r,e=e&&i.finished}return e}_tryRetarget(t,e,n){if(this._history[t]){if(!this._history[t].caller.initialised){const e=this._queue.indexOf(this._history[t].caller);return this._queue.splice(e,1),!1}this._history[t].caller.retarget?this._history[t].caller.retarget.call(this,e,n):this._history[t].morpher.to(e),this._history[t].caller.finished=!1;const i=this.timeline();return i&&i.play(),!0}return!1}}qe.id=0;class Ge{constructor(t=new pt,e=-1,n=!0){this.transforms=t,this.id=e,this.done=n}clearTransformsFromQueue(){}}W([qe,Ge],{mergeWith(t){return new Ge(t.transforms.lmultiply(this.transforms),t.id)}});const Ye=(t,e)=>t.lmultiplyO(e),Xe=t=>t.transforms;o({Element:{animate(t,e,n){const i=qe.sanitise(t,e,n),r=this.timeline();return new qe(i.duration).loop(i).element(this).timeline(r.play()).schedule(i.delay,i.when)},delay(t,e){return this.animate(0,t,e)},_clearTransformRunnersBefore(t){this._transformationRunners.clearBefore(t.id)},_currentTransform(t){return this._transformationRunners.runners.filter(e=>e.id<=t.id).map(Xe).reduce(Ye,new pt)},_addRunner(t){this._transformationRunners.add(t),Ue.cancelImmediate(this._frameId),this._frameId=Ue.immediate(function(){const t=this._transformationRunners.runners.map(Xe).reduce(Ye,new pt);this.transform(t),this._transformationRunners.merge(),1===this._transformationRunners.length()&&(this._frameId=null)}.bind(this))},_prepareRunner(){null==this._frameId&&(this._transformationRunners=(new class{constructor(){this.runners=[],this.ids=[]}add(t){if(this.runners.includes(t))return;const e=t.id+1;return this.runners.push(t),this.ids.push(e),this}clearBefore(t){const e=this.ids.indexOf(t+1)||1;return this.ids.splice(0,e,0),this.runners.splice(0,e,new Ge).forEach(t=>t.clearTransformsFromQueue()),this}edit(t,e){const n=this.ids.indexOf(t+1);return this.ids.splice(n,1,t+1),this.runners.splice(n,1,e),this}getByID(t){return this.runners[this.ids.indexOf(t+1)]}length(){return this.ids.length}merge(){let t=null;for(let e=0;e<this.runners.length;++e){const n=this.runners[e];if(!(t&&n.done&&t.done)||n._timeline&&n._timeline._runnerIds.includes(n.id)||t._timeline&&t._timeline._runnerIds.includes(t.id))t=n;else{this.remove(n.id);const i=n.mergeWith(t);this.edit(t.id,i),t=i,--e}}return this}remove(t){const e=this.ids.indexOf(t+1);return this.ids.splice(e,1),this.runners.splice(e,1),this}}).add(new Ge(new pt(this))))}}});W(qe,{attr(t,e){return this.styleAttr("attr",t,e)},css(t,e){return this.styleAttr("css",t,e)},styleAttr(t,e,n){if("string"==typeof e)return this.styleAttr(t,{[e]:n});let i=e;if(this._tryRetarget(t,i))return this;let r=new ke(this._stepper).to(i),o=Object.keys(i);return this.queue(function(){r=r.from(this.element()[t](o))},function(e){return this.element()[t](r.at(e).valueOf()),r.done()},function(e){const n=Object.keys(e),a=((t,e)=>t.filter(t=>!e.includes(t)))(n,o);if(a.length){const e=this.element()[t](a),n=new Me(r.from()).valueOf();Object.assign(n,e),r.from(n)}const s=new Me(r.to()).valueOf();Object.assign(s,e),r.to(s),o=n,i=e}),this._rememberMorpher(t,r),this},zoom(t,e){if(this._tryRetarget("zoom",t,e))return this;let n=new ke(this._stepper).to(new It(t));return this.queue(function(){n=n.from(this.element().zoom())},function(t){return this.element().zoom(n.at(t),e),n.done()},function(t,i){e=i,n.to(t)}),this._rememberMorpher("zoom",n),this},transform(t,e,n){if(e=t.relative||e,this._isDeclarative&&!e&&this._tryRetarget("transform",t))return this;const i=pt.isMatrixLike(t);n=null!=t.affine?t.affine:null!=n?n:!i;const r=new ke(this._stepper).type(n?je:pt);let o,a,s,c,l;return this.queue(function(){a=a||this.element(),o=o||v(t,a),l=new pt(e?void 0:a),a._addRunner(this),e||a._clearTransformRunnersBefore(this)},function(u){e||this.clearTransform();const{x:d,y:p}=new ut(o).transform(a._currentTransform(this));let f=new pt({...t,origin:[d,p]}),h=this._isDeclarative&&s?s:l;if(n){f=f.decompose(d,p),h=h.decompose(d,p);const t=f.rotate,e=h.rotate,n=[t-360,t,t+360],i=n.map(t=>Math.abs(t-e)),r=Math.min(...i),o=i.indexOf(r);f.rotate=n[o]}e&&(i||(f.rotate=t.rotate||0),this._isDeclarative&&c&&(h.rotate=c)),r.from(h),r.to(f);const v=r.at(u);return c=v.rotate,s=new pt(v),this.addTransform(s),a._addRunner(this),r.done()},function(e){(e.origin||"center").toString()!==(t.origin||"center").toString()&&(o=v(e,a)),t={...e,origin:o}},!0),this._isDeclarative&&this._rememberMorpher("transform",r),this},x(t,e){return this._queueNumber("x",t)},y(t){return this._queueNumber("y",t)},dx(t=0){return this._queueNumberDelta("x",t)},dy(t=0){return this._queueNumberDelta("y",t)},dmove(t,e){return this.dx(t).dy(e)},_queueNumberDelta(t,e){if(e=new It(e),this._tryRetarget(t,e))return this;const n=new ke(this._stepper).to(e);let i=null;return this.queue(function(){i=this.element()[t](),n.from(i),n.to(i+e)},function(e){return this.element()[t](n.at(e)),n.done()},function(t){n.to(i+new It(t))}),this._rememberMorpher(t,n),this},_queueObject(t,e){if(this._tryRetarget(t,e))return this;const n=new ke(this._stepper).to(e);return this.queue(function(){n.from(this.element()[t]())},function(e){return this.element()[t](n.at(e)),n.done()}),this._rememberMorpher(t,n),this},_queueNumber(t,e){return this._queueObject(t,new It(e))},cx(t){return this._queueNumber("cx",t)},cy(t){return this._queueNumber("cy",t)},move(t,e){return this.x(t).y(e)},center(t,e){return this.cx(t).cy(e)},size(t,e){let n;return t&&e||(n=this._element.bbox()),t||(t=n.width/n.height*e),e||(e=n.height/n.width*t),this.width(t).height(e)},width(t){return this._queueNumber("width",t)},height(t){return this._queueNumber("height",t)},plot(t,e,n,i){if(4===arguments.length)return this.plot([t,e,n,i]);if(this._tryRetarget("plot",t))return this;const r=new ke(this._stepper).type(this._element.MorphArray).to(t);return this.queue(function(){r.from(this._element.array())},function(t){return this._element.plot(r.at(t)),r.done()}),this._rememberMorpher("plot",r),this},leading(t){return this._queueNumber("leading",t)},viewbox(t,e,n,i){return this._queueObject("viewbox",new vt(t,e,n,i))},update(t){return"object"!=typeof t?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",t.offset),this)}}),W(qe,{rx:Ht,ry:Vt,from:$t,to:te}),B(qe,"Runner");class Ze extends Bt{constructor(t,e=t){super(D("svg",t),e),this.namespace()}defs(){return this.isRoot()?F(this.node.querySelector("defs"))||this.put(new Nt):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof O.window.SVGElement)&&"#document-fragment"!==this.node.parentNode.nodeName}namespace(){return this.isRoot()?this.attr({xmlns:m,version:"1.1"}).attr("xmlns:xlink",_,b).attr("xmlns:svgjs",w,b):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,b).attr("xmlns:svgjs",null,b)}root(){return this.isRoot()?this:super.root()}}o({Container:{nested:q(function(){return this.put(new Ze)})}}),B(Ze,"Svg",!0);class Ke extends Bt{constructor(t,e=t){super(D("symbol",t),e)}}o({Container:{symbol:q(function(){return this.put(new Ke)})}}),B(Ke,"Symbol");var Qe={__proto__:null,plain:function(t){return!1===this._build&&this.clear(),this.node.appendChild(O.document.createTextNode(t)),this},length:function(){return this.node.getComputedTextLength()},x:function(t,e=this.bbox()){return null==t?e.x:this.attr("x",this.attr("x")+t-e.x)},y:function(t,e=this.bbox()){return null==t?e.y:this.attr("y",this.attr("y")+t-e.y)},move:function(t,e,n=this.bbox()){return this.x(t,n).y(e,n)},cx:function(t,e=this.bbox()){return null==t?e.cx:this.attr("x",this.attr("x")+t-e.cx)},cy:function(t,e=this.bbox()){return null==t?e.cy:this.attr("y",this.attr("y")+t-e.cy)},center:function(t,e,n=this.bbox()){return this.cx(t,n).cy(e,n)},ax:function(t){return this.attr("x",t)},ay:function(t){return this.attr("y",t)},amove:function(t,e){return this.ax(t).ay(e)},build:function(t){return this._build=!!t,this}};class Je extends Ut{constructor(t,e=t){super(D("text",t),e),this.dom.leading=new It(1.3),this._rebuild=!0,this._build=!1}leading(t){return null==t?this.dom.leading:(this.dom.leading=new It(t),this.rebuild())}rebuild(t){if("boolean"==typeof t&&(this._rebuild=t),this._rebuild){const t=this;let e=0;const n=this.dom.leading;this.each(function(i){const r=O.window.getComputedStyle(this.node).getPropertyValue("font-size"),o=n*new It(r);this.dom.newLined&&(this.attr("x",t.attr("x")),"\n"===this.text()?e+=o:(this.attr("dy",i?o+e:0),e=0))}),this.fire("rebuild")}return this}setData(t){return this.dom=t,this.dom.leading=new It(t.leading||1.3),this}text(t){if(void 0===t){const e=this.node.childNodes;let n=0;t="";for(let i=0,r=e.length;i<r;++i)"textPath"!==e[i].nodeName?(i!==n&&3!==e[i].nodeType&&!0===F(e[i]).dom.newLined&&(t+="\n"),t+=e[i].textContent):0===i&&(n=1);return t}if(this.clear().build(!0),"function"==typeof t)t.call(this,this);else for(let e=0,n=(t=(t+"").split("\n")).length;e<n;e++)this.newLine(t[e]);return this.build(!1).rebuild()}}W(Je,Qe),o({Container:{text:q(function(t=""){return this.put(new Je).text(t)}),plain:q(function(t=""){return this.put(new Je).plain(t)})}}),B(Je,"Text");class $e extends Ut{constructor(t,e=t){super(D("tspan",t),e),this._build=!1}dx(t){return this.attr("dx",t)}dy(t){return this.attr("dy",t)}newLine(){this.dom.newLined=!0;const t=this.parent();if(!(t instanceof Je))return this;const e=t.index(this),n=O.window.getComputedStyle(this.node).getPropertyValue("font-size"),i=t.dom.leading*new It(n);return this.dy(e?i:0).attr("x",t.x())}text(t){return null==t?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof t?(this.clear().build(!0),t.call(this,this),this.build(!1)):this.plain(t),this)}}W($e,Qe),o({Tspan:{tspan:q(function(t=""){const e=new $e;return this._build||this.clear(),this.put(e).text(t)})},Text:{newLine:function(t=""){return this.tspan(t).newLine()}}}),B($e,"Tspan");class tn extends Ut{constructor(t,e=t){super(D("circle",t),e)}radius(t){return this.attr("r",t)}rx(t){return this.attr("r",t)}ry(t){return this.rx(t)}size(t){return this.radius(new It(t).divide(2))}}W(tn,{x:Wt,y:qt,cx:Gt,cy:Yt,width:Xt,height:Zt}),o({Container:{circle:q(function(t=0){return this.put(new tn).size(t).move(0,0)})}}),B(tn,"Circle");class en extends Bt{constructor(t,e=t){super(D("clipPath",t),e)}remove(){return this.targets().forEach(function(t){t.unclip()}),super.remove()}targets(){return bt('svg [clip-path*="'+this.id()+'"]')}}o({Container:{clip:q(function(){return this.defs().put(new en)})},Element:{clipper(){return this.reference("clip-path")},clipWith(t){const e=t instanceof en?t:this.parent().clip().add(t);return this.attr("clip-path",'url("#'+e.id()+'")')},unclip(){return this.attr("clip-path",null)}}}),B(en,"ClipPath");class nn extends Rt{constructor(t,e=t){super(D("foreignObject",t),e)}}o({Container:{foreignObject:q(function(t,e){return this.put(new nn).size(t,e)})}}),B(nn,"ForeignObject");var rn={__proto__:null,dmove:function(t,e){return this.children().forEach((n,i)=>{let r;try{r=n.bbox()}catch(t){return}const o=new pt(n),a=o.translate(t,e).transform(o.inverse()),s=new ut(r.x,r.y).transform(a);n.move(s.x,s.y)}),this},dx:function(t){return this.dmove(t,0)},dy:function(t){return this.dmove(0,t)},height:function(t,e=this.bbox()){return null==t?e.height:this.size(e.width,t,e)},move:function(t=0,e=0,n=this.bbox()){const i=t-n.x,r=e-n.y;return this.dmove(i,r)},size:function(t,e,n=this.bbox()){const i=h(this,t,e,n),r=i.width/n.width,o=i.height/n.height;return this.children().forEach((t,e)=>{const i=new ut(n).transform(new pt(t).inverse());t.scale(r,o,i.x,i.y)}),this},width:function(t,e=this.bbox()){return null==t?e.width:this.size(t,e.height,e)},x:function(t,e=this.bbox()){return null==t?e.x:this.move(t,e.y,e)},y:function(t,e=this.bbox()){return null==t?e.y:this.move(e.x,t,e)}};class on extends Bt{constructor(t,e=t){super(D("g",t),e)}}W(on,rn),o({Container:{group:q(function(){return this.put(new on)})}}),B(on,"G");class an extends Bt{constructor(t,e=t){super(D("a",t),e)}target(t){return this.attr("target",t)}to(t){return this.attr("href",t,_)}}W(an,rn),o({Container:{link:q(function(t){return this.put(new an).to(t)})},Element:{unlink(){const t=this.linker();if(!t)return this;const e=t.parent();if(!e)return this.remove();const n=e.index(t);return e.add(this,n),t.remove(),this},linkTo(t){let e=this.linker();return e||(e=new an,this.wrap(e)),"function"==typeof t?t.call(e,e):e.to(t),this},linker(){const t=this.parent();return t&&"a"===t.node.nodeName.toLowerCase()?t:null}}}),B(an,"A");class sn extends Bt{constructor(t,e=t){super(D("mask",t),e)}remove(){return this.targets().forEach(function(t){t.unmask()}),super.remove()}targets(){return bt('svg [mask*="'+this.id()+'"]')}}o({Container:{mask:q(function(){return this.defs().put(new sn)})},Element:{masker(){return this.reference("mask")},maskWith(t){const e=t instanceof sn?t:this.parent().mask().add(t);return this.attr("mask",'url("#'+e.id()+'")')},unmask(){return this.attr("mask",null)}}}),B(sn,"Mask");class cn extends Rt{constructor(t,e=t){super(D("stop",t),e)}update(t){return("number"==typeof t||t instanceof It)&&(t={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",new It(t.offset)),this}}o({Gradient:{stop:function(t,e,n){return this.put(new cn).update(t,e,n)}}}),B(cn,"Stop");class ln extends Rt{constructor(t,e=t){super(D("style",t),e)}addText(t=""){return this.node.textContent+=t,this}font(t,e,n={}){return this.rule("@font-face",{fontFamily:t,src:e,...n})}rule(t,e){return this.addText(function(t,e){if(!t)return"";if(!e)return t;let n=t+"{";for(const t in e)n+=p(t)+":"+e[t]+";";return n+="}"}(t,e))}}o("Dom",{style(t,e){return this.put(new ln).rule(t,e)},fontface(t,e,n){return this.put(new ln).font(t,e,n)}}),B(ln,"Style");class un extends Je{constructor(t,e=t){super(D("textPath",t),e)}array(){const t=this.track();return t?t.array():null}plot(t){const e=this.track();let n=null;return e&&(n=e.plot(t)),null==t?n:this}track(){return this.reference("href")}}o({Container:{textPath:q(function(t,e){return t instanceof Je||(t=this.text(t)),t.path(e)})},Text:{path:q(function(t,e=!0){const n=new un;let i;if(t instanceof De||(t=this.defs().path(t)),n.attr("href","#"+t,_),e)for(;i=this.node.firstChild;)n.node.appendChild(i);return this.put(n)}),textPath(){return this.findOne("textPath")}},Path:{text:q(function(t){return t instanceof Je||(t=(new Je).addTo(this.parent()).text(t)),t.path(this)}),targets(){return bt("svg textPath").filter(t=>(t.attr("href")||"").includes(this.id()))}}}),un.prototype.MorphArray=Ee,B(un,"TextPath");class dn extends Ut{constructor(t,e=t){super(D("use",t),e)}use(t,e){return this.attr("href",(e||"")+"#"+t,_)}}o({Container:{use:q(function(t,e){return this.put(new dn).use(t,e)})}}),B(dn,"Use");const pn=I;W([Ze,Ke,ie,ne,se],a("viewbox")),W([ae,ze,Re,De],a("marker")),W(Je,a("Text")),W(De,a("Path")),W(Nt,a("Defs")),W([Je,$e],a("Tspan")),W([Be,Qt,ee,qe],a("radius")),W(Ct,a("EventTarget")),W(Ft,a("Dom")),W(Rt,a("Element")),W(Ut,a("Shape")),W([Bt,Jt],a("Container")),W(ee,a("Gradient")),W(qe,a("Runner")),mt.extend([...new Set(r)]),Le([It,lt,vt,pt,Lt,re,Ee]),Ie()},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Rect=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"rect"},enumerable:!1,configurable:!0}),e.prototype.setSize=function(t,e){return this._updateInternalDims(t,e),this},e.prototype._updateDom=function(){t.prototype._updateDom.call(this);var e=this.zoomedStrokeWidth;"transparent"===this.stroke()&&(e=0);var n=this.size.w,i=this.size.h;2*e>=n&&2*e>=i&&(e=n>i?n/2:i/2,e+=.5);var r=(n=Math.round(n))-e,o=(i=Math.round(i))-e;r<0&&(r=1),o<0&&(o=1),this.shape.attr({fill:this.fill(),"fill-opacity":this.fillOpacity(),stroke:this.stroke(),"stroke-width":e}),this.shape.size(r,o),this.resizeDrawingSurface(n,i),this.shape.move(.5*e,.5*e)},e.prototype.getDefaultAttributes=function(){return Object.assign({},t.prototype.getDefaultAttributes.call(this),{size_x1:{w:75,h:75},fillColor:e.currentDefaultFillColor,strokeColor:e.currentDefaultStrokeColor,strokeWidth:e.currentDefaultStrokeWidth})},e.prototype.setAttributes=function(n){void 0===n&&(n={}),t.prototype.setAttributes.call(this,n),"fillColor"in n&&(e.currentDefaultFillColor=n.fillColor),"strokeColor"in n&&(e.currentDefaultStrokeColor=n.strokeColor),"strokeWidth"in n&&(e.currentDefaultStrokeWidth=n.strokeWidth)},e.prototype.clone=function(t){var n=t,i=new e(n.pdfPage);i.cloned=!0,i.cloning=!0,i.zoomLevel=n.zoomLevel;var r=n.getAttributes();return i.setAttributes(r),i.cloning=!1,i},e.currentDefaultFillColor="#4CAF50",e.currentDefaultStrokeColor="transparent",e.currentDefaultStrokeWidth=6,e}(n(313).Shape);e.Rect=o},function(t,e,n){"use strict";(function(t,i){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),c=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&a(e,t,n);return s(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.Img=void 0;var l=n(234),u=c(n(16)),d=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.originalDims={w:0,h:0},t}return o(n,e),Object.defineProperty(n.prototype,"type",{get:function(){return"img"},enumerable:!1,configurable:!0}),n.prototype._updateDom=function(){this.imgElem&&(this.imgElem.width(this.size.w),this.imgElem.height(this.size.h))},n.prototype.setSize=function(t,e){return this._updateInternalDims(t,e),this},n.prototype.setAttributes=function(t){t.imgDom&&this.assignImgDom(t.imgDom),e.prototype.setAttributes.call(this,t)},n.prototype.assignImgDom=function(e){var n=e.width(),i=e.height();0===n&&0===i&&u.captureMessage("[Editpdf][Img] Uploaded Image has no size!");var r=n,o=i;this.dom.find("img").detach(),t.contains(window.document.body,e[0])&&(e=e.detach()).removeClass("hidden"),this.imgElem=e,this.dom.append(e);var a=this.pdfPage.getSafePageRect(!0),s=a.w,c=a.h;if(n>s||i>c){var l=null,d=null;n>i?d=(l=s)*(i/n):l=(d=c)*(n/i),n=l,i=d}this.setSize_x1(n,i),this._updateInternalDims(),this.originalDims.w=r,this.originalDims.h=o},Object.defineProperty(n.prototype,"controlAnchors",{get:function(){return["top_left","top_right","bottom_left","bottom_right"]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"keepAlwaysAspectRatio",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"aspectRatio",{get:function(){return{w:this.originalDims.w/this.originalDims.h,h:this.originalDims.h/this.originalDims.w}},enumerable:!1,configurable:!0}),n.prototype.clone=function(t){var e=t,r=new n(e.pdfPage);r.cloneRef=this,r.cloned=!0,r.cloning=!0,r.zoomLevel=e.zoomLevel,r.imgElem=i(this.imgElem[0].outerHTML),r.dom.append(r.imgElem),r.bag.uploader=this.bag.uploader;var o=e.getAttributes();return r.setAttributes(o),r.originalDims.w=e.originalDims.w,r.originalDims.h=e.originalDims.h,r.cloning=!1,r},n}(l.CanvasObject);e.Img=d}).call(this,n(1),n(1))},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Line=void 0;var o=n(313),a=n(448),s=n(208),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._startingPoint={x:0,y:0},e._terminalPoint={x:0,y:0},e.startingPointWasSet=!1,e.readyToRefreshGizmo=!1,e.lineCap="butt",e._isObjectFinished=!1,e.cachedEffectivePointCoords={startingPoint:null,terminalPoint:null},e}return r(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"line"},enumerable:!1,configurable:!0}),e.prototype._makeInactiveElement=function(){},e.prototype.init=function(){t.prototype.init.call(this),this.initLine(),this.controls=new a.LineControls(this)},e.prototype.initControls=function(){},e.prototype.initLine=function(){this._line=this.shape=this.draw.line(0,0,0,0),this.shadowLine=this.draw.line(0,0,0,0),this.shadowLine.addClass("shadow-line"),this.shadowLine.addClass("do-not-export")},e.prototype.convertToLocalCoords=function(t,e){var n=t.x,i=t.y;t.x=0,t.y=0,e.x-=n,e.y-=i,e.x<0&&(n=Math.abs(e.x),e.x=0,t.x=n),e.y<0&&(i=Math.abs(e.y),e.y=0,t.y=i)},Object.defineProperty(e.prototype,"baseMargin",{get:function(){var t=20*this.zoomLevel;return Math.floor(this.zoomedStrokeWidth/2+t)},enumerable:!1,configurable:!0}),e.prototype.computeEffectivePointCoords=function(){var t=function(t){return{x:t.x,y:t.y}},e=this.baseMargin,n=t(this.startingPoint),i=t(this.terminalPoint);return this.convertToLocalCoords(n,i),n.x+=e,n.y+=e,i.x+=e,i.y+=e,[n,i]},e.prototype.updateLine=function(t,e){var n;void 0===t&&(t=null),void 0===e&&(e=null),null===t&&null===e&&(t=this.startingPoint,e=this.terminalPoint);var i=function(t){return{x:t.x,y:t.y}};this.startingPoint=i(t),this.terminalPoint=i(e);var r=this.startingPoint,o=this.terminalPoint,a=(this.line,this.draw,this.baseMargin);n=this.computeEffectivePointCoords(),this.cachedEffectivePointCoords.startingPoint=n[0],this.cachedEffectivePointCoords.terminalPoint=n[1];var s=this.calcSizeFromPoints(t,e);s.w+=2*a,s.h+=2*a,this._updateInternalDims(s.w,s.h);var c=Math.min(r.x,o.x)-a,l=Math.min(r.y,o.y)-a;this._updateInternalCoords(c,l)},e.prototype.moveBy=function(t,e){return this.startingPoint.x+=t,this.startingPoint.y+=e,this.terminalPoint.x+=t,this.terminalPoint.y+=e,this.updateLine(this.startingPoint,this.terminalPoint),this},e.prototype.moveTo=function(t,e){var n=this.getCoords(),i=t-n.x,r=e-n.y,o={x:this.startingPoint.x+i,y:this.startingPoint.y+r},a={x:this.terminalPoint.x+i,y:this.terminalPoint.y+r};return this.updateLine(o,a),this},e.prototype.setSize=function(t,e){return this},e.prototype.calcSizeFromPoints=function(t,e){var n=t.x<e.x?t.x:e.x,i=t.x>e.x?t.x:e.x,r=t.y<e.y?t.y:e.y;return{w:i-n,h:(t.y>e.y?t.y:e.y)-r}},e.prototype.getSize=function(){return this.size},e.prototype._updateDom=function(){t.prototype._updateDom.call(this),this.updateLine();var e=this.line,n=this.draw,i=this.cachedEffectivePointCoords.startingPoint,r=this.cachedEffectivePointCoords.terminalPoint;if(i&&r){e.plot(i.x,i.y,r.x,r.y),n.size(this.size.w,this.size.h),e.stroke({color:this.stroke(),width:this.zoomedStrokeWidth,linecap:this.lineCap}),this.shadowLine.plot(i.x,i.y,r.x,r.y);var o=this.zoomedStrokeWidth<8?8:this.zoomedStrokeWidth;this.shadowLine.stroke({color:"red",width:o,linecap:this.lineCap}),this.shadowLine.attr({"stroke-opacity":"0"})}},e.prototype.isSelectableArea=function(t){return"line"===t[0].tagName||t.is(".anchor")},e.prototype.applyZoomAndTranslate=function(t){var e=this.zoomLevel;this.zoomLevel=t;var n=function(t){return{x:t.x,y:t.y}},i=n(this.startingPoint),r=n(this.terminalPoint),o=t/e;i.x*=o,i.y*=o,r.x*=o,r.y*=o,this.updateLine(i,r)},e.prototype.interactiveMode_mousedown=function(t,e){if(void 0===e&&(e={}),this.interactiveMode.enabled&&(t.which===s.MOUSE.LeftClick||0===t.type.indexOf("touch"))){var n=e.pageCoords,i={x:n.x+1,y:n.y+1};this.updateLine(n,i),this.updateDom(),this.startingPointWasSet=!0}},e.prototype.interactiveMode_mousemove=function(t,e){void 0===e&&(e={}),this.interactiveMode.enabled&&(t.which!==s.MOUSE.LeftClick&&0!==t.type.indexOf("touch")||this.startingPointWasSet&&(this.updateLine(this.startingPoint,e.pageCoords),this.updateDom()))},e.prototype.interactiveMode_mouseup=function(t,e){if(void 0===e&&(e={}),this.interactiveMode.enabled&&(t.which===s.MOUSE.LeftClick||0===t.type.indexOf("touch"))&&this.startingPointWasSet)return this.terminalPoint=e.pageCoords,this.readyToRefreshGizmo=!0,!0},e.prototype.interactiveMode_isObjectEmpty=function(){return!1===this.startingPointWasSet},e.prototype.getInteractiveModeCopyAttrs=function(){return{strokeWidth:this._strokeWidth_x1,strokeColor:this._stroke,fillColor:this._fill}},Object.defineProperty(e.prototype,"isObjectFinished",{get:function(){return this._isObjectFinished},set:function(t){this._isObjectFinished=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"startingPoint",{get:function(){return this._startingPoint},set:function(t){this._startingPoint=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"terminalPoint",{get:function(){return this._terminalPoint},set:function(t){this._terminalPoint=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"line",{get:function(){return this._line},enumerable:!1,configurable:!0}),e.prototype.getDefaultAttributes=function(){return Object.assign({},t.prototype.getDefaultAttributes.call(this),{size_x1:{w:0,h:0},strokeWidth:e.currentDefaultStrokeWidth,strokeColor:e.currentDefaultStrokeColor})},e.prototype.setInteractiveModeOn=function(){this.interactiveMode.enabled=!0},e.prototype.setInteractiveModeOff=function(){this.interactiveMode.enabled=!1,this.terminalPoint&&(this.isObjectFinished=!0,this.triggerCustomEvent("canvas_object:interactive_object_finished",{canvasObject:this}))},e.prototype.getAttributes=function(){return Object.assign({},t.prototype.getAttributes.call(this),{startingPoint:{x:this.startingPoint.x,y:this.startingPoint.y},terminalPoint:{x:this.terminalPoint.x,y:this.terminalPoint.y}})},e.prototype.setAttributes=function(n){void 0===n&&(n={}),t.prototype.setAttributes.call(this,n),"startingPoint"in n&&(this.startingPoint=n.startingPoint),"terminalPoint"in n&&(this.terminalPoint=n.terminalPoint),"strokeWidth"in n&&(e.currentDefaultStrokeWidth=n.strokeWidth),"strokeColor"in n&&(e.currentDefaultStrokeColor=n.strokeColor)},e.prototype.clone=function(t){var n=t,i=new e(n.pdfPage);i.cloned=!0,i.cloning=!0,i.zoomLevel=n.zoomLevel,i.readyToRefreshGizmo=!0,i.isObjectFinished=!0;var r=n.getAttributes();return i.setAttributes(r),i.cloning=!1,i},e.currentDefaultStrokeWidth=4,e.currentDefaultStrokeColor="#000000",e}(o.Shape);e.Line=c},function(t,e,n){"use strict";(function(t){var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.LineControls=void 0;var o=n(311),a=n(312),s=n(208),c=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),Object.defineProperty(n.prototype,"lineNode",{get:function(){return this.canvasObj.draw.node.querySelector("line")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"shadowLineNode",{get:function(){return this.canvasObj.draw.node.querySelector(".shadow-line")},enumerable:!1,configurable:!0}),n.prototype.getDraggableElem=function(){return this.shadowLineNode},n.prototype.getSelectableElem=function(){return this.shadowLineNode},n.prototype.getGizmoTemplate=function(){return'\n      <svg id="'+this.domId+'" class=\'controls line-controls\' focusable="false">\n        <rect class="surface-rect" x="1" y="1"></rect>\n        <rect class="anchor anchor_starting_point"          width="9" height="9" stroke-width="1" rx="2" ry="2"></rect>\n        <rect class="anchor anchor_terminal_point"          width="9" height="9" stroke-width="1" rx="2" ry="2"></rect>\n      </svg>\n    '},n.prototype.hasResizingCapabilities=function(){return!1},n.prototype.initControls=function(){e.prototype.initControls.call(this),this.initAnchorManipulation()},n.prototype.canSurfaceRectBeEnabled=function(){return!1},n.prototype.refreshGizmo=function(){var t=this.canvasObj;if(t.readyToRefreshGizmo){var e=t.cachedEffectivePointCoords,n=t.getFullSize(),i=this.controlsDom.find(".surface-rect");i.attr("width",n.w-2+"px"),i.attr("height",n.h-2+"px"),this.controlsDom.find(".anchor_starting_point").attr("x",e.startingPoint.x-5),this.controlsDom.find(".anchor_starting_point").attr("y",e.startingPoint.y-5),this.controlsDom.find(".anchor_terminal_point").attr("x",e.terminalPoint.x-5),this.controlsDom.find(".anchor_terminal_point").attr("y",e.terminalPoint.y-5)}},n.prototype.initAnchorManipulation=function(){var e=this,n=this.controlsDom.find(".anchor"),i=e.canvasObj;n.each(function(){var n=t(this),r=e.getAnchorName(n);new a.Draggable(n,{mouseButton:s.MOUSE.LeftClick,onDragEndFn:function(t){}},function(t){var e=i.startingPoint,n=i.terminalPoint,o="starting_point"===r?e:n;o.x+=t.x,o.y+=t.y,i.updateLine(e,n),i.updateDom()})})},n}(o.StandardControls);e.LineControls=c}).call(this,n(1))},function(t,e,n){"use strict";(function(t){var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Freehand=void 0;var o=n(322),a=n(311),s=n(450),c=n(208),l=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.lineCap="round",t.buffer=[],t.hasBeenTrimmedOnce=!1,t._isObjectFinished=!1,t.split_elapsedSeconds=3,t.split_allowedMaxPointsDistance=300,t.split_distSamplingThreshold=5,t}return r(n,e),Object.defineProperty(n.prototype,"type",{get:function(){return"freehand"},enumerable:!1,configurable:!0}),n.prototype._makeInactiveElement=function(){},n.prototype.updateEachPathComponent=function(t){this.allPaths.forEach(function(e){var n=1,i=e.getAttribute("d").split(/[A-Z]/);i.shift();var r=[];i.forEach(function(e){var i,o,a;o=(i=e.trim().split(" "))[0],a=i[1];var s=[o=parseFloat(o),a=parseFloat(a)],c=1===n?"M":"L";t(s),r.push(""+c+s[0]+" "+s[1]),n++}),e.setAttribute("d",r.join(" "))})},n.prototype.trim=function(){if(this.isObjectFinished){var t=this.zoomLevel;this.applyZoomAndTranslate(1);var e=this.svg,n=this._strokeWidth_x1,i=e.getBBox(),r=i.width+n,o=i.height+n,a=i.x-n/2,s=i.y-n/2;this.updateEachPathComponent(function(t){t[0]-=a,t[1]-=s}),this._updateInternalDims(r,o),this._updateInternalCoords(a,s),this.hasBeenTrimmedOnce=!0,this.applyZoomAndTranslate(t),this.setViewBox(0,0,this.size.w,this.size.h)}},n.prototype.initControls=function(){},n.prototype.stroke=function(t){return t?(this._stroke=t,this):this._stroke},n.prototype.initFreehandControls=function(){this.controls=new a.StandardControls(this),this.initEventsHandlersControls()},n.prototype.init=function(){e.prototype.init.call(this);var n=this.pdfPage.dimensions;this._updateInternalDims(n.w,n.h);var i=this.dom;this.svg=t('<svg preserveAspectRatio="none" class="freehand-canvas" width="'+n.w+'" height="'+n.h+'">')[0],i.append(this.svg),this.bufferSize=4,this.strPath,this.currPath=null,this.buffer=[]},n.prototype.notifyDomAttachment=function(){},n.prototype.finalizeObject=function(){if(this.isObjectFinished)throw"[Editpdf] Object was already finalized";this.isObjectFinished=!0,this.markedForDestruction||(this.hasBeenTrimmedOnce||this.trim(),this.controls||this.initFreehandControls()),this.triggerCustomEvent("canvas_object:interactive_object_finished",{canvasObject:this})},n.prototype._updateDom=function(){var t=this,e=this.svg;e.setAttribute("width",this.size.w),e.setAttribute("height",this.size.h),this.viewBox&&e.setAttribute("viewBox",this.viewBox),this.allPaths.forEach(function(e){e.setAttribute("stroke-width",t.zoomedStrokeWidth),e.setAttribute("stroke",t._stroke),e.setAttribute("stroke-linecap",t.lineCap),e.setAttribute("stroke-linejoin",t.lineCap)})},n.prototype.scalePath=function(t,e){var n=t.split(/[A-Z]/),i=[];n.shift();var r=1;return n.forEach(function(t){var n=t.trim().split(" "),o=n[0],a=n[1];o=parseFloat(o)*e,a=parseFloat(a)*e;var s=1===r?"M":"L";i.push(""+s+o+" "+a),r++}),i.join(" ")},n.prototype.applyZoomAndTranslate=function(t){var e=this.zoomLevel,n=t/e;this.zoomLevel=t,this.isInteractiveModeEnabled()?this.interactiveMode_applyZoomAndTranslate(e,t):this.isObjectFinished&&this.scaleSvg(n)},n.prototype.scaleSvg=function(t){var n=this;this.completedPaths.each(function(e,i){var r=n.scalePath(i.getAttribute("d"),t);i.setAttribute("d",r)});var i=this.svg.getAttribute("viewBox");if(i&&i.length>0){var r=[];i.split(" ").forEach(function(e){r.push(Math.round(parseFloat(e)*t))}),this.setViewBox(r[0],r[1],r[2],r[3])}e.prototype.scaleSvg.call(this,t)},Object.defineProperty(n.prototype,"isObjectFinished",{get:function(){return this._isObjectFinished},set:function(t){this._isObjectFinished=t},enumerable:!1,configurable:!0}),n.prototype.interactiveMode_applyZoomAndTranslate=function(t,e){var n=this,i=e/t,r=this.pdfPage.originalDimensions;r={w:r.w*e,h:r.h*e},this._updateInternalDims(r.w,r.h),this.hasUnfinishedPath()&&(this.buffer.forEach(function(t){t.x*=i,t.y*=i}),this.strPath=this.scalePath(this.strPath,i),this.updateUnfinishedSvgPath()),this.completedPaths.each(function(t,e){var r=n.scalePath(e.getAttribute("d"),i);e.setAttribute("d",r)})},n.prototype.initNewPath=function(e,n){void 0===n&&(n={}),this.currPath=document.createElementNS("http://www.w3.org/2000/svg","path"),t(this.currPath).addClass("unfinished"),this.currPath.setAttribute("fill","none"),this.currPath.setAttribute("stroke",this._stroke),this.currPath.setAttribute("stroke-width",this.zoomedStrokeWidth),this.buffer=[];var i=n.pageCoords;this.appendToBuffer(i),this.strPath="M"+i.x+" "+i.y,this.currPath.setAttribute("d",this.strPath),this.svg.appendChild(this.currPath)},n.prototype.interactiveMode_mousedown=function(t,e){if(void 0===e&&(e={}),this.interactiveMode.enabled&&(t.which===c.MOUSE.LeftClick||0===t.type.indexOf("touch"))){if(this.allPaths.length>0&&this.hasElapsedMoreThanSinceLastDrawnPath(this.split_elapsedSeconds)){var n=Array.from(this.allPaths);this.createNewObjectExtractingPaths(n)}this.interactiveMode.lastPathTimestamp=null,this.initNewPath(t,e),this.updateDom()}},n.prototype.interactiveMode_mousemove=function(t,e){void 0===e&&(e={}),this.interactiveMode.enabled&&this.currPath&&(this.appendToBuffer(e.pageCoords),this.updateUnfinishedSvgPath(),this.updateDom())},n.prototype.interactiveMode_mouseup=function(t,e){if(void 0===e&&(e={}),this.interactiveMode.enabled){if(t.which===c.MOUSE.RightClick)return!this.interactiveMode_isObjectEmpty()||void 0;if(this.currPath){if(this.updateUnfinishedSvgPath(!0),this.allPaths.length>1&&this.isLastPathFarFromPreviousOne()){var n=Array.from(this.allPaths);n.pop(),this.createNewObjectExtractingPaths(n)}this.interactiveMode.lastPathTimestamp=Date.now()}}},n.prototype.interactiveMode_isObjectEmpty=function(){return 0===this.allPaths.length},n.prototype.createNewObjectExtractingPaths=function(e){e.forEach(function(e){return t(e).detach()});var n=this.clone(this);n.allPaths.forEach(function(e){return t(e).detach()}),e.forEach(function(t){n.svg.appendChild(t)}),n.createdByParent=this,this.triggerCustomEvent("editor:add_canvas_object",{canvasObject:n,onAdded:function(){n.finalizeObject(),n.updateDom()}})},n.prototype.hasElapsedMoreThanSinceLastDrawnPath=function(t){if(!this.interactiveMode.lastPathTimestamp)return!1;var e=this.interactiveMode.lastPathTimestamp/1e3;return Date.now()/1e3-e>=t},n.prototype.isLastPathFarFromPreviousOne=function(){var t=this.lastTwoDrawnPaths;if(!this.isInteractiveModeEnabled())throw"[Editpdf] This method only works well in interactive mode";if(t.length<=1)throw"[Editpdf] There should be at least 2 paths to be able to compute";var e=this.split_allowedMaxPointsDistance*this.zoomLevel,n=this.split_distSamplingThreshold*this.zoomLevel,i=t[0],r=t[1],o=s.SvgHelper.getPointsInCurve(i,n),a=s.SvgHelper.getPointsInCurve(r,n),c=s.SvgHelper.findClosestPoints(o,a);return s.SvgHelper.computePointsDistance(c[0],c[1])>e},n.prototype.getInteractiveModeCopyAttrs=function(){return{strokeWidth:this.userStrokeWidth,strokeColor:this._stroke}},Object.defineProperty(n.prototype,"lastTwoDrawnPaths",{get:function(){var t=this.allPaths;if(t.length>1){var e=t.length-1;return[t[e-1],t[e]]}return t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"lastPath",{get:function(){var t=this.allPaths;return t[t.length-1]},enumerable:!1,configurable:!0}),n.prototype.strokeWidth_x1=function(t){if(!t)return this._strokeWidth_x1;var e=this.zoomedStrokeWidth;return this._strokeWidth_x1=t,this.isObjectFinished&&this.adjustSvgSizeForNewStrokeWidth(e,this.zoomedStrokeWidth),this},n.prototype.adjustSvgSizeForNewStrokeWidth=function(t,e){var n=e-t,i=(this.svg.getAttribute("viewBox").split(" "),this.size.w),r=this.size.h,o=i+n,a=r+n;this.updateEachPathComponent(function(t){t[0]+=n/2,t[1]+=n/2}),this._updateInternalDims(o,a);var s=parseFloat(this.viewBox.split(" ")[2]),c=parseFloat(this.viewBox.split(" ")[3]);this.setViewBox(0,0,s+n,c+n),this._updateInternalCoords(this.coords.x-n/2,this.coords.y-n/2)},n.prototype.strokeWidth=function(t){return this.strokeWidth_x1(t/this.zoomLevel)},Object.defineProperty(n.prototype,"rect",{get:function(){return this.svg.getBoundingClientRect()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"strokeColor",{get:function(){return this.stroke()},enumerable:!1,configurable:!0}),n.prototype.getAveragePoint=function(t){var e=this.buffer.length;if(e%2==1||e>=this.bufferSize){var n,i,r=0,o=0,a=0;for(i=t;i<e;i++)a++,r+=(n=this.buffer[i]).x,o+=n.y;return{x:r/a,y:o/a}}return null},n.prototype.updateUnfinishedSvgPath=function(e){if(void 0===e&&(e=!1),this.hasUnfinishedPath()){var n=this.getAveragePoint(0);if(n){this.strPath+=" L"+n.x+" "+n.y;for(var i="",r=2;r<this.buffer.length;r+=2)i+=" L"+(n=this.getAveragePoint(r)).x+" "+n.y;this.currPath.setAttribute("d",this.strPath+i)}this.currPath&&e&&(t(this.currPath).removeClass("unfinished"),this.currPath=null)}},n.prototype.appendToBuffer=function(t){for(this.buffer.push(t);this.buffer.length>this.bufferSize;)this.buffer.shift()},n.prototype.getDefaultAttributes=function(){return Object.assign({},e.prototype.getDefaultAttributes.call(this),{size_x1:{w:0,h:0},strokeWidth:n.currentDefaultStrokeWidth,strokeColor:n.currentDefaultStrokeColor})},n.prototype.setAttributes=function(t){void 0===t&&(t={}),e.prototype.setAttributes.call(this,t),"strokeWidth"in t&&(this.userStrokeWidth=t.strokeWidth,n.currentDefaultStrokeWidth=t.strokeWidth),"strokeColor"in t&&(this._stroke=t.strokeColor,n.currentDefaultStrokeColor=t.strokeColor)},Object.defineProperty(n.prototype,"allPaths",{get:function(){return this.svg.querySelectorAll("path")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"completedPaths",{get:function(){return t(this.svg).find("path:not(.unfinished)")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"unfinishedPath",{get:function(){return t(this.svg).find("path.unfinished")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"zoomedStrokeWidth",{get:function(){return this.strokeWidth()*this.zoomLevel},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"userStrokeWidth",{get:function(){return this._strokeWidth_x1},set:function(t){this.strokeWidth_x1(t)},enumerable:!1,configurable:!0}),n.prototype.hasUnfinishedPath=function(){return this.isInteractiveModeEnabled()&&this.currPath},n.prototype.setInteractiveModeOn=function(){this.interactiveMode.enabled=!0},n.prototype.setInteractiveModeOff=function(){this.interactiveMode.enabled=!1,this.isObjectFinished||(this.finalizeObject(),this.updateDom())},n.prototype.getAttributes=function(){return Object.assign({},e.prototype.getAttributes.call(this),{strokeWidth:this._strokeWidth_x1,strokeColor:this._stroke})},n.prototype.clone=function(e){var i=e,r=new n(i.pdfPage);r.cloned=!0,r.cloning=!0,r.zoomLevel=i.zoomLevel,r.isObjectFinished=i.isObjectFinished,r.viewBox=i.viewBox,r.hasBeenTrimmedOnce=i.hasBeenTrimmedOnce,this.allPaths.forEach(function(e){var n=document.createElementNS("http://www.w3.org/2000/svg","path");n.setAttribute("fill",e.getAttribute("fill")),n.setAttribute("stroke",e.getAttribute("stroke")),n.setAttribute("stroke-width",e.getAttribute("stroke-width")),n.setAttribute("d",e.getAttribute("d")),t(r.svg).append(n)}),i.viewBox&&r.svg.setAttribute("viewBox",i.viewBox);var o=i.getAttributes();return r.setAttributes(o),r.initFreehandControls(),r.cloning=!1,r},n.currentDefaultStrokeColor="#000000",n.currentDefaultStrokeWidth=4,n}(o.SvgObject);e.Freehand=l}).call(this,n(1))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SvgHelper=void 0;var i=function(){function t(){}return t.getPointsInCurve=function(t,e){var n=t.getAttribute("d").split(/[a-zA-Z]/g).map(function(t){return t.trim()});n.shift();var i=[],r=n.shift().split(" ");return r={x:Number(r[0]),y:Number(r[1])},i.push(r),n.forEach(function(t){var n=t.split(" "),o=n[0],a=n[1];o=Number(o),a=Number(a),Math.abs(o-r.x)+Math.abs(a-r.y)>e&&(r={x:o,y:a},i.push(r))}),i},t.findClosestPoints=function(t,e){var n=1e8,i=[];return t.forEach(function(t){e.forEach(function(e){var r,o,a=(r=t,o=e,Math.abs(r.x-o.x)+Math.abs(r.y-o.y));a<n&&function(t,e){n=t,i=e}(a,[t,e])})}),i},t.computePointsDistance=function(t,e){var n=Math.abs(t.x-e.x),i=Math.abs(t.y-e.y);return Math.sqrt(n*n+i*i)},t}();e.SvgHelper=i},function(t,e,n){"use strict";(function(t){var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Symbol=void 0;var o=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),Object.defineProperty(n.prototype,"type",{get:function(){return"symbol"},enumerable:!1,configurable:!0}),n.prototype.setSize=function(t,e){return this._updateInternalDims(t,e),this},n.prototype.getDefaultAttributes=function(){return Object.assign({},e.prototype.getDefaultAttributes.call(this),{size_x1:{w:60,h:60}})},n.prototype.notifyDomAttachment=function(){e.prototype.notifyDomAttachment.call(this),this.dom.append(this.svg)},Object.defineProperty(n.prototype,"keepAlwaysAspectRatio",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"controlAnchors",{get:function(){return["top_left","top_right","bottom_left","bottom_right"]},enumerable:!1,configurable:!0}),n.prototype.clone=function(e){var i=e,r=new n(i.pdfPage);r.cloned=!0,r.cloning=!0,r.zoomLevel=i.zoomLevel,r.svg=t(i.svg.outerHTML)[0];var o=i.getAttributes();return r.setAttributes(o),r.cloning=!1,r},n}(n(322).SvgObject);e.Symbol=o}).call(this,n(1))},function(t,e,n){"use strict";(function(t){var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.FormCheckbox=void 0;var o=n(280),a=n(281),s=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t._cachedValue=!1,t}return r(n,e),Object.defineProperty(n.prototype,"type",{get:function(){return"formcheckbox"},enumerable:!1,configurable:!0}),n.prototype.initDom=function(){var t=this;e.prototype.initDom.call(this),this.setCoords_x1(this.calculatedWidgetSizeAndCoords_x1.coords_x1.x,this.calculatedWidgetSizeAndCoords_x1.coords_x1.y),this.setSize_x1(this.calculatedWidgetSizeAndCoords_x1.size_x1.w,this.calculatedWidgetSizeAndCoords_x1.size_x1.h),this.checkboxContainer=this.createCheckbox(),this.inputCheckbox=this.checkboxContainer.find("input"),this.inputCheckbox.attr("tabindex",this.tabindex),this.dom.append(this.checkboxContainer),this.inputCheckbox.change(function(){t._cachedValue=t.inputCheckbox.prop("checked"),t.siblings.forEach(function(e){e.inputCheckbox.prop("checked",t._cachedValue),e._cachedValue=t._cachedValue}),t.notifyListenersOfChange()}),this.pdfFormField.readOnlyFlag&&this.inputCheckbox.click(function(t){return t.preventDefault()})},n.prototype._updateDom=function(){var t=this.size_x1.w/this.checkboxContainer.width(),e=this.size_x1.h/this.checkboxContainer.height();t*=this.zoomLevel,e*=this.zoomLevel,this.transformCssScaleX=t,this.transformCssScaleY=e},Object.defineProperty(n.prototype,"inputs",{get:function(){return this.inputCheckbox},enumerable:!1,configurable:!0}),n.prototype.initInputValue=function(){this.pdfFormField.checkedFlag&&(this._cachedValue=!0,this.inputCheckbox.prop("checked",!0))},n.prototype.getInputValue=function(){return this.inputCheckbox.prop("checked")},n.prototype.validate=function(){var t={};return this.isRequired&&(this.cachedValue||(t[o.VALIDATION_ERROR.Required]=!0)),Object.keys(t).length>0?this.setFlagWithValidationError():this.clearFlagWithValidationError(),t},Object.defineProperty(n.prototype,"cachedValue",{get:function(){return this._cachedValue},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"initialExportValue",{get:function(){return this.pdfFormField.checkedFlag},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"exportValue",{get:function(){return this.cachedValue},enumerable:!1,configurable:!0}),n.prototype.createCheckbox=function(){return t('\n    <label class="editpdf-checkbox">\n      <input data-widget-index=\''+this.widgetIndex+'\' type="checkbox">\n      <span class="editpdf-checkbox--checkmark">\n        '+a.IconRepository.formCheckboxCheckmark()+"\n      </span>\n    </label>\n    ")},n}(o.FormBase);e.FormCheckbox=s}).call(this,n(1))},function(t,e,n){"use strict";(function(t){var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i};Object.defineProperty(e,"__esModule",{value:!0}),e.FormRadiobutton=void 0;var a=n(280),s=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t._cachedValue=!1,t}return r(n,e),Object.defineProperty(n.prototype,"type",{get:function(){return"formradiobutton"},enumerable:!1,configurable:!0}),n.prototype.createRadioButton=function(){return t('<label class="editpdf-radiobutton">\n        <input data-widget-index=\''+this.widgetIndex+'\' type="radio" name="radio_'+this.id+'">\n        <span class="editpdf-radiobutton--checkmark"></span>\n      </label>')},n.prototype.initDom=function(){var t=this;e.prototype.initDom.call(this),this.setCoords_x1(this.calculatedWidgetSizeAndCoords_x1.coords_x1.x,this.calculatedWidgetSizeAndCoords_x1.coords_x1.y),this.setSize_x1(this.calculatedWidgetSizeAndCoords_x1.size_x1.w,this.calculatedWidgetSizeAndCoords_x1.size_x1.h),this.radioButtonContainer=this.createRadioButton(),this.inputRadioButton=this.radioButtonContainer.find("input"),this.inputRadioButton.attr("tabindex",this.tabindex),this.dom.append(this.radioButtonContainer),this.pdfFormField.readOnlyFlag&&this.inputRadioButton.click(function(t){return t.preventDefault()}),this.inputRadioButton.change(function(){t._cachedValue=!0,t.notifyListenersOfChange(),t.hasGroupElements()&&t.deselectAllGroupElements()})},n.prototype.deselectAllGroupElements=function(){this.siblings.forEach(function(t){t.inputRadioButton.prop("checked",!1),t._cachedValue=!1})},n.prototype._updateDom=function(){var t=this.size_x1.w/this.radioButtonContainer.width(),e=this.size_x1.h/this.radioButtonContainer.height();t*=this.zoomLevel,e*=this.zoomLevel,this.transformCssScaleX=t,this.transformCssScaleY=e},Object.defineProperty(n.prototype,"inputs",{get:function(){return this.inputRadioButton},enumerable:!1,configurable:!0}),n.prototype.initInputValue=function(){this.pdfFormField.optionTextArray.indexOf(this.pdfFormField.selectedValue)===this.widgetIndex&&(this._cachedValue=!0,this.inputRadioButton.prop("checked",!0))},n.prototype.getInputValue=function(){return this.inputRadioButton.prop("checked")},Object.defineProperty(n.prototype,"exportValue",{get:function(){for(var t=null,e=0;e<this.groupElements.length;e++){var n=this.groupElements[e];if(n.cachedValue){t=n.pdfFormField.optionTextArray[n.widgetIndex];break}}return t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"initialExportValue",{get:function(){return this.pdfFormField.selectedValue},enumerable:!1,configurable:!0}),n.prototype.validate=function(){var t={};return this.isRequired&&(this.exportValue||(t[a.VALIDATION_ERROR.Required]=!0)),o([this],this.siblings).forEach(function(e){Object.keys(t).length>0?e.setFlagWithValidationError():e.clearFlagWithValidationError()}),t},Object.defineProperty(n.prototype,"cachedValue",{get:function(){return this._cachedValue},enumerable:!1,configurable:!0}),n}(a.FormBase);e.FormRadiobutton=s}).call(this,n(1))},function(t,e,n){"use strict";(function(t){var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.FormCombobox=void 0;var o=n(280),a=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.fontSize=16,t.fontFamily="Verdana",t}return r(n,e),Object.defineProperty(n.prototype,"type",{get:function(){return"formcombobox"},enumerable:!1,configurable:!0}),n.prototype.initDom=function(){var n=this;e.prototype.initDom.call(this),this.setCoords_x1(this.calculatedWidgetSizeAndCoords_x1.coords_x1.x,this.calculatedWidgetSizeAndCoords_x1.coords_x1.y),this.setSize_x1(this.calculatedWidgetSizeAndCoords_x1.size_x1.w,this.calculatedWidgetSizeAndCoords_x1.size_x1.h),this.inputSelect=t("<select></select>"),this.dom.append(this.inputSelect),this.inputSelect.attr("tabindex",this.tabindex),this.fillComboBox(),this.pdfFormField.readOnlyFlag&&this.inputSelect.prop("disabled",!0),this.inputSelect.change(function(){n._cachedValue=n.inputSelect.val(),n.notifyListenersOfChange()})},n.prototype._updateDom=function(){var t=this.inputSelect,e=this.padding;t.css("width",this.size.w),t.css("height",this.size.h),t.css("fontSize",this.fontSize*this.zoomLevel),t.css("fontFamily",this.fontFamily),t.css("padding",e.top+"px "+e.right+"px "+e.bottom+"px "+e.left+"px"),t.html(this.text)},n.prototype.fillComboBox=function(){var e=this;this.pdfFormField.optionTextArray.forEach(function(n){var i=t("<option>"+n+"</option>");e.inputSelect.append(i)})},Object.defineProperty(n.prototype,"inputs",{get:function(){return this.inputSelect},enumerable:!1,configurable:!0}),n.prototype.initInputValue=function(){this._cachedValue=this.pdfFormField.selectedValue,this.inputSelect.val(this.pdfFormField.selectedValue)},n.prototype.getInputValue=function(){return this.inputSelect.val()},n.prototype.validate=function(){var t={};this.isRequired&&(this.cachedValue&&this.cachedValue.length>0||(t[o.VALIDATION_ERROR.Required]=!0));return Object.keys(t).length>0?this.setFlagWithValidationError():this.clearFlagWithValidationError(),t},Object.defineProperty(n.prototype,"cachedValue",{get:function(){return this._cachedValue},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"exportValue",{get:function(){return this.cachedValue},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"initialExportValue",{get:function(){return this.pdfFormField.selectedValue},enumerable:!1,configurable:!0}),n}(o.FormBase);e.FormCombobox=a}).call(this,n(1))},function(t,e,n){"use strict";(function(t){var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.FormListbox=void 0;var o=n(280),a=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.fontSize=16,t.fontFamily="Verdana",t._cachedValue=[],t}return r(n,e),Object.defineProperty(n.prototype,"type",{get:function(){return"formlistbox"},enumerable:!1,configurable:!0}),n.prototype.initDom=function(){var n=this;e.prototype.initDom.call(this),this.setCoords_x1(this.calculatedWidgetSizeAndCoords_x1.coords_x1.x,this.calculatedWidgetSizeAndCoords_x1.coords_x1.y),this.setSize_x1(this.calculatedWidgetSizeAndCoords_x1.size_x1.w,this.calculatedWidgetSizeAndCoords_x1.size_x1.h),this.inputSelect=t("<select></select>"),this.pdfFormField.multiSelect&&this.inputSelect.prop("multiple",!0),this.dom.append(this.inputSelect),this.inputSelect.attr("tabindex",this.tabindex),this.fillListBox(),this.inputSelect.css("background","white"),this.inputSelect.css("padding","4px"),this.inputSelect.attr("size",this.pdfFormField.optionTextArray.length),this.pdfFormField.readOnlyFlag&&this.inputSelect.prop("disabled",!0),this.inputSelect.change(function(){var t=n.inputSelect.val();n._cachedValue=Array.isArray(t)?t:[t],n.notifyListenersOfChange()})},n.prototype._updateDom=function(){var t=this.inputSelect;t.css("width",this.size.w),t.css("height",this.size.h),t.css("fontSize",this.fontSize*this.zoomLevel),t.css("fontFamily",this.fontFamily),t.html(this.text)},n.prototype.fillListBox=function(){var e=this;this.pdfFormField.optionTextArray.forEach(function(n){var i=t("<option>"+n+"</option>");e.inputSelect.append(i)})},Object.defineProperty(n.prototype,"inputs",{get:function(){return this.inputSelect},enumerable:!1,configurable:!0}),n.prototype.initInputValue=function(){var t=this.pdfFormField.selectedItemTextArray;t?(t=Array.isArray(t)?t:[t],this._cachedValue=t,this.inputSelect.val(t)):this.inputSelect.val("")},n.prototype.getInputValue=function(){return this.inputSelect.val()},Object.defineProperty(n.prototype,"cachedValue",{get:function(){return this._cachedValue},enumerable:!1,configurable:!0}),n.prototype.validate=function(){var t={};this.isRequired&&(this.cachedValue&&this.cachedValue.length>0||(t[o.VALIDATION_ERROR.Required]=!0));return Object.keys(t).length>0?this.setFlagWithValidationError():this.clearFlagWithValidationError(),t},Object.defineProperty(n.prototype,"exportValue",{get:function(){return this.cachedValue},enumerable:!1,configurable:!0}),n.prototype.didFormValueChanged=function(){if(this.initialExportValue.length!==this.exportValue.length)return!0;for(var t=this.initialExportValue.sort(),e=this.exportValue.sort(),n=0;n<t.length;n++)if(t[n]!==e[n])return!0;return!1},Object.defineProperty(n.prototype,"initialExportValue",{get:function(){return this.pdfFormField.selectedItemTextArray},enumerable:!1,configurable:!0}),n}(o.FormBase);e.FormListbox=a}).call(this,n(1))},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.FormCombtext=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"formcombtext"},enumerable:!1,configurable:!0}),e.prototype._updateDom=function(){t.prototype._updateDom.call(this);var e=this.size_x1.w*this.zoomLevel/(2*this.pdfFormField.maxTextLen-1);this.inputText.css("letter-spacing",e+"px")},e}(n(323).FormTextbox);e.FormCombtext=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FormManager=void 0;var i=n(458),r=["textbox","checkbox","combobox","listbox","radiobutton","combtext"],o=function(){function t(e){this.fields=[],this.ignoredFields=[],this.widgetHiddenFields=[],this.canvasObjects=[],this.errors={},this.changeListeners=[],this.fields=t.sortFieldsByPosition(t.discardForms(e)).map(function(t){return new i.PdfFormField(t)})}return t.prototype.render=function(t){for(var e=null,n=null,i=this.fields,o=function(o){var s=i[o];if(!0===s.widgetHiddenFlag)return a.widgetHiddenFields.push(s),"continue";if(!r.includes(s.typeOfField))return a.ignoredFields.push(s),"continue";for(var c=[],l=s.widgetsInformation,u=0;u<l.length;u++){n=e;var d=s.page;e=t.pageStack.createObjectInPage(t.pageStack.getPage(d),"form_"+s.typeOfField,{form:{field:s,widgetIndex:u}}),a.canvasObjects.push(e),c.push(e),e.prevFormObject=n,n&&(n.nextFormObject=e),c.length>1&&c.forEach(function(t){t.groupElements=c}),e.initInputValue(),e.onCustomEvent("form:input:change",a.formObjectChangeHandler.bind(a))}},a=this,s=0;s<i.length;s++)o(s);window.addEventListener("form_manager:input:focus_change_request",function(t){t.detail.newFocus.inputs.focus()});var c=new CustomEvent("editpdf:form:init",{detail:{formManager:this}});window.dispatchEvent(c)},t.prototype.formObjectChangeHandler=function(t){var e=this,n=t.canvasObject,i=n.validate();Object.keys(i).length>0?this.errors[n.formId]={canvasObject:n,errors:i}:delete this.errors[n.formId],this.changeListeners.forEach(function(t){t(e.errors[n.formId])})},t.prototype.onFieldChange=function(t){this.changeListeners.push(t)},t.prototype.validate=function(t){var e=this;return void 0===t&&(t=!1),t?(this.errors={},this.canvasObjects.forEach(function(t){var n=t.validate(),i=Object.keys(n).length;i>0&&(e.errors[t.formId]={canvasObject:t,errors:n,errorsCount:i})}),this.errors):Object.values(this.errors)},t.prototype.focusOnNextFormObject=function(t){t.nextFormObject&&t.nextFormObject.inputs.eq(0).focus()},t.prototype.focusOnPrevFormObject=function(t){t.prevFormObject&&t.prevFormObject.inputs.eq(0).focus()},t.prototype.getFoundTypes=function(){return Array.from(new Set(this.fields.map(function(t){return t.typeOfField})))},t.discardForms=function(t){return t.filter(function(t){return!["form","subform"].includes(t.typeOfField)})},t.sortFieldsByPosition=function(t){return t.sort(function(t,e){if(!(t.page===e.page))return t.page-e.page;var n=Math.round(e.widgetsInformation[0].top/10)-Math.round(t.widgetsInformation[0].top/10);return n||Math.round(t.widgetsInformation[0].left)-Math.round(e.widgetsInformation[0].left)})},t}();e.FormManager=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PdfFormField=void 0;var i=function(){function t(t){this.errors=[],this.props=t,Object.assign(this,t),this.makeValidation()}return t.prototype.hasErrors=function(){return this.errors.length>0},t.prototype.makeValidation=function(){var e=this,n=[],i=function(t){return void 0===e[t]};t.FIELD_TYPES.includes(this.typeOfField)||n.push("Unknown field type '"+this.typeOfField+"'"),t.MANDATORY_FIELDS.forEach(function(t){i(t)&&n.push("Mandatory field '"+t+"' is empty!")});var r=[];switch(this.typeOfField){case"text":r=["textValue","textAlignment","maxTextLen","fontSize"];break;case"textbox":r=["textValue","textAlignment","maxTextLen","fontSize","multilineFlag","passwordFlag","spellCheckFlag","scrollFlag"];break;case"checkbox":r=["checkedFlag"];break;case"choice":case"combobox":r=["numOfOptions","optionTextArray","selectedValue"];break;case"listbox":r=["multiSelect","numOfOptions","optionTextArray","numOfSelectedItems","selectedItemTextArray"];break;case"radiobutton":r=["numOfOptions","optionTextArray","selectedValue"];break;case"combtext":r=["textValue","textAlignment","maxTextLen","fontSize","passwordFlag"]}r.forEach(function(t){i(t)&&n.push("Field '"+t+"' should be filled for type "+e.typeOfField)}),this.errors=n},t.FIELD_TYPES=["subform","form","text","textbox","pushbutton","checkbox","radiobutton","choice","listbox","combobox","combtext"],t.MANDATORY_FIELDS=["typeOfField","fieldId","readOnlyFlag","mandatoryFlag","page","numOfWidgets","widgetHiddenFlag","widgetsInformation"],t}();e.PdfFormField=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditpdfClipboard=void 0;var i=function(){return function(t){this.clipboardCanvasObject=null,this.editor=t}}();e.EditpdfClipboard=i},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.SubmenuImg=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.compose=function(){var t=this,e=this.block.bind(this);return e("opacity",function(e){t.selectElement("opacity","getOpacityCollection","canvasObject.opacity",{leftsideIcon:"opacityCheckerboard",tooltip:t.opacityTooltip()})}),e("rotation",function(e){t.actionButton("rotateLeft",function(){t.canvasObject.rotateLeft()},{innerIcon:"rotateLeft",tooltip:t.rotateLeftTooltip()}),t.actionButton("rotateRight",function(){t.canvasObject.rotateRight()},{innerIcon:"rotateRight",tooltip:t.rotateRightTooltip()})}),this.blocks},e}(n(209).SubmenuBase);e.SubmenuImg=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SymbolRepository=void 0;var i=function(){function t(){}return t.getAllAsObject=function(){return{smiley:this.smiley(),sad:this.sad(),neutral:this.neutral(),heart:this.heart(),exclamation:this.exclamation(),question:this.question(),check:this.check(),cross:this.cross()}},t.exclamation=function(){return'<svg width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g transform="translate(-293.000000, -645.000000)"> <rect fill-opacity="0" fill="#D8D8D8" x="293" y="645" width="16" height="16"></rect> <path d="M301.391304,658.217391 C302.159701,658.217391 302.782609,658.840299 302.782609,659.608696 C302.782609,660.377092 302.159701,661 301.391304,661 C300.622908,661 300,660.377092 300,659.608696 C300,658.840299 300.622908,658.217391 301.391304,658.217391 Z M302.230534,645 C302.60309,645 302.907244,645.292864 302.925335,645.660932 L302.92609,645.707229 L302.92609,645.707229 L302.560984,656.675324 C302.548499,657.050303 302.240904,657.347826 301.865717,657.347826 L300.966321,657.347826 C300.58857,657.347826 300.279851,657.046366 300.270865,656.668722 L300.01016,645.7122 C300.001297,645.33975 300.286843,645.028716 300.654377,645.001874 L300.69734,645 L302.230534,645 Z" fill="#424242"></path> </g> </g> </svg>'},t.question=function(){return'<svg width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g transform="translate(-296.000000, -609.000000)" fill="#424242"> <path d="M302.956522,622.217391 C303.724918,622.217391 304.347826,622.840299 304.347826,623.608696 C304.347826,624.377092 303.724918,625 302.956522,625 C302.188126,625 301.565217,624.377092 301.565217,623.608696 C301.565217,622.840299 302.188126,622.217391 302.956522,622.217391 Z M304.44546,609 C305.020593,609 305.569072,609.085185 306.090896,609.255554 C306.612812,609.426015 307.093601,609.676256 307.533996,610.00646 C307.974208,610.336574 308.325663,610.78567 308.588361,611.353659 C308.850876,611.921831 308.982409,612.571524 308.982409,613.302646 C308.982409,614.168964 308.790698,614.878835 308.407275,615.432627 C308.037163,615.967322 307.329452,616.624437 306.597295,617.090985 L306.518771,617.140229 C306.394228,617.218861 306.219657,617.321687 305.995419,617.448708 L305.759579,617.582215 C305.591146,617.6781 305.453666,617.757909 305.347254,617.821797 L305.320286,617.839164 C305.123717,617.972017 304.386967,618.571849 304.211344,619.107167 C304.026228,619.671421 304.086112,619.978264 304.073564,620.840735 C304.069808,621.095007 303.847409,621.347826 303.593137,621.347826 L302.321759,621.347826 C301.894732,621.347826 301.823561,621.040586 301.807087,620.900751 L301.795451,620.777111 C301.763171,620.405596 301.622022,618.528921 301.883655,617.821797 C302.106909,617.21885 302.699257,616.79814 303.355792,616.410772 L303.532517,616.308948 L303.532517,616.308948 L304.207342,615.935202 C304.338137,615.862361 304.453658,615.79717 304.553846,615.739629 C304.72046,615.64382 304.921148,615.507158 305.155543,615.329644 C305.389754,615.152314 305.57771,614.978189 305.719959,614.80782 C305.861934,614.637359 305.98623,614.431542 306.092665,614.190094 C306.199191,613.948921 306.252409,613.696665 306.252409,613.433967 C306.252409,612.858833 306.048332,612.402684 305.640087,612.065426 C305.231659,611.728351 304.743726,611.559539 304.175737,611.559539 C303.290092,611.559539 302.518118,612.01514 301.860365,612.926523 C301.712895,613.130966 301.430503,613.182718 301.223038,613.039461 L300.193596,612.031653 C300.016875,611.868472 299.940804,611.652651 300.052186,611.445185 C300.429654,610.741909 300.986874,610.177837 301.69244,609.750815 C302.519372,609.250241 303.437259,609 304.44546,609 Z"></path> </g> </g> </svg>'},t.heart=function(){return'<svg width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g transform="translate(-196.000000, -637.000000)" fill="#F44336"> <path d="M207.939394,637 C210.182005,637 212,639.0166 212,641.504202 C212,642.253648 211.834989,642.960344 211.54307,643.582025 L211.538574,643.596465 C210.819336,645.512451 208.528438,648.72332 204,653 C199.477783,648.50651 196.929956,645.306943 196.356517,643.401298 C196.343133,643.356819 196.329854,643.315048 196.324374,643.273345 C196.115897,642.730352 196,642.13229 196,641.504202 C196,639.0166 197.817995,637 200.060606,637 C201.962205,637 203.558505,638.449939 204,640.407512 C204.441495,638.449939 206.037795,637 207.939394,637 Z"></path> </g> </g> </svg>'},t.smiley=function(){return'<svg width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g transform="translate(-112.000000, -944.000000)"> <g transform="translate(112.000000, 944.000000)"> <g> <circle fill="#FFEC3A" cx="8" cy="8" r="8"></circle> <circle fill="#424242" cx="5.11340206" cy="6.43298969" r="1"></circle> <circle fill="#424242" cx="11.0515464" cy="6.43298969" r="1"></circle> <path d="M11.0515464,8.94587629 C10.7996021,8.94587629 10.5953608,9.15011752 10.5953608,9.40206186 C10.5953608,10.5980551 9.47778001,11.5850515 8.08247423,11.5850515 C6.68716844,11.5850515 5.56958763,10.5980551 5.56958763,9.40206186 C5.56958763,9.15011752 5.36534639,8.94587629 5.11340206,8.94587629 C4.86145773,8.94587629 4.65721649,9.15011752 4.65721649,9.40206186 C4.65721649,11.1204192 6.19771717,12.4974227 8.08247423,12.4974227 C9.96723129,12.4974227 11.507732,11.1204192 11.507732,9.40206186 C11.507732,9.15011752 11.3034907,8.94587629 11.0515464,8.94587629 Z" fill="#424242" fill-rule="nonzero"></path> </g> </g> </g> </g> </svg>'},t.sad=function(){return'<svg width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g transform="translate(-136.000000, -944.000000)"> <g transform="translate(136.000000, 944.000000)"> <circle fill="#FFEC3A" cx="8" cy="8" r="8"></circle> <circle fill="#424242" cx="5.11340206" cy="6.43298969" r="1"></circle> <circle fill="#424242" cx="11.0515464" cy="6.43298969" r="1"></circle> <path d="M8.08247423,8.61597938 C6.19771717,8.61597938 4.65721649,9.99298282 4.65721649,11.7113402 C4.65721649,11.9632845 4.86145773,12.1675258 5.11340206,12.1675258 C5.36534639,12.1675258 5.56958763,11.9632845 5.56958763,11.7113402 C5.56958763,10.515347 6.68716844,9.52835052 8.08247423,9.52835052 C9.47778001,9.52835052 10.5953608,10.515347 10.5953608,11.7113402 C10.5953608,11.9632845 10.7996021,12.1675258 11.0515464,12.1675258 C11.3034907,12.1675258 11.507732,11.9632845 11.507732,11.7113402 C11.507732,9.99298282 9.96723129,8.61597938 8.08247423,8.61597938 Z" fill="#424242" fill-rule="nonzero"></path> </g> </g> </g> </svg>'},t.neutral=function(){return'<svg width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g transform="translate(-160.000000, -944.000000)"> <g transform="translate(160.000000, 944.000000)"> <circle fill="#FFEC3A" cx="8" cy="8" r="8"></circle> <circle fill="#424242" cx="5.11340206" cy="6.43298969" r="1"></circle> <circle fill="#424242" cx="11.0515464" cy="6.43298969" r="1"></circle> <path d="M10.7694887,9.45921174 L10.6946715,9.47998946 C10.5766955,9.50782183 10.3411552,9.55373362 10.0952603,9.58996375 L10.0035035,9.6030329 C9.40679085,9.68513728 8.72416127,9.72997202 8.02526255,9.72997202 C7.34212006,9.72997202 6.64679495,9.67985304 6.00695935,9.58798728 L5.68089728,9.5362872 C5.63013621,9.52739969 5.58146919,9.51843471 5.53535033,9.50947917 L5.29369316,9.45656796 L5.25451012,9.44559397 C5.07906921,9.36730296 4.88795195,9.39535144 4.75297781,9.51542728 C4.56474072,9.68288696 4.54789731,9.97123616 4.71535699,10.1594733 C4.92963193,10.4003342 6.35036635,10.6062835 7.68513918,10.6381284 L8.02400779,10.64234 L8.47831107,10.6357798 C9.69375968,10.601365 10.9040827,10.4361867 11.2234116,10.2507591 C11.4412871,10.1242435 11.5153489,9.84505925 11.3888332,9.62718376 C11.2763748,9.43351666 11.0432894,9.35348017 10.8398601,9.42694124 L10.7694887,9.45921174 Z" fill="#424242" fill-rule="nonzero" transform="translate(8.025298, 10.021170) scale(1, -1) translate(-8.025298, -10.021170) "></path> </g> </g> </g> </svg>'},t.check=function(){return'<svg width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g transform="translate(-83.000000, -711.000000)" fill="#4CAF50"> <path d="M97.2554576,714.157395 L98.8426055,715.744542 C99.0524648,715.954402 99.0524648,716.294651 98.8426055,716.50451 L89.1444394,726.202676 C88.9345801,726.412536 88.5943308,726.412536 88.3844714,726.202676 L86.7973236,724.615529 C86.7545044,724.572709 86.720422,724.524462 86.6950762,724.473001 L83.1573945,720.935085 C82.9475352,720.725226 82.9475352,720.384976 83.1573945,720.175117 L84.7447776,718.587734 C84.954637,718.377875 85.2948862,718.377875 85.5047456,718.587734 L88.7847819,721.867723 L96.4954897,714.157395 C96.705349,713.947535 97.0455983,713.947535 97.2554576,714.157395 Z"></path> </g> </g> </svg>'},t.cross=function(){return'<svg width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g transform="translate(-148.000000, -661.000000)" fill="#FF5722"> <path d="M161.727553,676.796254 L163.779986,674.741706 C164.051367,674.470045 164.051367,674.029595 163.779986,673.757934 L159.035079,669.008236 L163.796464,664.242066 C164.067845,663.970405 164.067845,663.529955 163.796464,663.258294 L161.744031,661.203746 C161.47265,660.932085 161.032654,660.932085 160.761273,661.203746 L156.000037,665.969891 L151.238727,661.203746 C150.967346,660.932085 150.52735,660.932085 150.255969,661.203746 L148.203536,663.258294 C147.932155,663.529955 147.932155,663.970405 148.203536,664.242066 L152.964822,669.008236 L148.220014,673.757934 C147.948633,674.029595 147.948633,674.470045 148.220014,674.741706 L150.272447,676.796254 C150.543828,677.067915 150.983824,677.067915 151.255205,676.796254 L155.999864,672.046581 L160.744795,676.796254 C161.016176,677.067915 161.456172,677.067915 161.727553,676.796254 Z"></path> </g> </g> </svg>'},t}();e.SymbolRepository=i},function(t,e,n){"use strict";(function(t){var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.SubmenuRect=void 0;var o=n(209),a=n(8),s=n(17),c=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.tippy_noBorderColorApplied=null,t}return r(n,e),n.prototype.compose=function(){var t=this,e=this.block.bind(this),n=this.canvasObject;return e("fillAndStrokeColor",function(e){t.colorPalette("fillColor","getDefaultAvailableColors","canvasObject.fillColor",{tooltip:t.fillColorTooltip(),tooltip_mount_reposition_callback:t.tooltip_mount_reposition_callback.bind(t)}),t.colorPalette("strokeColor","getDefaultAvailableColors","canvasObject.strokeColor",{tooltip:t.strokeColorTooltip(),tooltip_mount_reposition_callback:t.tooltip_mount_reposition_callback2.bind(t)})}),e("rotation",function(e){t.actionButton("rotateLeft",function(){t.canvasObject.rotateLeft()},{innerIcon:"rotateLeft",tooltip:t.rotateLeftTooltip()}),t.actionButton("rotateRight",function(){t.canvasObject.rotateRight()},{innerIcon:"rotateRight",tooltip:t.rotateRightTooltip()})}),e("opacity",function(e){t.selectElement("opacity","getOpacityCollection","canvasObject.opacity",{leftsideIcon:"opacityCheckerboard",tooltip:t.opacityTooltip()})}),e("strokeWidth",function(e){var i="transparent"===n.strokeColor;t.inputNumberElement("strokeWidth",{from:1,to:50,unit:"pt"},"canvasObject._strokeWidth_x1",{leftIcon:"strokeWidth",disabled:i,tooltip:t.strokeTooltip()}),t.tippy_noBorderColorApplied=t.addTooltip(t.currBlock,{text:a.Lang.t("tooltip_noBorderColorApplied"),allowOnWrapper:!0}),t.afterRenderCallbacks.push(function(){var e=t.canvasObject.strokeColor;t.updateAvailabilityOfStrokeWidthInput(e)})}),this.onInternalEvent("color_palette:change",function(e){"strokeColor"===e.eventOriginator&&t.updateAvailabilityOfStrokeWidthInput(e.newValue)}),this.blocks},n.prototype.tooltip_mount_reposition_callback=function(e){var n="0px";this.isPreviewSidebarOpened()&&(n=this.mustAlignSubmenuToCenter()?"0px":"-63px"),t(e.popper).find(".tippy-box").css(s.Tools.textDirection,n)},n.prototype.tooltip_mount_reposition_callback2=function(e){var n="0px";this.isPreviewSidebarOpened()&&(n=this.mustAlignSubmenuToCenter()?"0px":"-108px"),t(e.popper).find(".tippy-box").css(s.Tools.textDirection,n)},Object.defineProperty(n.prototype,"strokeWidthInputDom",{get:function(){return this.submenu.find('[data-name="strokeWidth"] .editpdf__submenu__input-number')},enumerable:!1,configurable:!0}),n.prototype.updateAvailabilityOfStrokeWidthInput=function(t){t.match("transparent")?(this.strokeWidthInputDom.addClass("disabled"),this.tippy_noBorderColorApplied.enable()):(this.strokeWidthInputDom.removeClass("disabled"),this.tippy_noBorderColorApplied.disable())},n}(o.SubmenuBase);e.SubmenuRect=c}).call(this,n(1))},function(t,e,n){"use strict";(function(t){var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.SubmenuEllipse=void 0;var o=n(209),a=n(8),s=n(17),c=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.tippy_noBorderColorApplied=null,t}return r(n,e),n.prototype.compose=function(){var t=this,e=this.block.bind(this),n=this.canvasObject;return e("fillAndStrokeColor",function(e){t.colorPalette("fillColor","getDefaultAvailableColors","canvasObject.fillColor",{tooltip:t.fillColorTooltip(),tooltip_mount_reposition_callback:t.tooltip_mount_reposition_callback.bind(t)}),t.colorPalette("strokeColor","getDefaultAvailableColors","canvasObject.strokeColor",{tooltip:t.strokeColorTooltip(),tooltip_mount_reposition_callback:t.tooltip_mount_reposition_callback2.bind(t)})}),e("opacity",function(e){t.selectElement("opacity","getOpacityCollection","canvasObject.opacity",{leftsideIcon:"opacityCheckerboard",tooltip:t.opacityTooltip()})}),e("strokeWidth",function(e){var i="transparent"===n.strokeColor;t.inputNumberElement("strokeWidth",{from:1,to:50,unit:"pt"},"canvasObject._strokeWidth_x1",{leftIcon:"strokeWidth",disabled:i,tooltip:t.strokeTooltip()}),t.tippy_noBorderColorApplied=t.addTooltip(t.currBlock,{text:a.Lang.t("tooltip_noBorderColorApplied"),allowOnWrapper:!0}),t.afterRenderCallbacks.push(function(){var e=t.canvasObject.strokeColor;t.updateAvailabilityOfStrokeWidthInput(e)})}),this.onInternalEvent("color_palette:change",function(e){"strokeColor"===e.eventOriginator&&t.updateAvailabilityOfStrokeWidthInput(e.newValue)}),this.blocks},n.prototype.tooltip_mount_reposition_callback=function(e){var n="0px";this.isPreviewSidebarOpened()&&(n=this.mustAlignSubmenuToCenter()?"0px":"-63px"),t(e.popper).find(".tippy-box").css(s.Tools.textDirection,n)},n.prototype.tooltip_mount_reposition_callback2=function(e){var n="0px";this.isPreviewSidebarOpened()&&(n=this.mustAlignSubmenuToCenter()?"0px":"-108px"),t(e.popper).find(".tippy-box").css(s.Tools.textDirection,n)},Object.defineProperty(n.prototype,"strokeWidthInputDom",{get:function(){return this.submenu.find('[data-name="strokeWidth"] .editpdf__submenu__input-number')},enumerable:!1,configurable:!0}),n.prototype.updateAvailabilityOfStrokeWidthInput=function(t){t.match("transparent")?(this.strokeWidthInputDom.addClass("disabled"),this.tippy_noBorderColorApplied.enable()):(this.strokeWidthInputDom.removeClass("disabled"),this.tippy_noBorderColorApplied.disable())},n}(o.SubmenuBase);e.SubmenuEllipse=c}).call(this,n(1))},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.SubmenuText=void 0;var o=n(209),a=n(281),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.compose=function(){var t=this,e=this.block.bind(this);return e("fontFamilyAndSize",function(e){t.selectElement("fontFamily","getAvailableFonts","canvasObject.fontFamily",{leftsideIcon:"fontFamily"}),t.selectElement("fontSize","getAvailableFontSizes","canvasObject.fontSize",{leftsideIcon:"fontSize"})}),e("fontTransformationsAndColor",function(e){t.switchButton("isBold","canvasObject.isBold",{innerIcon:"textBold",tooltip:t.textBoldTooltip()}),t.switchButton("isItalics","canvasObject.isItalics",{innerIcon:"textItalics",tooltip:t.textItalicTooltip()}),t.switchButton("isUnderline","canvasObject.isUnderline",{innerIcon:"textUnderline",tooltip:t.textUnderlineTooltip()}),t.colorPalette("textFillColor","getDefaultAvailableColors","canvasObject.textFillColor",{innerIcon:"textFillColor",tooltip:t.textColorTooltip()}),t.colorPalette("textBackgroundColor","getDefaultAvailableColors","canvasObject.textBackgroundColor",{innerIcon:"textBackgroundColor",tooltip:t.textBgColorTooltip()})}),e("alignment",function(e){t.contextualMenu("textAlignment","getAlignmentCollection","canvasObject.textAlignment",{tooltip:t.textAlignTooltip()})}),e("opacity",function(e){t.selectElement("opacity","getOpacityCollection","canvasObject.opacity",{leftsideIcon:"opacityCheckerboard",tooltip:t.opacityTooltip()})}),this.blocks},e.prototype.getAlignmentCollection=function(){return{left:a.IconRepository.textLeftAlignment(),center:a.IconRepository.textCenterAlignment(),right:a.IconRepository.textRightAlignment()}},e.prototype.updateFontFamily=function(){var t=this.canvasObject,e=this.getAvailableFonts(),n=this.submenu.find("#fontFamily_select");if(n.length<=0)throw"[Editpdf][Submenu] FontFamily select DOM not found";for(var i in e){n.find("option[value='"+i+"']").prop("disabled",!1===e[i].enabled)}n.val(t.fontFamily)},e}(o.SubmenuBase);e.SubmenuText=s},function(t,e,n){"use strict";(function(t){var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.SubmenuLine=void 0;var o=n(209),a=n(17),s=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.compose=function(){var t=this,e=this.block.bind(this);return e("strokeColor",function(e){t.colorPalette("strokeColor","getDefaultAvailableColors","canvasObject.strokeColor",{displayColorSampleAsFillColor:!0,tooltip:t.colorTooltip(),tooltip_mount_reposition_callback:t.tooltip_mount_reposition_callback.bind(t)})}),e("strokeWidth",function(e){t.inputNumberElement("strokeWidth",{from:1,to:50,unit:"pt"},"canvasObject._strokeWidth_x1",{leftIcon:"strokeWidth",tooltip:t.strokeTooltip()})}),this.blocks},n.prototype.tooltip_mount_reposition_callback=function(e){var n="0px";this.isPreviewSidebarOpened()&&(n=this.mustAlignSubmenuToCenter()?"0px":"-63px"),t(e.popper).find(".tippy-box").css(a.Tools.textDirection,n)},n}(o.SubmenuBase);e.SubmenuLine=s}).call(this,n(1))},function(t,e,n){"use strict";(function(t){var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.SubmenuFreehand=void 0;var o=n(209),a=n(17),s=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.compose=function(){var t=this,e=this.block.bind(this);return e("fillAndStrokeColor",function(e){t.colorPalette("strokeColor","getDefaultAvailableColors","canvasObject.strokeColor",{displayColorSampleAsFillColor:!0,tooltip:t.colorTooltip(),tooltip_mount_reposition_callback:t.tooltip_mount_reposition_callback.bind(t)})}),e("strokeWidth",function(e){t.inputNumberElement("strokeWidth",{from:1,to:50,unit:"pt"},"canvasObject.userStrokeWidth",{leftIcon:"strokeWidth",tooltip:t.strokeTooltip()})}),e("rotation",function(e){t.canvasObject.isObjectFinished&&(t.actionButton("rotateLeft",function(){t.canvasObject.rotateLeft()},{innerIcon:"rotateLeft",tooltip:t.rotateLeftTooltip()}),t.actionButton("rotateRight",function(){t.canvasObject.rotateRight()},{innerIcon:"rotateRight",tooltip:t.rotateRightTooltip()}))}),e("confirmDrawing",function(e){t.canvasObject.isObjectFinished||(t.actionButton("confirmDrawing",t.action_finalizeDrawing.bind(t),{innerIcon:"freehandCheck",tooltip:t.applyDrawTooltip()}),t.afterRenderCallbacks.push(function(){!0!==t.canvasObject.interactiveMode.noLongerEmpty&&t.confirmDrawingElem.closest(".editpdf__menu__block").hide()}))}),this.onInternalEvent("interactive:no_longer_empty",function(e){t.confirmDrawingElem.closest(".editpdf__menu__block").show()}),this.blocks},n.prototype.action_finalizeDrawing=function(){this.triggerEvent("editor:finalize_interactive_mode")},Object.defineProperty(n.prototype,"confirmDrawingElem",{get:function(){return this.submenu.find(".confirmDrawing")},enumerable:!1,configurable:!0}),n.prototype.tooltip_mount_reposition_callback=function(e){var n="0px";this.isPreviewSidebarOpened()&&(n=this.mustAlignSubmenuToCenter()?"0px":"-62px"),t(e.popper).find(".tippy-box").css(a.Tools.textDirection,n)},n}(o.SubmenuBase);e.SubmenuFreehand=s}).call(this,n(1))},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.SubmenuShapeSelector=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.compose=function(){var t=this;return this.showRecycleBin=!1,this.alwaysBlockAlign=!0,this.block.bind(this)("allShapes",function(e){t.actionButton("selectLine",function(){t.selectLine()},{innerIcon:"shapeLine",tooltip:t.getTooltip("addLine")}),t.actionButton("selectRect",function(){t.selectRect()},{innerIcon:"shapeRect",tooltip:t.getTooltip("addRect")}),t.actionButton("selectEllipse",function(){t.selectEllipse()},{innerIcon:"shapeEllipse",tooltip:t.getTooltip("addEllipse")}),t.symbolsMenu("selectSymbols",{innerIcon:"symbols",tooltip:t.getTooltip("addSymbol")})}),this.blocks},e.prototype.selectLine=function(){this.menu.onMenuItemClick("line")},e.prototype.selectEllipse=function(){this.menu.onMenuItemClick("ellipse")},e.prototype.selectRect=function(){this.menu.onMenuItemClick("rect")},e}(n(209).SubmenuBase);e.SubmenuShapeSelector=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.SubmenuSymbol=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.compose=function(){var t=this,e=this.block.bind(this);return e("opacity",function(e){t.selectElement("opacity","getOpacityCollection","canvasObject.opacity",{leftsideIcon:"opacityCheckerboard",tooltip:t.opacityTooltip()})}),e("rotation",function(e){t.actionButton("rotateLeft",function(){t.canvasObject.rotateLeft()},{innerIcon:"rotateLeft",tooltip:t.rotateLeftTooltip()}),t.actionButton("rotateRight",function(){t.canvasObject.rotateRight()},{innerIcon:"rotateRight",tooltip:t.rotateRightTooltip()})}),this.blocks},e}(n(209).SubmenuBase);e.SubmenuSymbol=o},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.LayersPanel=void 0;var i=n(17),r=n(281),o=n(8),a=function(){function e(t){if(this.layerCreationCounter={},this.currNumOfElemsOnScreen=0,this.highestNumOfElemsOnScreen=0,this.createdPageSections={},this.numLayers=0,this.container=t,0==this.container.length)throw"[Editpdf][Layers panel] Layers container not found";this.initEventListeners(),this.initResetAllButton()}return e.prototype.initResetAllButton=function(){var t=this;this.removeAllLayersBtn.find(".link--cancel").click(function(){t.deleteAllCanvasObjects()})},e.prototype.addLayer=function(t){this.log("New layer created");var e=t.pdfPage.pageNumber,n=this.fetchPageSection(e);n||(n=this.createPageSection(e));var i=this.getTemplate("layer");i.attr("data-canvas-object-id",t.id),i.attr("data-canvas-object-type",t.type),this.initLayer(i,t);var r=n.find(".unfinished-canvas-object");if(r.length>0){i.insertAfter(r);var o=i.closest(".page-section").find(".layer").map(function(t,e){return e.getAttribute("data-canvas-object-id")}).toArray();this.triggerCustomEvent("editor:canvas_object:rearrange_zindex",{pageNum:e,order:o})}else i.insertAfter(".page-section[data-page='"+e+"'] .marker");this.container.addClass("has-layers"),this.numLayers++},Object.defineProperty(e.prototype,"removeAllLayersBtn",{get:function(){return t("#reset-all-layers-btn")},enumerable:!1,configurable:!0}),e.prototype.getNewLayerNameFor=function(t){var e=t.type;e in this.layerCreationCounter||(this.layerCreationCounter[e]=0);var n=t.isObjectFinished?++this.layerCreationCounter[e]:"";return(o.Lang.t("layer_new_"+t.type)+" "+n).trim()},e.prototype.initLayer=function(t,e){var n=this,r=t.find(".layer__icon"),a=t.find(".layer__input"),s=t.find(".layer__edit"),c=t.find(".layer__trash");e.isObjectFinished||t.addClass("unfinished-canvas-object"),e.isCreatedViaUserInteraction()&&!e.isObjectFinished&&t.addClass("interactive-mode"),r.append(this.getToolIconFor(e)),a.val(this.getNewLayerNameFor(e)),this.disableInputForLayer(t),this.addTooltip(t.find(".layer__icon--drag"),{text:o.Lang.t("tooltip_layerReorder")}),this.addTooltip(s,{text:o.Lang.t("tooltip_layerRename"),constructorParams:{onHidden:function(t){a.prop("disabled")?t.setContent(o.Lang.t("tooltip_layerRename")):t.setContent(o.Lang.t("tooltip_layerConfirmRename"))}}}),this.addTooltip(c,{text:o.Lang.t("tooltip_removeLayer")}),t.find(".layer__edit").click(this.handleEditClick.bind(this)),t.find(".layer__trash").click(this.handleTrashClick.bind(this)),t.click(this.handleSetActiveElement.bind(this)),t.find(".input").keyup(this.handleEnterKeyOnInput.bind(this)),t.dblclick(this.handleScrollToViewObject.bind(this)),t.find(".layer__input").on("input",function(e){t.attr("data-pristine","false")}),a.closest(".form__group").dblclick(function(){n.enableInputForLayer(t),i.Tools.setInputCursorAtTheEnd(a)})},e.prototype.handleTrashClick=function(e){var n=t(e.currentTarget).closest(".layer"),i=new CustomEvent("canvas_object:remove_request",{detail:{canvasObject:n.attr("data-canvas-object-id")}});window.dispatchEvent(i)},e.prototype.removeLayer=function(t){this.log("Removing layer created");var e=t.pdfPage.pageNumber,n=this.fetchPageSection(e),i=this.getLayerForCanvasObject(t);i&&(i.detach(),n.children().not(".marker").length<=0&&this.removePageSection(e),this.numLayers--,0===this.numLayers&&this.container.removeClass("has-layers"))},e.prototype.deleteAllCanvasObjects=function(){this.container.find(".layer");var t=new CustomEvent("canvas_object:remove_request:all",{detail:{}});window.dispatchEvent(t)},e.prototype.addTooltip=function(t,e){var n=t;return e.on&&(n=t.find(e.on)),e.constructorParams||(e.constructorParams={}),window.tippy(n[0],Object.assign({content:e.text,arrow:!0,animation:"fade"},e.constructorParams)),n[0]._tippy},e.prototype.initSortableLayers=function(e){var n=this;new window.Sortable(e[0],{animation:200,handle:".layer__icon--drag",draggable:".layer",onUpdate:function(t){},onStart:function(t){},onEnd:function(e){var i=t(e.item),r=i.closest(".page-section[data-page]").attr("data-page"),o=i.closest(".page-section").find(".layer").map(function(t,e){return e.getAttribute("data-canvas-object-id")}).toArray();n.triggerCustomEvent("editor:canvas_object:rearrange_zindex",{pageNum:r,order:o})}})},e.prototype.handleScrollToViewObject=function(e){var n=t(e.target);if(n.is(".layer")||n.is(".layer-content")||n.is(".layer__icon")||n.closest(".layer__icon").length>0){var i=t(e.currentTarget),r=i.closest(".page-section[data-page]").attr("data-page");this.triggerCustomEvent("editor:canvas_object:scroll_to_view",{canvasObject:i.attr("data-canvas-object-id"),pageNum:r})}},e.prototype.handleEnterKeyOnInput=function(e){13===e.keyCode&&this.disableInputForLayer(t(e.currentTarget).closest(".layer"))},e.prototype.handleSetActiveElement=function(e){var n=t(e.currentTarget);if(!t(e.target).hasClass("layer__icon--drag")){var i=n.attr("data-canvas-object-id");if(i!==(this.activeLayer?this.activeLayer.attr("data-canvas-object-id"):null)){var r=n.closest(".page-section[data-page]").attr("data-page");this.triggerCustomEvent("canvas_object:selected",{canvasObject:i,pageNum:r})}}},e.prototype.handleEditClick=function(e){var n=t(e.currentTarget).closest(".layer"),i=n.find(".input");i.attr("disabled")?this.enableInputForLayer(n):this.disableInputForLayer(n),i.focus()},e.prototype.getLayerForCanvasObject=function(t){var e=this.container.find("[data-canvas-object-id='"+t.id+"']");return 0===e.length?null:e},e.prototype.getToolIconFor=function(t){var e=t.type,n=null;switch(e){case"rect":case"ellipse":case"line":case"freehand":case"symbol":n=r.IconRepository.layerThumbnailShape();break;case"text":n=r.IconRepository.layerThumbnailText();break;case"img":n=r.IconRepository.layerThumbnailImage()}if(!n)throw"[Editpdf][Layers panel] Unknown tool icon for "+e;return n},e.prototype.pageSectionExists=function(t){return null!==this.fetchPageSection(t)},e.prototype.createPageSection=function(t){var e=this.getTemplate("page-section"),n=this.container.find(".wrapper .layers");e.attr("data-page",t),e.html("<div class='marker'>"+o.Lang.t("layer_pageSection")+" "+t+"</div>");var i=Object.keys(this.createdPageSections).map(function(t){return Number(t)}).filter(function(e){return e<t}).sort(function(t,e){return t-e});if(0===i.length)n.prepend(e);else{var r=i.pop();e.insertAfter(".layers .page-section[data-page='"+r+"']")}return this.log("Creating page section "+t),this.initSortableLayers(e),this.createdPageSections[t]=!0,e},e.prototype.removePageSection=function(t){var e=this.fetchPageSection(t);e&&(e.detach(),delete this.createdPageSections[t],this.log("Removing page section "+t))},e.prototype.fetchPageSection=function(t){var e=this.container.find(".layers .page-section[data-page='"+t+"']");return 0===t?null:e.length>0?e.eq(0):null},e.prototype.getTemplate=function(e){if("layer"==e)return t("\n      <div data-canvas-object-id='' class='layer' data-pristine=\"true\">\n        <span class=\"layer__icon--drag\">"+r.IconRepository.layersIcoDragSm()+'</span>\n        <div class=\'layer__content\'>\n          <div class="layer__icon"></div>\n          <div class="form__group form__group--input editpdf-selectable-text"><input class="layer__input input" type=\'text\'></div>\n          <div class="layer__edit">\n            <div class=\'enable-input unhide\'>'+r.IconRepository.layersPanelPencil()+"</div>\n            <div class='disable-input'><div class=\"btn-icon btn-icon--sm btn-icon--white\">"+r.IconRepository.layersPanelRightArrow()+'</div></div>\n          </div>\n          <div class="layer__trash">\n            '+r.IconRepository.layersPanelTrash()+"\n          </div>\n        </div>\n      </div>\n    ");if("page-section"==e)return t("<section class='page-section'>");throw"[Editpdf][Layers panel] Unknown template "+e},e.prototype.triggerCustomEvent=function(t,e){void 0===e&&(e={});var n=new CustomEvent(t,{detail:e});window.dispatchEvent(n)},e.prototype.setActiveLayerForCanvasObject=function(t){(this.activeLayer&&(this.disableInputForLayer(this.activeLayer),this.activeLayer.removeClass("active")),t)&&this.container.find("[data-canvas-object-id='"+t.id+"']").addClass("active")},Object.defineProperty(e.prototype,"activeLayer",{get:function(){var t=this.container.find(".layer.active");return t.length>0?t:null},enumerable:!1,configurable:!0}),e.prototype.checkInfoMessages=function(){this.highestNumOfElemsOnScreen>=4?t(".info.info--upToFourElements").hide():this.highestNumOfElemsOnScreen>=1&&(t(".info.info--noElements").hide(),t(".info.info--upToFourElements").show())},Object.defineProperty(e.prototype,"layersContainer",{get:function(){return this._layersContainer||(this._layersContainer=this.container.find(".wrapper .layers")),this._layersContainer},enumerable:!1,configurable:!0}),e.prototype.doesLayerExist=function(t){return this.layersContainer.find(".layer[data-canvas-object-id="+t+"]").length>0},e.prototype.handleAddLayer=function(t){this.doesLayerExist(t.id)||(this.addLayer(t),this.currNumOfElemsOnScreen++,this.currNumOfElemsOnScreen>this.highestNumOfElemsOnScreen&&(this.highestNumOfElemsOnScreen=this.currNumOfElemsOnScreen),this.checkInfoMessages())},e.prototype.handleStoreLastMouseDownTarget=function(t){this.lastMouseDownTarget=t.target},e.prototype.initEventListeners=function(){var e=this;window.addEventListener("canvas_object:created",function(t){var n=t.detail.canvasObject;!0!==t.detail.interactiveMode&&e.handleAddLayer(n)}),window.addEventListener("canvas_object:removed",function(t){e.removeLayer(t.detail.canvasObject),e.currNumOfElemsOnScreen--,e.checkInfoMessages()}),window.addEventListener("editor:interactive:no_longer_empty",function(t){var n=t.detail.canvasObject;e.handleAddLayer(n)}),window.addEventListener("editor:active_canvas_object:change",function(t){e.setActiveLayerForCanvasObject(t.detail.canvasObject)}),window.addEventListener("canvas_object:text:input",function(e){var n=e.detail.canvasObject,i=e.detail.text.trim(),r=t(".tool__sidebar .layers [data-canvas-object-id='"+n.id+"']");"true"===r.attr("data-pristine")&&r.find(".layer__input").val(i.substring(0,50))}),t(window).mousedown(this.handleStoreLastMouseDownTarget.bind(this)),t(window).mouseup(this.handleDisableInputOnMouseUp.bind(this)),window.addEventListener("canvas_object:interactive_object_finished",function(t){var n=t.detail.canvasObject,i=e.getLayerForCanvasObject(n);i&&i.removeClass("interactive-mode")}),window.addEventListener("canvas_object:interactive_object_finished",function(t){var n=t.detail.canvasObject;if(!n.markedForDestruction){if(!n.isObjectFinished)throw"[Editpdf] Canvas Object should be finished";var i=e.getLayerForCanvasObject(n);if(i){i.removeClass("unfinished-canvas-object");var r=++e.layerCreationCounter[n.type];e.appendToLayerName(i," "+r)}}})},e.prototype.appendToLayerName=function(t,e){var n=t.find(".layer__input"),i=n.val();i+=e,n.val(i)},e.prototype.handleDisableInputOnMouseUp=function(e){var n=t(e.target);if(!(n.is(".layer")||n.closest(".layer").length>0)){var i=t(this.lastMouseDownTarget),r=i.is(".editpdf-selectable-text")||i.closest(".editpdf-selectable-text").length>0,o=i.closest("[data-canvas-object-id]").attr("data-canvas-object-id");if(this.activeLayer){if(r&&o&&this.activeLayer.attr("data-canvas-object-id")===o)return;this.disableInputForLayer(this.activeLayer)}}},e.prototype.enableInputForLayer=function(t){var e=t.find(".layer__edit"),n=t.find(".form__group--input"),i=t.find(".input");e.find(".enable-input,.disable-input").removeClass("unhide"),e.find(".disable-input").addClass("unhide"),e.addClass("layer__edit--enabled"),n.removeAttr("disabled"),i.removeAttr("disabled")},e.prototype.disableInputForLayer=function(t){var e=t.find(".layer__edit"),n=t.find(".form__group--input"),i=t.find(".input");e.find(".enable-input,.disable-input").removeClass("unhide"),e.find(".enable-input").addClass("unhide"),e.removeClass("layer__edit--enabled"),n.attr("disabled","disabled"),i.attr("disabled","disabled")},e.prototype.log=function(t){},e}();e.LayersPanel=a}).call(this,n(1))},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.ImageUploader=void 0;var i=n(74),r=n(107),o=n(98),a=n(109),s=n(64),c=function(){function e(t){this.uploadedObjects={},this.promises_pendingObjectsToBeUploaded={},this.menu=t,this.init(),this.limits=t.editor.optionsInstance.limits}return e.prototype.init=function(){var t=window;this.files=new i.FileStack,this.imageUploader=new r.PluploadUpload({id:"uploadImageBtn",container:"imgUploaderContainer",optionsManager:this,config:new o.Config({tool:"editpdf",subtool:"editpdf",config:{editpdf:{mimeTypes:[{title:"Image files",extensions:"png,jpg,jpeg,jfif,gif"}],multiSelection:!1}}}),files:this.files,workerServer:t.ilovepdf.processManager.workerServer,tool:"editpdf",servers:[],token:t.ilovepdf.processManager.token,taskId:t.ilovepdf.processManager.taskId,ignoreFiles:!0})},e.prototype.changeServer=function(t){},e.prototype.timeout=function(){},e.prototype.checkLimits=function(t,e){return t},e.prototype.fileUploaded=function(t,e){var n=this;this.files.updateFile(t,e),this.files.getFile(t).reUploaded&&(this.promises_pendingObjectsToBeUploaded[t]=Promise.resolve()),this.promises_pendingObjectsToBeUploaded[t].then(function(){var e=n.uploadedObjects[t];e.bag.uploader.server_filename=n.files.getFile(t).server_filename,e.bag.uploader.uploaded=!0,delete n.promises_pendingObjectsToBeUploaded[t]})},e.prototype.allFilesHaveBeenAddedToUploader=function(){return!0},e.prototype.fileAdded=function(e,n,i){var r=this,o="editpdf_img_"+e.id,c=t('<img id="'+o+"\" class='editpdf_uploaded_img'>");t(document.body).append(c);var l=e.getSource().getSource(),u=new Promise(function(n,i){(new a.ImageView).renderImage(l,o,!0).then(function(a){e.width=a.width,e.height=a.height;var c=document.getElementById(o);c.classList.add("hidden");var l=function(i){var o=r.editor.createCanvasObjectInActivePage("img",{imgDom:t(c)});o.bag.uploader||(o.bag.uploader={}),r.uploadedObjects[e.id]=o,o.bag.uploader.uploaderName="ImageUploader",o.bag.uploader.uploaded=!1,n(a)};s.isIE11()?l():(c.onload=function(t){l()},c.onerror=function(t){i(t)})},function(t){i(t)})});return this.promises_pendingObjectsToBeUploaded[e.id]=u,u},Object.defineProperty(e.prototype,"editor",{get:function(){return this.menu.editor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uploader",{get:function(){return this.imageUploader},enumerable:!1,configurable:!0}),e.prototype.triggerEvent=function(t,e){void 0===e&&(e={});var n=new CustomEvent(t,{detail:e});window.dispatchEvent(n)},e.prototype.fileChanged=function(t){},e}();e.ImageUploader=c}).call(this,n(1))},function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasObjectExporter=void 0;var a=n(8),s=n(279),c=n(17),l=o(n(16)),u=function(){function t(t){this.usePdfCoordFrame=!0,this.sendCoordsAsPercentage=!1,this.overridden_coords_x1=null,this.overridden_size_x1=null,this.overridden_text=null,this.canvasObj=t}return t.prototype.export=function(){var t=this.canvasObj;if(t.isFormObject)return this.exportFormObject();var e={canvas_obj_id:this.canvasObj.id,cloned_element:this.canvasObj.cloned?1:0,type:this.type,gravity:"Center",coordinates:this.coords,dimensions:this.dimensions,opacity:100*t.opacity,rotation:this.rotation,zindex:this.zindex,pages:this.pageNumber};return"text"===this.type&&this.addTextProps(e),e},t.prototype.exportFormObject=function(){var t=this.canvasObj,e=null;switch(t.pdfFormField.typeOfField){case"textbox":case"radiobutton":case"combobox":case"combtext":e=t.exportValue?t.exportValue:"";break;case"checkbox":e=t.exportValue?"on":"off";break;case"choice":throw"[Editpdf][CanvasObjectExporter] To be implemented export value for type '"+t.pdfFormField.typeOfField+"'";case"listbox":e=t.exportValue;break;default:throw"[Editpdf][CanvasObjectExporter] Do not know how to export value for type '"+t.pdfFormField.typeOfField+"'"}return{fieldName:t.pdfFormField.fieldId,fieldValue:e}},t.prototype.addTextProps=function(t){window.peditor;var e=this.canvasObj;if(t.text=this.overridden_text,!e.fontFamily){if(e.setWritingSystems(t.text,!1),!e.fontFamily)try{e.reassignFontFamilyIfNecessary()}catch(t){l.captureMessage("Editpdf: Reassigning fontFamily threw an error")}e.fontFamily||(l.captureMessage("Editpdf: Font family was null and despite tryint to find an eligible font it was not possible to find one. Falling back to default font"),e.fontFamily=a.Lang.FALLBACK_FONT_FAMILY)}c.Tools.isTextRTL(t.text)&&(t.text=t.text.split("").reverse().join("")),t.text_align=e.textAlignment,t.font_size=e.fontSize/this.pxMag,t.font_color=e.textFillColor,t.font_family=e.fontFamily,t.background_color=e.textBackgroundColor,t.letter_spacing=e.letterSpacing/this.pxMag,t.line_height=e.lineHeight*e.fontSize/this.pxMag,t.underline_text=e.isUnderline?1:0,t.text_rectangle={w:this.dimensions.w,h:this.dimensions.h,x:this.coords.x,y:this.coords.y,units:this.sendCoordsAsPercentage?"percentage":"pixels",coord_frame:this.usePdfCoordFrame?"pdf":"screen"};var n="Regular";e.isBold&&e.isItalics?n="Bold Italic":e.isBold?n="Bold":e.isItalics&&(n="Italic"),t.font_style=n},Object.defineProperty(t.prototype,"zindex",{get:function(){return this.canvasObj.zindex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"server_filename",{get:function(){if("text"===this.type)return null;var t=this.canvasObj.bag.uploader.server_filename;if(!t||t.length<=0)throw"[Editpdf] Server filename not present in canvas object with ID '"+this.canvasObj.id+"'";return t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size_x1",{get:function(){var t;return(t=this.overridden_size_x1?{w:this.overridden_size_x1.w,h:this.overridden_size_x1.h}:this.canvasObj.getSize_x1()).w/=this.pxMag,t.h/=this.pxMag,t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"coords_x1",{get:function(){if(this.overridden_coords_x1)return{x:this.overridden_coords_x1.x,y:this.overridden_coords_x1.y};var t=this.canvasObj.getCoords_x1();return{x:t.x,y:t.y}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dimensions",{get:function(){this.canvasObj;var t=this.size_x1;return{w:t.w,h:t.h}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pdfPage_dimensions_x1",{get:function(){return this.pdfPage.originalDimensions_inPoints},enumerable:!1,configurable:!0}),t.prototype.toPositiveDegrees=function(t){return t>=0?t:360-Math.abs(t)},t.prototype.reflect=function(t){return t>0?360-t:0},Object.defineProperty(t.prototype,"rotation",{get:function(){var t=this.canvasObj.rotation;return t=this.toPositiveDegrees(t),t=this.reflect(t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pxMag",{get:function(){return this.pdfPage.pixelMagnification},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"coords",{get:function(){var t=this.coords_x1,e=this.pdfPage_dimensions_x1,n=s.CoordUtils.rotatePoint,i=this.canvasObj.rotation,r=this.canvasObj.centerPoint_x1;return i>0&&(t=n(-1*i,t,r)),t.x/=this.pxMag,t.y/=this.pxMag,this.usePdfCoordFrame&&(t.y=e.h-t.y,t.y-=this.size_x1.h),this.sendCoordsAsPercentage&&(t.x/=e.w,t.y/=e.h),{units:this.sendCoordsAsPercentage?"percentage":"pixels",coord_frame:this.usePdfCoordFrame?"pdf":"screen",x:t.x,y:t.y}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){if(this.isSvg)return"svg";switch(this.canvasObj.type){case"img":return"image";case"text":return"text";case"svg_object":return"svg";default:throw"[Editpdf][CanvasObjectExporter] Not identifiable type '"+this.canvasObj.type+"'"}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pdfPage",{get:function(){return this.canvasObj.pdfPage},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageNumber",{get:function(){return this.pdfPage.pageNumber},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSvg",{get:function(){return null!==this.canvasObj.extractSvg()},enumerable:!1,configurable:!0}),t}();e.CanvasObjectExporter=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorConfig=void 0;var i=n(41),r=function(){return function(t){this.formsEnabled="production"!==i.Settings.mode(),this.emptyFormInputs="production"!==i.Settings.mode(),this.filesKeepAliveInterval_ms=3e5,this.firstRender_pages_rendered_num=15,this.x1_pageDpi=150,this.previewPageDpi=50,this.defaultPageLayoutMode="single",this.viewportMinZoom=.05,this.viewportMaxZoom=20,this.aroundWorkAreaMargin=48,Object.assign(this,t)}}();e.EditorConfig=r},function(t,e,n){"use strict";(function(t){var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((i=i.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.PdfRenderer=void 0;var o=n(17),a=n(184),s=function(){function e(e,n){this.isPreviewPageRendered=function(e){return void 0!==t(".preview__page[data-page='"+e+"'] img").attr("src")},this.file=e,this.taskId=n.taskId,this.config=n.config,this.lowLevelRenderer=new a.PdfrenderView({workerServer:n.renderServer,files:void 0})}return e.prototype.renderPreviewPages=function(t,e){this.file;var n=this.fileNumPages,i=this.isPreviewPageRendered,r=o.Tools.keepInNumericBounds;t=r(1,n,t),e=r(1,n,e);for(var a=t;a<=e;a++)i(a)||this._renderPreview(a)},e.prototype.renderPage=function(e,n){return void 0===n&&(n=this.config.x1_pageDpi),i(this,void 0,void 0,function(){var i,o,a,s;return r(this,function(r){return i=this.taskId,o=null,a=this.file.server_filename.replace(".pdf",""),s=document.getElementById("page_"+this.file.id+"_"+e),t(".file_"+this.file.id+'[data-page="'+e+'"]').show(),this.lowLevelRenderer.renderPage(i,a,e,s,n,o,{resetForms:this.config.emptyFormInputs}),[2]})})},Object.defineProperty(e.prototype,"renderServer",{get:function(){return this.lowLevelRenderer.workerServer},set:function(t){this.lowLevelRenderer.workerServer=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fileNumPages",{get:function(){return parseInt(this.file.pages)},enumerable:!1,configurable:!0}),e.prototype._renderPreview=function(t,e){return void 0===e&&(e=this.config.previewPageDpi),i(this,void 0,void 0,function(){var n,i,o;return r(this,function(r){return n=this.taskId,i=this.file.server_filename.replace(".pdf",""),o=document.getElementById("preview_"+this.file.id+"_"+t),this.lowLevelRenderer.renderPage(n,i,t,o,e),[2]})})},e}();e.PdfRenderer=s}).call(this,n(1))}]);